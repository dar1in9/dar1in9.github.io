[{"title":"MongoDBä¿å­˜æ•°æ®çš„ä¼˜åŒ–æ–¹æ³•","date":"2018-12-18T10:53:31.000Z","path":"2018/12/18/MongoDBä¿å­˜æ•°æ®çš„ä¼˜åŒ–æ–¹æ³•/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåä¹ç¯‡åŸåˆ›æ–‡ç«  MongoDBä¿å­˜æ•°æ®çš„ä¼˜åŒ–æ–¹æ³• (à¹‘â€¢ . â€¢à¹‘) è¿™ä¸¤å¤©é¢‘ç¹é‡åˆ°MongoDBæ’å…¥æ•°æ®çš„é—®é¢˜ï¼Œè¿™é‡Œè®°å½•ä¸‹ã€‚ é—®é¢˜æè¿°ï¼šæˆ‘æœ‰å¤šä¸ªçº¿ç¨‹åœ¨æŠ“æ•°æ®ï¼Œæ¯å¤©æ•°æ®é‡Œæœ‰å«æœ‰å¤šä¸ªæ–‡æ¡£ï¼ˆDocumentï¼‰ï¼Œä½¿ç”¨Pymongoçš„æ’å…¥æ–¹æ³•ï¼Œé€æ¡æ’å…¥ã€‚å½¢å¦‚ä¸‹ 123def save_to_mongo(data): for i in data: db.insert_one(i) åœ¨æ¥æ”¶åˆ°æ•°æ®åç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•å³å¯ã€‚ä½†æ˜¯è¿ç»´é‚£è¾¹åé¦ˆï¼Œæ•°æ®åº“å‹åŠ›æ¯”è¾ƒå¤§ï¼Œè®©æˆ‘ä¿®æ”¹ã€‚ä»”ç»†æƒ³äº†æƒ³ï¼Œå¯ä»¥ä½¿ç”¨insert_manyæ–¹æ³•ã€‚ æ’å…¥å¯è¿­ä»£çš„æ–‡æ¡£ 1234567&gt;&gt;&gt; db.test.count_documents(&#123;&#125;)0&gt;&gt;&gt; result = db.test.insert_many([&#123;'x': i&#125; for i in range(2)])&gt;&gt;&gt; result.inserted_ids[ObjectId('54f113fffba522406c9cc20e'), ObjectId('54f113fffba522406c9cc20f')]&gt;&gt;&gt; db.test.count_documents(&#123;&#125;)2 æœ‰å‡ ä¸ªå‚æ•°éœ€è¦äº†è§£ documents: å¯è¿­ä»£æ–‡æ¡£ ordered :ï¼ˆå¯é€‰ï¼‰å¦‚æœâ€œTrueâ€ï¼ˆé»˜è®¤ï¼‰æ–‡æ¡£å°†æŒ‰é¡ºåºæ’å…¥æœåŠ¡å™¨ï¼ŒæŒ‰æä¾›çš„é¡ºåºã€‚ å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™ä¸­æ­¢æ‰€æœ‰å‰©ä½™æ’å…¥ã€‚ å¦‚æœä¸ºâ€œFalseâ€ï¼Œæ–‡æ¡£å°†ä»¥ä»»æ„é¡ºåºæ’å…¥æœåŠ¡å™¨ï¼Œå¯èƒ½å¹¶è¡Œï¼Œå¹¶ä¸”å°†å°è¯•æ‰€æœ‰æ–‡æ¡£æ’å…¥ã€‚ bypass_document_validation: ï¼ˆå¯é€‰ï¼‰å¦‚æœä¸ºâ€œTrueâ€ï¼Œåˆ™å…è®¸å†™å…¥é€‰æ‹©é€€å‡ºæ–‡æ¡£çº§åˆ«éªŒè¯ã€‚ é»˜è®¤ä¸ºâ€œFalseâ€ã€‚ session (optional): a ClientSession. å¥½äº†æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æŠŠæ‰€æœ‰éœ€è¦ä¿å­˜çš„æ•°æ®æš‚æ—¶å­˜æ”¾åœ¨åˆ—è¡¨ä¸­ï¼Œæœ€åå†æ’å…¥ã€‚å»ºè®®åŠ ä¸Šordered=Falseå‚æ•°ï¼Œå¯ä»¥é˜²æ­¢æ•°æ®ä¿å­˜å¼‚å¸¸ã€‚ 12345678910111213141516171819202122def save_mongo(): while True: while len(tmp) &gt; 100: try: c = db[collection_name] c.insert_many(tmp, ordered=False) tmp.clear() except pymongo.errors.BulkWriteError: tmp.clear() except Exception as e: logging.error('mongodb_save insert_many: &#123;&#125;, &#123;&#125;'.format(e, tmp)) time.sleep(3)tmp = []for i in data: tmp.append(i)t_save = threading.Thread(target=save_mongo)t_save.setDaemon(True)t_save.start() æ–°å¼€ä¸€ä¸ªçº¿ç¨‹å»ä¸åœçš„æ£€æŸ¥ï¼Œå¦‚æœåˆ—è¡¨æ•°æ®å¤§äº100ï¼Œåˆ™æ‰¹é‡æ’å…¥ï¼Œæˆ–è€…ç­‰å¾…3ç§’ã€‚ è¿™é‡Œæ•è·pymongo.errors.BulkWriteErrorå¼‚å¸¸ï¼Œå¦‚æœåœ¨insert_manyæ—¶å‘ç”Ÿé”™è¯¯ï¼Œä¼šäº§ç”Ÿè¯¥å¼‚å¸¸ã€‚åœ¨æˆ‘è¿™é‡Œé€šå¸¸æ˜¯æ’å…¥é‡å¤æ•°æ®å¼•èµ·çš„ã€‚ è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œæ˜¯åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ã€‚å¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä¸ªåˆ—è¡¨å¯¹è±¡ï¼Œè‚¯å®šæ˜¯éœ€è¦åŠ é”çš„ï¼Œå¦‚æœä½¿ç”¨Lockæ¥ç®¡ç†æ•°æ®æ’å…¥é—®é¢˜ï¼Œéœ€è¦å»ç»™åˆ—è¡¨åŠ é”ã€‚ä¹‹å‰è¿˜æ²¡ç”¨è¿‡é”ï¼Œè¾¹å»çœ‹çœ‹æ•™ç¨‹ã€‚ 12345678910111213141516171819202122232425import threadingclass SharedCounter: ''' A counter object that can be shared by multiple threads. ''' def __init__(self, initial_value = 0): self._value = initial_value self._value_lock = threading.Lock() def incr(self,delta=1): ''' Increment the counter with locking ''' self._value_lock.acquire() self._value += delta self._value_lock.release() def decr(self,delta=1): ''' Decrement the counter with locking ''' self._value_lock.acquire() self._value -= delta self._value_lock.release() è§‰å¾—å¤ªéº»çƒ¦ï¼Œå¯ä»¥å°†ä¿å­˜æ•°æ®ç­‰æ–¹æ³•å°è£…æˆä¸€ä¸ªç±»å¯¹è±¡ï¼Œå®ä¾‹åŒ–ä¸€ä¸ªåˆ—è¡¨ï¼Œåœ¨æ¯ä¸ªçº¿ç¨‹ä¸­å®ä¾‹åŒ–ä¸€ä¸ªç±»å¯¹è±¡å³å¯ï¼Œè¿™æ ·å¤šä¸ªçº¿ç¨‹ä¸­æ˜¯ä¸ä¼šå…±äº«åˆ—è¡¨æ•°æ®çš„ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ç§æ•°æ®ç»“æ„ï¼šQueueé˜Ÿåˆ—ã€‚Queueæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè‡ªå¸¦é”ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œä¸ç”¨å¯¹é˜Ÿåˆ—åŠ é”æ“ä½œã€‚å¯ä»¥å°†æ•°æ®æš‚æ—¶å­˜å…¥queueï¼Œç„¶åç”¨åˆ—è¡¨å–å‡ºæ¥ï¼Œæ•°é‡å¤§äº100åˆ™æ’å…¥ï¼Œå¹¶æ¸…ç©ºåˆ—è¡¨ã€‚","tags":[{"name":"MongoDB","slug":"MongoDB","permalink":"https://zhangslob.github.io/tags/MongoDB/"}]},{"title":"Pythonå †æ’åºä¹‹heapq","date":"2018-12-05T14:37:54.000Z","path":"2018/12/05/Pythonå †æ’åºä¹‹heapq/","text":"å †æ’åº (à¹‘â€¢ . â€¢à¹‘) 1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåå…«ç¯‡åŸåˆ›æ–‡ç«  Pythonä¸­çš„å †æ’åºheapqæ¨¡å—å®ç°äº†Pythonä¸­çš„å †æ’åºï¼Œå¹¶æä¾›äº†æœ‰å…³æ–¹æ³•ã€‚è®©ç”¨Pythonå®ç°æ’åºç®—æ³•æœ‰äº†ç®€å•å¿«æ·çš„æ–¹å¼ã€‚ heapqçš„å®˜æ–¹æ–‡æ¡£å’Œæºç ï¼šHeap queue algorithm ä¸‹é¢é€šè¿‡ä¸¾ä¾‹çš„æ–¹å¼è¯´æ˜heapqçš„åº”ç”¨æ–¹æ³• å®ç°å †æ’åº123456789101112from heapq import *def heap_sort(iterable): h = [] for value in iterable: heappush(h, value) return [heappop(h) for _ in range(len(h))]if __name__ == '__main__': print(heap_sort([1, 3, 5, 9, 2, 123, 4, 88])) Output: [1, 2, 3, 4, 5, 9, 88, 123] ä¸‹é¢è¯´è¯´å‡ ä¸ªä¸»è¦æ–¹æ³• heappush()heapq.heappush(heap, item):å°†itemå‹å…¥åˆ°å †æ•°ç»„heapä¸­ã€‚å¦‚æœä¸è¿›è¡Œæ­¤æ­¥æ“ä½œï¼Œåé¢çš„heappop()å¤±æ•ˆ heappop()heapq.heappop(heap):ä»å †æ•°ç»„heapä¸­å–å‡ºæœ€å°çš„å€¼ï¼Œå¹¶è¿”å›ã€‚ 123456789101112131415161718192021222324&gt;&gt;&gt; h = [] #å®šä¹‰ä¸€ä¸ªlist&gt;&gt;&gt; from heapq import * #å¼•å…¥heapqæ¨¡å—&gt;&gt;&gt; h[]&gt;&gt;&gt; heappush(h, 5) #å‘å †ä¸­ä¾æ¬¡å¢åŠ æ•°å€¼&gt;&gt;&gt; heappush(h, 2)&gt;&gt;&gt; heappush(h, 3)&gt;&gt;&gt; heappush(h, 9)&gt;&gt;&gt; h #hçš„å€¼[2, 5, 3, 9]&gt;&gt;&gt; heappop(h) #ä»hä¸­åˆ é™¤æœ€å°çš„ï¼Œå¹¶è¿”å›è¯¥å€¼2&gt;&gt;&gt; h[3, 5, 9]&gt;&gt;&gt; h.append(1) #æ³¨æ„ï¼Œå¦‚æœä¸æ˜¯å‹å…¥å †ä¸­ï¼Œè€Œæ˜¯é€šè¿‡appendè¿½åŠ ä¸€ä¸ªæ•°å€¼&gt;&gt;&gt; h #å †çš„å‡½æ•°å¹¶ä¸èƒ½æ“ä½œè¿™ä¸ªå¢åŠ çš„æ•°å€¼ï¼Œæˆ–è€…è¯´å®ƒå †å¯¹æ¥è®²æ˜¯ä¸å­˜åœ¨çš„[3, 5, 9, 1]&gt;&gt;&gt; heappop(h) #ä»hä¸­èƒ½å¤Ÿæ‰¾åˆ°çš„æœ€å°å€¼æ˜¯3,è€Œä¸æ˜¯13&gt;&gt;&gt; heappush(h, 2) #è¿™æ—¶ï¼Œä¸ä»…å°†2å‹å…¥åˆ°å †å†…ï¼Œè€Œä¸”1ä¹Ÿè¿›å…¥äº†å †ã€‚&gt;&gt;&gt; h[1, 2, 9, 5]&gt;&gt;&gt; heappop(h) #æ“ä½œå¯¹è±¡å·²ç»åŒ…å«äº†11 heapq.heappushpop(heap, item)æ˜¯ä¸Šè¿°heappushå’Œheappopçš„åˆä½“ï¼ŒåŒæ—¶å®Œæˆä¸¤è€…çš„åŠŸèƒ½.æ³¨æ„ï¼šç›¸å½“äºå…ˆæ“ä½œäº†heappush(heap,item),ç„¶åæ“ä½œheappop(heap) 12345678&gt;&gt;&gt; h[1, 2, 9, 5]&gt;&gt;&gt; heappop(h)1&gt;&gt;&gt; heappushpop(h, 4) #å¢åŠ 4åŒæ—¶åˆ é™¤æœ€å°å€¼2å¹¶è¿”å›è¯¥æœ€å°å€¼ï¼Œä¸ä¸‹åˆ—æ“ä½œç­‰åŒï¼š2 #heappush(h,4),heappop(h)&gt;&gt;&gt; h[4, 5, 9] heapq.heapify(x)xå¿…é¡»æ˜¯listï¼Œæ­¤å‡½æ•°å°†listå˜æˆå †ï¼Œå®æ—¶æ“ä½œã€‚ä»è€Œèƒ½å¤Ÿåœ¨ä»»ä½•æƒ…å†µä¸‹ä½¿ç”¨å †çš„å‡½æ•°ã€‚ 12345678910&gt;&gt;&gt; a = [3, 6, 1]&gt;&gt;&gt; heapify(a) #å°†aå˜æˆå †ä¹‹åï¼Œå¯ä»¥å¯¹å…¶æ“ä½œ&gt;&gt;&gt; heappop(a)1&gt;&gt;&gt; b = [4, 2, 5] #bä¸æ˜¯å †ï¼Œå¦‚æœå¯¹å…¶è¿›è¡Œæ“ä½œï¼Œæ˜¾ç¤ºç»“æœå¦‚ä¸‹&gt;&gt;&gt; heappop(b) #æŒ‰ç…§é¡ºåºï¼Œåˆ é™¤ç¬¬ä¸€ä¸ªæ•°å€¼å¹¶è¿”å›,ä¸ä¼šä»ä¸­æŒ‘é€‰å‡ºæœ€å°çš„4&gt;&gt;&gt; heapify(b) #å˜æˆå †ä¹‹åï¼Œå†æ“ä½œ&gt;&gt;&gt; heappop(b)2 heapq.heapreplace(heap, item)æ˜¯heappop(heap)å’Œheappush(heap,item)çš„è”åˆæ“ä½œã€‚æ³¨æ„ï¼Œä¸heappushpop(heap,item)çš„åŒºåˆ«åœ¨äºï¼Œé¡ºåºä¸åŒï¼Œè¿™é‡Œæ˜¯å…ˆè¿›è¡Œåˆ é™¤ï¼Œåå‹å…¥å † 12345678910111213141516171819202122232425&gt;&gt;&gt; a = []&gt;&gt;&gt; heapreplace(a, 3) #å¦‚æœlistç©ºï¼Œåˆ™æŠ¥é”™Traceback (most recent call last):File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;IndexError: index out of range&gt;&gt;&gt; heappush(a, 3)&gt;&gt;&gt; a[3]&gt;&gt;&gt; heapreplace(a, 2) #å…ˆæ‰§è¡Œåˆ é™¤ï¼ˆheappop(a)-&gt;3),å†æ‰§è¡ŒåŠ å…¥ï¼ˆheappush(a, 2))3&gt;&gt;&gt; a[2]&gt;&gt;&gt; heappush(a, 5) &gt;&gt;&gt; heappush(a, 9)&gt;&gt;&gt; heappush(a, 4)&gt;&gt;&gt; a[2, 4, 9, 5]&gt;&gt;&gt; heapreplace(a, 6) #å…ˆä»å †aä¸­æ‰¾å‡ºæœ€å°å€¼å¹¶è¿”å›ï¼Œç„¶ååŠ å…¥62&gt;&gt;&gt; a[4, 5, 9, 6]&gt;&gt;&gt; heapreplace(a, 1) #1æ˜¯åæ¥åŠ å…¥çš„ï¼Œåœ¨1åŠ å…¥ä¹‹å‰ï¼Œaä¸­çš„æœ€å°å€¼æ˜¯44&gt;&gt;&gt; a[1, 5, 9, 6] heapq.merge(*iterables)ä¸¾ä¾‹ï¼š &gt;&gt;&gt; a = [2, 4, 6] &gt;&gt;&gt; b = [1, 3, 5] &gt;&gt;&gt; c = merge(a, b) &gt;&gt;&gt; list(c) [1, 2, 3, 4, 5, 6] åœ¨å½’å¹¶æ’åºä¸­è¯¦ç»†æ¼”ç¤ºäº†æœ¬å‡½æ•°çš„ä½¿ç”¨æ–¹æ³•ã€‚ heapq.nlargest(n, iterable[, key]),heapq.nsmallest(n, iterable[, key])è·å–åˆ—è¡¨ä¸­æœ€å¤§ã€æœ€å°çš„å‡ ä¸ªå€¼ã€‚ &gt;&gt;&gt; a [2, 4, 6] &gt;&gt;&gt; nlargest(2,a) [6, 4] æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ å…¶å®ä»¥ä¸Šè¯´äº†é‚£ä¹ˆå¤šï¼Œåªæ˜¯ä¸ºäº†è¯´è¿™é“é¢˜ã€‚ åœ¨æœªæ’åºçš„æ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: [3,2,1,5,6,4] å’Œ k = 2è¾“å‡º: 5 ç¤ºä¾‹ 2: 12è¾“å…¥: [3,2,3,1,2,4,5,5,6] å’Œ k = 4è¾“å‡º: 4 è¯´æ˜: ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„çš„é•¿åº¦ã€‚ è¿™é‡Œä¸è¯´åˆ«çš„è§£æ³•ã€‚å½“ç„¶é¢è¯•ä¸­ä½ è‚¯å®šä¸èƒ½è¿™ä¹ˆå†™ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ€è·¯ 12345678910class Solution: def findKthLargest(self, nums, k): \"\"\" :type nums: List[int] :type k: int :rtype: int \"\"\" import heapq heapq.heapify(nums) return heapq.nlargest(k, nums)[-1] çœ‹åˆ°æœ‰äººç”¨return sorted(nums)[-k]ï¼ŒçœŸçš„è¦è¢«æ°”æ­»äº†ã€‚ å‚è€ƒ https://github.com/qiwsir/algorithm/blob/master/heapq.md","tags":[{"name":"heapq","slug":"heapq","permalink":"https://zhangslob.github.io/tags/heapq/"}]},{"title":"èŠä¸€èŠè¶³çƒ","date":"2018-12-04T10:12:13.000Z","path":"2018/12/04/èŠä¸€èŠè¶³çƒ/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåä¸ƒç¯‡åŸåˆ›æ–‡ç«  å–œçˆ±è¶³çƒ (à¹‘â€¢ . â€¢à¹‘) ä»¥åé™¤äº†æŠ€æœ¯è¿˜ä¼šèŠç‚¹åˆ«çš„ï¼Œè¿™æ¬¡å°±æ¥èŠèŠæˆ‘çš„çˆ±å¥½ä¹‹ä¸€â€”â€”è¶³çƒã€‚è¿™é‡Œä¸»è¦æ˜¯è¯´çœ‹çƒï¼Œçœ‹çƒä»¥å‰ä¸»è¦çœ‹è¥¿ç”²ï¼Œç°åœ¨ä¸»è¦çœ‹æ„ç”²ï¼ŒCç½—é“ç²‰ã€‚ æˆ‘æ˜¯ä»é«˜ä¸­å¼€å§‹å–œæ¬¢è¶³çƒï¼Œé‚£æ—¶å€™é€‰çš„æ–‡ç§‘å˜›ï¼Œç„¶åç”·ç”Ÿåˆå°‘ï¼Œå…¨ç­11äººï¼Œå¤§å®¶éƒ½å»è¸¢çƒï¼Œå°±æ…¢æ…¢çˆ±ä¸Šäº†è¿™ä¸ªè¿åŠ¨ã€‚å¤§å­¦æ—¶å‚åŠ äº†é™¢é˜Ÿï¼Œå¯æƒœè‡ªå·±æŠ€æœ¯å¤ªæ°´ï¼Œå§‹ç»ˆåœ¨æ‰“é…±æ²¹ï¼Œå¤§äºŒå°±é€€é˜Ÿäº†ï¼Œä»¥åå°±åªçœ‹çœ‹çƒã€‚ è¿™é‡Œä»‹ç»ä¸‹æ¢…è¥¿å’ŒCç½—ï¼Œå½“ä»Šæœ€é¡¶å°–çš„ä¸¤ä½çƒå‘˜ã€‚å¦‚æœä½ è¦é—®è°æ›´å‰å®³ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªé—®é¢˜å°±å’ŒPHPå’ŒJavaè°æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ä¸€æ ·ã€‚æˆ‘å–œæ¬¢Cç½—ï¼ŒåŒæ—¶ä¹Ÿæ•¬ä½©æ¢…è¥¿ï¼Œä¸¤äººå„æœ‰ä¼Ÿå¤§ä¹‹å¤„ï¼Œåˆ›é€ æ— æ•°è®°å½•ï¼Œå„å¤ºå¾—äº†5æ¬¡é‡‘çƒå¥–ã€‚ è¯´åˆ°é‡‘çƒå¥–ï¼Œå°±ä¸å¾—ä¸è¯´ä»Šå¤©çš„é‡‘çƒå¥–å¾—ä¸»â€”â€”è«å¾·é‡Œå¥‡äº†ã€‚å…¶å®æˆ‘è§‰å¾—æ—¢ç„¶éƒ½å·²ç»æ˜¯äº‹å®äº†ï¼Œå†å»è¯´åˆ«äººæ€ä¹ˆæ€ä¹ˆæ°´ï¼Œæ²¡æ„æ€ã€‚å¯¹äºæ¢…ç½—æ¥è¯´ï¼Œè¿™å¯èƒ½æ˜¯æœ€å¥½çš„ç»“å±€ï¼ŒåŒæ–¹å„è·å¥–5æ¬¡ï¼Œæ‰“äº†ä¸ªå¹³æ‰‹ï¼ŒæŒºå¥½çš„ã€‚æˆ‘æœ€å—ä¸äº†çš„æ˜¯æŸäº›çƒè¿·ï¼Œå¤©å¤©éª‚æ¥éª‚å»ï¼Œåªæ˜¯ä¸ºäº†äº‰è®ºè‡ªå·±å¿ƒä¸­è°æ‰æ˜¯å†å²æœ€ä½³ï¼Œè¿™ç§è¡Œä¸ºçœŸçš„å¾ˆæ— èŠï¼Œæœ‰è¿™ä¸ªæ—¶é—´è¿˜ä¸å¦‚å¤šå†™å†™ä»£ç ã€‚ çœ‹ç¯®çƒä¸çœ‹è¶³çƒæœ‰å¾ˆå¤šä¸åŒï¼Œå› ä¸ºç¯®çƒè¿›çƒå¤ªå®¹æ˜“ï¼Œè€Œè¶³çƒæ‰“90åˆ†é’Ÿ0ï¼š0æ˜¯å¾ˆæ­£å¸¸çš„ï¼ŒåŠå¤œçœ‹çƒæœ‰æ—¶å€™ä¼šå¾ˆå›°ï¼Œä¸è¿‡è¶³çƒä»ç„¶æ˜¯ä¸–ç•Œç¬¬ä¸€è¿åŠ¨ã€‚ä¸–ç•Œæ¯ä¸Šæœ‰ä¸€åœºæ¯”èµ›è¶…çº§ç»å…¸ï¼Œæ˜¯\u0005è‘¡è„ç‰™\u00063-3\u0005è¥¿ç­ç‰™é‚£åœºï¼Œæ¥çœ‹çœ‹https://v.qq.com/x/page/p0703fedijp.html å–œæ¬¢Cç½—ä¸ä»…æ˜¯å› ä¸ºè¿›çƒå¤šï¼Œä¹Ÿå› ä¸ºä»–çš„èŒä¸šæ€åº¦ã€‚ä»–çš„èŒä¸šæ€åº¦æ˜¯è¡Œä¸šå†…ä»»ä½•äººéƒ½ä¸ä¼šæ€€ç–‘çš„ï¼Œæ±‚èƒœçš„æ¬²æœ›ï¼Œå¥½èƒœçš„å¿ƒç†ï¼Œä½¿å¾—Cç½—ä¸€ç›´éƒ½å…¢å…¢ä¸šä¸šçš„è®­ç»ƒç€ï¼Œå³ä½¿æ˜¯ä¼‘èµ›æœŸé—´ï¼ŒCç½—ä¹Ÿä¼šä»ç„¶åšæŒæ¯å¤©é”»ç‚¼ã€‚ å„ä¸ªæ—¶æœŸçš„Cç½—è‚Œè‚‰ æœ€åï¼Œè¯´è¯´å¦‚ä½•çœ‹çƒã€‚ç°åœ¨åŸºæœ¬ä¸Šéƒ½å¯ä»¥åœ¨ppä½“è‚²ä¸Šçœ‹ï¼Œä½†æ˜¯æœ‰äº›æ˜¯ä¼šå‘˜åœºã€‚æœ‰æ—¶å€™CCTV5ä¹Ÿä¼šæœ‰è½¬æ’­ï¼Œä¸Šå‘¨æœ«å°±è½¬æ’­æ„ç”²å°¤æ–‡3-0å¼—æ´›ä¼¦è¨é‚£åœºã€‚è¿˜æœ‰é¾™ç ç›´æ’­çš„ä½“è‚²é¢‘é“ï¼Œç»å¸¸ä¼šæœ‰å°ä¸»æ’­è½¬æ’­æ¯”èµ›ï¼Œç„¶åä¸åœåœ°å«ä½ åŠ å¾®ä¿¡ã€‚ã€‚ æœ€åæƒ³è¯´ï¼Œè¶ç€å¹´è½»èƒ½ç†¬å¤œå¤šçœ‹çœ‹ï¼Œä»¥åä¼°è®¡å°±æ²¡ç²¾ç¥äº†ã€‚","tags":[{"name":"è¶³çƒ","slug":"è¶³çƒ","permalink":"https://zhangslob.github.io/tags/è¶³çƒ/"}]},{"title":"è¯´ä¸€é“æ’åºé¢˜","date":"2018-11-27T11:16:12.982Z","path":"2018/11/27/è¯´ä¸€é“æ’åºé¢˜/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåå…­ç¯‡åŸåˆ›æ–‡ç«  å¾ˆç»å…¸çš„æ’åºé—®é¢˜ (à¹‘â€¢ . â€¢à¹‘) å…ˆçœ‹é¢˜ç›®ï¼Œâ€œå‰Kä¸ªé«˜é¢‘å…ƒç´ â€ ç»™å®šä¸€ä¸ªéç©ºçš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: nums = [1,1,1,2,2,3], k = 2è¾“å‡º: [1,2] ç¤ºä¾‹ 2: 12è¾“å…¥: nums = [1], k = 1è¾“å‡º: [1] ç®€å•è§£æ³•è¿™é¢˜å¾ˆç®€å•ï¼Œä¸¤æ­¥ï¼š ç”¨å­—å…¸ä¿å­˜æ•°å­—åŠå…¶å‡ºç°çš„å¯¹åº”é¢‘ç‡ æ’åº é‚£ä¹ˆç¬¬ä¸€æ­¥å°±ä¸ç”¨è¯´äº†ï¼Œå¾ˆç®€å• 123456m = dict()for num in nums: if num in m: m[num] += 1 else: m[num] = 1 æœ‰è¶£çš„å°±åœ¨ç¬¬äºŒæ­¥ï¼Œæ’åºã€‚å¾ˆå¤šäººéƒ½æ˜¯ä½¿ç”¨å†…ç½®åº“sorted 1234567891011121314151617181920class Solution(object): def topKFrequent(self, nums, k): \"\"\" :type nums: List[int] :type k: int :rtype: List[int] \"\"\" m = dict() for num in nums: if num in m: m[num] += 1 else: m[num] = 1 output = sorted(m.items(), key=lambda e: e[1], reverse=True) final = [] for i in range(k): final.append(output[i][0]) return final æœ€ç®€æ´çš„ä»£ç æ˜¯ç›´æ¥ä½¿ç”¨Pythonå†…ç½®çš„collections 12345678910class Solution(object): def topKFrequent(self, nums, k): \"\"\" :type nums: List[int] :type k: int :rtype: List[int] \"\"\" import collections counter = collections.Counter(nums) return [item[0] for item in counter.most_common(k)] è¿™çœŸæ˜¯æ˜¯æˆ‘ä»¬æƒ³è¦çš„å—ï¼Ÿå¹¶ä¸æ˜¯ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸ä½¿ç”¨ä»»ä½•å†…ç½®åº“ã€‚ sortedåŸç†å…³äºPythonçš„sortedæ’åºç®—æ³•ï¼Œè¿™ç¯‡æ–‡ç« è®²çš„æ¯”è¾ƒè¯¦ç»†ï¼špython sortå‡½æ•°å†…éƒ¨å®ç°åŸç†ï¼Œè¯´åˆ°Pythonä½¿ç”¨çš„æ˜¯è‘—åçš„Timesortç®—æ³•ã€‚ Timsortæ˜¯ç»“åˆäº†åˆå¹¶æ’åºï¼ˆmerge sortï¼‰å’Œæ’å…¥æ’åºï¼ˆinsertion sortï¼‰è€Œå¾—å‡ºçš„æ’åºç®—æ³•ï¼Œå®ƒåœ¨ç°å®ä¸­æœ‰å¾ˆå¥½çš„æ•ˆç‡ã€‚ Tim Petersåœ¨2002å¹´è®¾è®¡äº†è¯¥ç®—æ³•å¹¶åœ¨Pythonä¸­ä½¿ç”¨ï¼ˆTimSort æ˜¯ Python ä¸­ list.sort çš„é»˜è®¤å®ç°ï¼‰ã€‚è¯¥ç®—æ³•æ‰¾åˆ°æ•°æ®ä¸­å·²ç»æ’å¥½åºçš„å—-åˆ†åŒºï¼Œæ¯ä¸€ä¸ªåˆ†åŒºå«ä¸€ä¸ªrunï¼Œç„¶åæŒ‰è§„åˆ™åˆå¹¶è¿™äº›runã€‚Pyhtonè‡ªä»2.3ç‰ˆä»¥æ¥ä¸€ç›´é‡‡ç”¨Timsortç®—æ³•æ’åºï¼Œç°åœ¨Java SE7å’ŒAndroidä¹Ÿé‡‡ç”¨Timsortç®—æ³•å¯¹æ•°ç»„æ’åºã€‚ å¦‚æœæƒ³è‡ªå·±ç”¨Pythonæ¥å†™ä¸€ä¸ªæ’åºç®—æ³•ï¼Œå®Œæˆæœ¬é¢˜è¦æ±‚è¯¥å¦‚ä½•å†™ï¼Ÿä¹Ÿå°±æ˜¯å¯¹è¿™ä¸ªå­—å…¸è¿›è¡Œæ’åºï¼Œ{5: 1, 1: 3, 4: 1, 2: 2, 3: 1}ï¼Œæœ‰ä»€ä¹ˆå¥½åŠæ³•ã€‚ æ€è·¯å¯ä»¥æ˜¯ä¸¤ä¸ªæŒ‡é’ˆéå†å­—å…¸ï¼Œå¦‚æœå·¦è¾¹å¤§äºå³è¾¹ï¼Œåˆ™æ›¿æ¢ä½ç½®ã€‚ æ›´å¥½çš„æ–¹æ³•12345678910111213141516171819202122232425class Solution(object): def topKFrequent(self, nums, k): \"\"\" :type nums: List[int] :type k: int :rtype: List[int] \"\"\" m = dict() for num in nums: if num in m: m[num] += 1 else: m[num] = 1 bucket = [[] for _ in range(len(nums) + 1)] for key, value in m.items(): bucket[value].append(key) result = [] for i in range(len(nums), 0, -1): for n in bucket[i]: result.append(n) if len(result) == k: return result return result å¾ˆå·§å¦™çš„ä½¿ç”¨åˆ—è¡¨çš„ç´¢å¼•æ¥ä¿å­˜valueã€‚ æ­¤æ—¶bucketå€¼æ˜¯[[], [5, 4, 3], [2], [1], [], [], [], [], []]ï¼Œç´¢å¼•å³å‡ºç°æ¬¡æ•°ã€‚ æ­¤è§£æ³•ç”¨æ—¶72msï¼Œæˆ˜èƒœ 50.84 % çš„ python3 æäº¤è®°å½•ã€‚ä½†æ˜¯çœ‹äº†æ’åœ¨å‰é¢çš„ç®—æ³•ï¼Œéƒ½æ˜¯ä½¿ç”¨çš„Pythonå†…ç½®çš„collectionsã€‚ å¦‚æœæ˜¯ä½ ï¼Œä¼šç”¨ä»€ä¹ˆæ–¹æ³•å‘¢ï¼Ÿ","tags":[]},{"title":"ç”¨nodeæ¥DNSæŠ“åŒ…","date":"2018-11-22T11:16:39.412Z","path":"2018/11/22/ç”¨nodeæ¥DNSæŠ“åŒ…/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåå››ç¯‡åŸåˆ›æ–‡ç«  ç”¨nodeæ¥DNSæŠ“åŒ… (à¹‘â€¢ . â€¢à¹‘) å‰æå‡†å¤‡å®‰è£…nodeï¼Œå¹¶å®‰è£…ä¾èµ–ï¼Œå»server.jsåŒçº§ç›®å½•ä¸‹å®‰è£… 12npm install native-dnsnpm install async ä¿å­˜ä»¥ä¸‹æ–‡ä»¶ä¸ºserver.jsï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566let dns = require('native-dns');let server = dns.createServer();let authority = &#123; address: '114.114.114.114', port: 53, type: 'udp' &#125;;server.on('listening', () =&gt; console.log('server listening on', server.address()));server.on('close', () =&gt; console.log('server closed', server.address()));server.on('error', (err, buff, req, res) =&gt; console.error(err.stack));server.on('socketError', (err, socket) =&gt; console.error(err));function proxy(question, response, cb) &#123; console.log('proxying', question.name); var request = dns.Request(&#123; question: question, // forwarding the question server: authority, // this is the DNS server we are asking timeout: 1000 &#125;); // when we get answers, append them to the response request.on('message', (err, msg) =&gt; &#123; msg.answer.forEach(a =&gt; response.answer.push(a)); &#125;); request.on('end', cb); request.send();&#125;let async = require('async');let entries = [ &#123; domain: \"^weixin.keruyun.com*\", records: [ &#123; type: \"A\", address: \"10.10.10.90\", ttl: 1800 &#125; ] &#125;];function handleRequest(request, response) &#123; console.log('request from', request.address.address, 'for', request.question[0].name); let f = []; request.question.forEach(question =&gt; &#123; let entry = entries.filter(r =&gt; new RegExp(r.domain, 'i').exec(question.name)); if (entry.length) &#123; entry[0].records.forEach(record =&gt; &#123; record.name = question.name; record.ttl = record.ttl || 1800; response.answer.push(dns[record.type](record)); &#125;); &#125; else &#123; f.push(cb =&gt; proxy(question, response, cb)); &#125; &#125;); async.parallel(f, function() &#123; response.send(); &#125;);&#125;server.on('request', handleRequest);server.serve(53); æ‰‹æœºwifiè®¾ç½®å¦‚ä¸‹ï¼š åœ¨DNS1å’ŒDNS2ï¼Œéƒ½è®¾ç½®ä¸ºç”µè„‘ç«¯åœ°å€ æ‰¾åˆ°åŸŸåä½¿ç”¨å‘½ånode server.jsè¿è¡Œjsæ–‡ä»¶ï¼Œæ‰‹æœºæ‰“å¼€é£è¡Œæ¨¡å¼ï¼Œå†å…³é—­é£è¡Œæ¨¡å¼ï¼Œå…³é—­æ‰‹æœºæ‰€æœ‰åº”ç”¨åï¼Œæ‰“å¼€ç›®æ ‡åº”ç”¨ï¼ŒæŸ¥çœ‹è¾“å‡º 12345678910111213141516request from 10.10.10.30 for api.huoshan.comproxying api.huoshan.comrequest from 10.10.10.30 for api.huoshan.comproxying api.huoshan.comrequest from 10.10.10.30 for sf3-ttcdn-tos.pstatp.comproxying sf3-ttcdn-tos.pstatp.comrequest from 10.10.10.30 for nbsdk-baichuan.alicdn.comproxying nbsdk-baichuan.alicdn.comrequest from 10.10.10.30 for sf1-hscdn-tos.pstatp.comproxying sf1-hscdn-tos.pstatp.comrequest from 10.10.10.30 for wgo.mmstat.comproxying wgo.mmstat.comrequest from 10.10.10.30 for v7.pstatp.comproxying v7.pstatp.comrequest from 10.10.10.30 for sf1-ttcdn-tos.pstatp.comproxying sf1-ttcdn-tos.pstatp.com æ‰¾åˆ°è‡ªå·±æƒ³è¦æŠ“å–çš„åŸŸåï¼Œå‡è®¾ç°åœ¨æˆ‘ä»¬æƒ³æŠ“å–çš„åŸŸåæ˜¯superapp.kiwa-tech.comï¼Œä¿®æ”¹server.jsæ–‡ä»¶ï¼Œå¦‚ä¸‹ 12345678let entries = [ &#123; domain: \"^superapp.kiwa-tech.com*\", records: [ &#123; type: \"A\", address: \"10.10.10.90\", ttl: 1800 &#125; ] &#125;]; é…ç½®Charlesæ‰“å¼€Charlesï¼Œæ³¨æ„ï¼Œè¦ä½¿ç”¨sudoæ‰“å¼€ï¼Œsudo /Applications/Charles.app/Contents/MacOS/Charles å®‰è£…è¯ä¹¦ï¼Œæ‰‹æœºç«¯ä¹Ÿè¦å®‰è£… æ‰“å¼€ssl proxying Reverse Proxiesï¼Œè®¾ç½®å¦‚ä¸‹ æœ€åæœ€åå°±å¤§åŠŸå‘Šæˆäº†ï¼Œæ­¤æ—¶åœ¨æ‰‹æœºç«¯æ‰“å¼€è¯¥Appï¼Œå³å¯æŸ¥çœ‹ç›¸å…³DNSæŠ“åŒ…æ•°æ®ã€‚ è¿™ç§æ–¹æ³•å«åšDNSæŠ“åŒ…","tags":[]},{"title":"Appçˆ¬è™«æ€è·¯","date":"2018-11-22T10:05:51.320Z","path":"2018/11/22/Appçˆ¬è™«æ€è·¯/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåäº”ç¯‡åŸåˆ›æ–‡ç«  Appçˆ¬è™« (à¹‘â€¢ . â€¢à¹‘) çœ‹å›¾ä¸€ç‚¹ç‚¹ä»‹ç» è¯„ä¼°åˆ†æåœ¨æŠ“åŒ…å‰ï¼Œå»ºè®®ä¸€å®šè¦å…ˆåˆ†æã€‚ æœ‰ç½‘é¡µç«¯æŠ“ç½‘é¡µç«¯ã€æœ‰ç§»åŠ¨ç«¯æŠ“ç§»åŠ¨ç«¯ã€æœ‰å®¢æˆ·ç«¯æŠ“å®¢æˆ·ç«¯ï¼Œæœ€åçš„é€‰æ‹©æ‰æ˜¯Appã€‚ ä¸¾ä¸ªä¾‹å­ã€‚é’ˆå¯¹è…¾è®¯è§†é¢‘è€ƒè™‘é¡ºåºï¼š ç½‘é¡µç«¯ï¼šhttps://v.qq.com/ ç§»åŠ¨ç«¯ï¼šhttps://m.v.qq.com/index.html å®¢æˆ·ç«¯ï¼šé€šè¿‡charlesè®¾ç½®ä»£ç†æŠ“å– App è…¾è®¯è‡ªå·±å°±æœ‰åšåº”ç”¨åŠ å›ºçš„ï¼Œæ——ä¸‹äº§å“è‡ªç„¶å¾ˆéš¾è¢«ç¼–è¯‘ å¦‚æœä½ èƒ½ç¼–è¯‘è…¾è®¯æ——ä¸‹Appï¼Œè¯·å‘Šè¯‰æˆ‘æ–¹æ³• å¦‚ä½•æŠ“åŒ…åœ¨çŸ¥ä¹ä¸Šä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ å¦‚ä½•åœ¨ Android æ‰‹æœºä¸Šå®ç°æŠ“åŒ…ï¼Ÿ ä½†æ˜¯æˆ‘è§‰å¾—ä¸å¤Ÿå…¨ï¼Œé¦–å…ˆå¯¹äºä¸€èˆ¬çš„HTTPå’ŒHTTPSåè®®ï¼Œé€šè¿‡æœ€åŸºæœ¬çš„Fiddlerå’ŒCharleså°±å¯ä»¥æŠ“åŒ…ï¼Œå…·ä½“æ–¹æ³•è¯·Googleã€‚éœ€è¦ä¿è¯ä¸¤ç‚¹ï¼šAppèµ°ä»£ç†ï¼Œè¯ä¹¦è¢«ä¿¡ä»»ã€‚ æœ‰äº›åº”ç”¨ä¸èµ°æ“ä½œç³»ç»Ÿçš„ HTTP ä»£ç†ï¼Œç›´æ¥èµ° TCP åè®®ï¼Œæ— æ³•ä½¿ç”¨ HTTP ä»£ç†æŠ“åŒ…ã€‚è™½ç„¶ Charles æ”¯æŒ SOCKS ä»£ç†ï¼Œä½†æ— æ³•åˆ†æ TCP åŒ…ã€‚è¿™å°±éœ€è¦ç¥­å‡ºå¤§æ€å™¨ tcpdump å’Œ Wireshark ã€‚ è¯´ä¸€ä¸‹DNSæŠ“åŒ…ï¼Œã€‚è¿™ä¸ªç½‘ä¸ŠåŸºæœ¬æ‰¾ä¸åˆ°èµ„æ–™ï¼Œè¿™ä¹Ÿæ˜¯å¤§ä½¬æ•™æˆ‘çš„ï¼Œè¯¦ç»†æ­¥éª¤åœ¨åšå®¢é‡Œï¼Œæ„Ÿå…´è¶£è‡ªè¡Œç¿»é˜…ã€‚ è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå‡ºåçš„æ˜¯mitmproxyï¼Œæ²¡æ€ä¹ˆç”¨è¿‡ã€‚ æœ€åï¼Œè‹¹æœå…¬å¸æœ‰åšä¸€ä¸ªæ¯”è¾ƒè¯¦ç»†çš„æŠ“åŒ…è¯´æ˜ https://developer.apple.com/library/archive/qa/qa1176/_index.html å¦‚ä½•é€†å‘é€†å‘ä¸€ç›´æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è¯é¢˜ï¼Œè€Œä¸”è¿˜ä¸“é—¨æœ‰é€†å‘å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½ï¼Œå¯è§å…¶ä¸­æ°´ä¹‹æ·±ã€‚ å¯¹äºçˆ¬è™«ï¼Œç®€å•äº†è§£å³å¯ã€‚è¿™é‡Œéœ€è¦ä¸‰ä¸ªé€†å‘å·¥å…·ï¼š Apktoolï¼šè·å–èµ„æºæ–‡ä»¶å’Œsmailä»£ç  dex2jarï¼šå°†dexæ–‡ä»¶è½¬æ¢æˆjaræ–‡ä»¶ JD-GUIï¼šæŸ¥çœ‹åˆ°åç¼–è¯‘åçš„dexçš„ä»£ç  æœ€åçœ‹åˆ°çš„æ˜¯JAVAä»£ç ï¼Œæ‰€ä»¥èƒ½çœ‹æ‡‚JAVAæ˜¯å¿…è¦èƒ½åŠ›ã€‚ JD-GUIæˆ‘ç”¨çš„æ¯”è¾ƒå¤šï¼Œç®€å•æ¼”ç¤ºä¸‹ã€‚ ä¸»è¦æ˜¯ä½¿ç”¨æœç´¢åŠŸèƒ½ï¼Œæœç´¢å‰éœ€è¦å…ˆèŠ±å¾ˆå¤šæ—¶é—´åç¼–è¯‘ã€‚","tags":[]},{"title":"ç¥ç»ç½‘ç»œåŸºç¡€åŠKeraså…¥é—¨","date":"2018-11-20T11:24:23.599Z","path":"2018/11/20/ç¥ç»ç½‘ç»œåŸºç¡€åŠKeraså…¥é—¨/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåä¸‰ç¯‡åŸåˆ›æ–‡ç«  æ·±åº¦å­¦ä¹  (à¹‘â€¢ . â€¢à¹‘) ç¥ç»ç½‘ç»œå®šä¹‰äººå·¥ç¥ç»ç½‘ç»œï¼Œç®€ç§°ç¥ç»ç½‘ç»œï¼Œåœ¨æœºå™¨å­¦ä¹ å’Œè®¤çŸ¥ç§‘å­¦é¢†åŸŸï¼Œæ˜¯ä¸€ç§æ¨¡ä»¿ç”Ÿç‰©ç¥ç»ç½‘ç»œï¼ˆåŠ¨ç‰©çš„ä¸­æ¢ç¥ç»ç³»ç»Ÿï¼Œç‰¹åˆ«æ˜¯å¤§è„‘ï¼‰çš„ç»“æ„å’ŒåŠŸèƒ½çš„æ•°å­¦æ¨¡å‹æˆ–è®¡ç®—æ¨¡å‹ï¼Œç”¨äºå¯¹å‡½æ•°è¿›è¡Œä¼°è®¡æˆ–è¿‘ä¼¼ã€‚ ä¸ºäº†æè¿°ç¥ç»ç½‘ç»œï¼Œæˆ‘ä»¬å…ˆä»æœ€ç®€å•çš„ç¥ç»ç½‘ç»œè®²èµ·ï¼Œè¿™ä¸ªç¥ç»ç½‘ç»œä»…ç”±ä¸€ä¸ªâ€œç¥ç»å…ƒâ€æ„æˆï¼Œä»¥ä¸‹å³æ˜¯è¿™ä¸ªâ€œç¥ç»å…ƒâ€çš„å›¾ç¤ºï¼š è¿™ä¸ªâ€œç¥ç»å…ƒâ€æ˜¯ä¸€ä¸ªä»¥ åŠæˆªè· ä¸ºè¾“å…¥å€¼çš„è¿ç®—å•å…ƒï¼Œå…¶è¾“å‡ºä¸º ï¼Œå…¶ä¸­å‡½æ•° è¢«ç§°ä¸ºâ€œæ¿€æ´»å‡½æ•°â€ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€‰ç”¨sigmoidå‡½æ•°ä½œä¸ºæ¿€æ´»å‡½æ•° å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªå•ä¸€â€œç¥ç»å…ƒâ€çš„è¾“å…¥ï¼è¾“å‡ºæ˜ å°„å…³ç³»å…¶å®å°±æ˜¯ä¸€ä¸ªé€»è¾‘å›å½’ï¼ˆlogistic regressionï¼‰ã€‚ ç¥ç»ç½‘ç»œæ¨¡å‹æ‰€è°“ç¥ç»ç½‘ç»œå°±æ˜¯å°†è®¸å¤šä¸ªå•ä¸€â€œç¥ç»å…ƒâ€è”ç»“åœ¨ä¸€èµ·ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªâ€œç¥ç»å…ƒâ€çš„è¾“å‡ºå°±å¯ä»¥æ˜¯å¦ä¸€ä¸ªâ€œç¥ç»å…ƒâ€çš„è¾“å…¥ã€‚ä¾‹å¦‚ï¼Œä¸‹å›¾å°±æ˜¯ä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œï¼š æˆ‘ä»¬ç”¨ æ¥è¡¨ç¤ºç½‘ç»œçš„å±‚æ•°ï¼Œæœ¬ä¾‹ä¸­ ï¼Œæˆ‘ä»¬å°†ç¬¬ å±‚è®°ä¸º ï¼Œäºæ˜¯ æ˜¯è¾“å…¥å±‚ï¼Œè¾“å‡ºå±‚æ˜¯ ã€‚æœ¬ä¾‹ç¥ç»ç½‘ç»œæœ‰å‚æ•° ï¼Œå…¶ä¸­ ï¼ˆä¸‹é¢çš„å¼å­ä¸­ç”¨åˆ°ï¼‰æ˜¯ç¬¬ å±‚ç¬¬ å•å…ƒä¸ç¬¬ å±‚ç¬¬ å•å…ƒä¹‹é—´çš„è”æ¥å‚æ•°ï¼ˆå…¶å®å°±æ˜¯è¿æ¥çº¿ä¸Šçš„æƒé‡ï¼Œæ³¨æ„æ ‡å·é¡ºåºï¼‰ï¼Œ æ˜¯ç¬¬ å±‚ç¬¬ å•å…ƒçš„åç½®é¡¹ã€‚å› æ­¤åœ¨æœ¬ä¾‹ä¸­ï¼Œ ï¼Œ ã€‚æ³¨æ„ï¼Œæ²¡æœ‰å…¶ä»–å•å…ƒè¿å‘åç½®å•å…ƒ(å³åç½®å•å…ƒæ²¡æœ‰è¾“å…¥)ï¼Œå› ä¸ºå®ƒä»¬æ€»æ˜¯è¾“å‡º ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ç”¨ è¡¨ç¤ºç¬¬ å±‚çš„èŠ‚ç‚¹æ•°ï¼ˆåç½®å•å…ƒä¸è®¡åœ¨å†…ï¼‰ã€‚ Keraså®æˆ˜ä½¿ç”¨keraså®ç°å¦‚ä¸‹ç½‘ç»œç»“æ„, å¹¶è®­ç»ƒæ¨¡å‹: ä½¿ç”¨åœºæ™¯: è¾“å…¥å€¼(x1,x2,x3)ä»£è¡¨äººçš„èº«é«˜ä½“é‡å’Œå¹´é¾„, è¾“å‡ºå€¼(y1,y2) 123456789101112131415161718import numpy as np# æ€»äººæ•°æ˜¯1000, ä¸€åŠæ˜¯ç”·ç”Ÿn = 1000# æ‰€æœ‰çš„èº«ä½“æŒ‡æ ‡æ•°æ®éƒ½æ˜¯æ ‡å‡†åŒ–æ•°æ®, å¹³å‡å€¼0, æ ‡å‡†å·®1tizhong = np.random.normal(size = n) shengao = np.random.normal(size=n)nianling = np.random.normal(size=n)# æ€§åˆ«æ•°æ®, å‰500åå­¦ç”Ÿæ˜¯ç”·ç”Ÿ, ç”¨æ•°å­—1è¡¨ç¤ºgender = np.zeros(n)gender[:500] = 1# ç”·ç”Ÿçš„ä½“é‡æ¯”è¾ƒé‡,æ‰€ä»¥è®©ç”·ç”Ÿçš„ä½“é‡+1tizhong[:500] += 1# ç”·ç”Ÿçš„èº«é«˜æ¯”è¾ƒé«˜, æ‰€ä»¥è®©ç”·ç”Ÿçš„å‡é«˜ + 1shengao[:500] += 1# ç”·ç”Ÿçš„å¹´é¾„åå°, æ‰€ä»¥è®©ç”·ç”Ÿå¹´é¾„é™ä½ 1nianling[:500] -= 1 åˆ›å»ºæ¨¡å‹1234567891011121314151617from keras import Sequentialfrom keras.layers import Dense, Activationmodel = Sequential()# åªæœ‰ä¸€ä¸ªç¥ç»å…ƒ, ä¸‰ä¸ªè¾“å…¥æ•°å€¼model.add(Dense(4, input_dim=3, kernel_initializer='random_normal', name=\"Dense1\"))# æ¿€æ´»å‡½æ•°ä½¿ç”¨softmaxmodel.add(Activation('relu', name=\"hidden\"))# æ·»åŠ è¾“å‡ºå±‚model.add(Dense(2, input_dim=4, kernel_initializer='random_normal', name=\"Dense2\"))# æ¿€æ´»å‡½æ•°ä½¿ç”¨softmaxmodel.add(Activation('softmax', name=\"output\")) ç¼–è¯‘æ¨¡å‹éœ€è¦æŒ‡å®šä¼˜åŒ–å™¨å’ŒæŸå¤±å‡½æ•°: 123model.compile(optimizer='rmsprop', loss='categorical_crossentropy', metrics=['accuracy']) è®­ç»ƒæ¨¡å‹1234567# è½¬æ¢æˆone-hotæ ¼å¼from keras import utilsgender_one_hot = utils.to_categorical(gender, num_classes=2)# èº«ä½“æŒ‡æ ‡éƒ½æ”¾å…¥ä¸€ä¸ªçŸ©é˜µdata data = np.array([tizhong, shengao, nianling]).T# è®­ç»ƒæ¨¡å‹model.fit(data, gender_one_hot, epochs=10, batch_size=8) 12345678910111213141516171819202122è¾“å‡º(stream):Epoch 1/101000/1000 [==============================] - 0s 235us/step - loss: 0.6743 - acc: 0.7180Epoch 2/101000/1000 [==============================] - 0s 86us/step - loss: 0.6162 - acc: 0.7310Epoch 3/101000/1000 [==============================] - 0s 88us/step - loss: 0.5592 - acc: 0.7570Epoch 4/101000/1000 [==============================] - 0s 87us/step - loss: 0.5162 - acc: 0.7680Epoch 5/101000/1000 [==============================] - 0s 89us/step - loss: 0.4867 - acc: 0.7770Epoch 6/101000/1000 [==============================] - 0s 88us/step - loss: 0.4663 - acc: 0.7830Epoch 7/101000/1000 [==============================] - 0s 87us/step - loss: 0.4539 - acc: 0.7890Epoch 8/101000/1000 [==============================] - 0s 86us/step - loss: 0.4469 - acc: 0.7920Epoch 9/101000/1000 [==============================] - 0s 88us/step - loss: 0.4431 - acc: 0.7940Epoch 10/101000/1000 [==============================] - 0s 88us/step - loss: 0.4407 - acc: 0.7900è¾“å‡º(plain): è¿›è¡Œé¢„æµ‹123456test_data = np.array([[0, 0, 0]])probability = model.predict(test_data)if probability[0, 0]&gt;0.5: print('å¥³ç”Ÿ')else: print('ç”·ç”Ÿ') 12è¾“å‡º(stream):å¥³ç”Ÿ å…³é”®è¯è§£é‡Š input_dim: è¾“å…¥çš„ç»´åº¦æ•° kernel_initializer: æ•°å€¼åˆå§‹åŒ–æ–¹æ³•, é€šå¸¸æ˜¯æ­£å¤ªåˆ†å¸ƒ batch_size: ä¸€æ¬¡è®­ç»ƒä¸­, æ ·æœ¬æ•°æ®è¢«åˆ†å‰²æˆå¤šä¸ªå°ä»½, æ¯ä¸€å°ä»½åŒ…å«çš„æ ·æœ¬æ•°å«åšbatch_size epochs: å¦‚æœè¯´å°†æ‰€æœ‰æ•°æ®è®­ç»ƒä¸€æ¬¡å«åšä¸€è½®çš„è¯ã€‚epochså†³å®šäº†æ€»å…±è¿›è¡Œå‡ è½®è®­ç»ƒã€‚ optimizer: ä¼˜åŒ–å™¨, å¯ä»¥ç†è§£ä¸ºæ±‚æ¢¯åº¦çš„æ–¹æ³• loss: æŸå¤±å‡½æ•°, å¯ä»¥ç†è§£ä¸ºç”¨äºè¡¡é‡ä¼°è®¡å€¼å’Œè§‚å¯Ÿå€¼ä¹‹é—´çš„å·®è·, å·®è·è¶Šå°, lossè¶Šå° metrics: ç±»ä¼¼loss, åªæ˜¯metricsä¸å‚ä¸æ¢¯åº¦è®¡ç®—, åªæ˜¯ä¸€ä¸ªè¡¡é‡ç®—æ³•å‡†ç¡®æ€§çš„æŒ‡æ ‡, åˆ†ç±»æ¨¡å‹å°±ç”¨accuracy","tags":[]},{"title":"WebSocketçˆ¬è™«ä¹‹çˆ¬å–é¾™ç å¼¹å¹•","date":"2018-11-17T05:55:12.214Z","path":"2018/11/17/WebSocketçˆ¬è™«ä¹‹çˆ¬å–é¾™ç å¼¹å¹•/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåäºŒç¯‡åŸåˆ›æ–‡ç«  å¼¹å¹•çˆ¬è™« (à¹‘â€¢ . â€¢à¹‘) æˆ‘æ˜¯ä¸€ä¸ªç›´æ’­çˆ±å¥½è€…ï¼Œå–œæ¬¢çœ‹å¾ˆå¤šäººç›´æ’­ï¼Œä»¥å‰å¯ä»¥çœ‹ä¸€å¤©ç›´æ’­ä¸å‡ºé—¨ã€‚ç°åœ¨ä¸»è¦çœ‹è¿™ä¹ˆäº›ä¸»æ’­ï¼Œè™ç‰™çš„éŸ¦ç¥ã€Dopaï¼Œæ–—é±¼çš„ç‹—è´¼å˜˜å˜˜ã€‚ å¯¹äºå…¶ä¸­çš„å¼¹å¹•æ–‡åŒ–ï¼Œéå¸¸æ„Ÿå…´è¶£ï¼Œå°±ç ”ç©¶ä¸‹ï¼Œå‘ç°å¼¹å¹•æ˜¯ç”¨WebSocketå®ç°çš„ï¼Œé‚£é¦–å…ˆæ¥è¯´è¯´ä»€ä¹ˆæ˜¯WebSocketã€‚ WebSocketæ˜¯ä»€ä¹ˆè¯¦ç»†å†…å®¹å¯ä»¥çœ‹çœ‹è¿™ä¸ªé—®é¢˜WebSocket æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿä¸ºä»€ä¹ˆå¯ä»¥å®ç°æŒä¹…è¿æ¥ï¼Ÿ ç®€å•è§£é‡Šä¸‹ï¼š HTTP åè®®æ˜¯ä¸€ç§æ— çŠ¶æ€çš„ã€æ— è¿æ¥çš„ã€å•å‘çš„åº”ç”¨å±‚åè®®ã€‚å®ƒé‡‡ç”¨äº†è¯·æ±‚/å“åº”æ¨¡å‹ã€‚é€šä¿¡è¯·æ±‚åªèƒ½ç”±å®¢æˆ·ç«¯å‘èµ·ï¼ŒæœåŠ¡ç«¯å¯¹è¯·æ±‚åšå‡ºåº”ç­”å¤„ç†ã€‚ è¿™ç§é€šä¿¡æ¨¡å‹æœ‰ä¸€ä¸ªå¼Šç«¯ï¼šHTTP åè®®æ— æ³•å®ç°æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘èµ·æ¶ˆæ¯ã€‚å¤§å¤šæ•° Web åº”ç”¨ç¨‹åºå°†é€šè¿‡é¢‘ç¹çš„å¼‚æ­¥JavaScriptå’ŒXMLï¼ˆAJAXï¼‰è¯·æ±‚å®ç°é•¿è½®è¯¢ã€‚è½®è¯¢çš„æ•ˆç‡ä½ï¼Œéå¸¸æµªè´¹èµ„æºï¼ˆå› ä¸ºå¿…é¡»ä¸åœè¿æ¥ï¼Œæˆ–è€… HTTP è¿æ¥å§‹ç»ˆæ‰“å¼€ï¼‰ã€‚ WebSocketçš„æœ€å¤§ç‰¹ç‚¹å°±æ˜¯ï¼ŒæœåŠ¡å™¨å¯ä»¥ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥ä¸»åŠ¨å‘æœåŠ¡å™¨å‘é€ä¿¡æ¯ã€‚ WebSocket å¦‚ä½•å·¥ä½œ äº‹ä»¶ äº‹ä»¶å¤„ç†ç¨‹åº æè¿° open WebSocket.onopen è¿æ¥å»ºç«‹æ—¶è§¦å‘ message WebSocket.onmessage å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡ç«¯æ•°æ®æ—¶è§¦å‘ error WebSocket.onerror é€šä¿¡å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ close WebSocket.onclose è¿æ¥å…³é—­æ—¶è§¦å‘ ä¸€ä¸ªéå¸¸å…¸å‹çš„WebSocketåˆ›å»ºæ–¹å¼å¦‚ä¸‹ï¼ˆæ¥è‡ªæŸå·¨å¤´ï¼‰ï¼š 1234567891011function r() &#123; if (!d) &#123; var t = i(); I.info(\"%cconnecting \" + t, p(\"#0000E3\")), u = new WebSocket(t), u.onopen = n, u.onclose = o, u.onerror = a, u.onmessage = h &#125;&#125; WebSocketè·å–é¾™ç ç›´æ’­å¼¹å¹•æœ¬æ¬¡ä½¿ç”¨çš„Pythonç¬¬ä¸‰æ–¹åº“æ˜¯ websocket-client çœ‹çœ‹å®˜æ–¹ä¾‹å­ï¼š 1234567891011121314151617181920212223242526272829303132333435import websockettry: import threadexcept ImportError: import _thread as threadimport timedef on_message(ws, message): print(message)def on_error(ws, error): print(error)def on_close(ws): print(\"### closed ###\")def on_open(ws): def run(*args): for i in range(3): time.sleep(1) ws.send(\"Hello %d\" % i) time.sleep(1) ws.close() print(\"thread terminating...\") thread.start_new_thread(run, ())if __name__ == \"__main__\": websocket.enableTrace(True) ws = websocket.WebSocketApp(\"ws://echo.websocket.org/\", on_message = on_message, on_error = on_error, on_close = on_close) ws.on_open = on_open ws.run_forever() æ˜¯ä¸æ˜¯éå¸¸ç†Ÿæ‚‰ï¼Œå’Œä¸Šé¢è®²åˆ°çš„ä¸€æ¨¡ä¸€æ ·ï¼Œ4ç§ä¸»è¦æ€æƒ³æ–¹æ³•éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ã€‚ é‚£ä¹ˆåˆ°äº†å®è·µç¯èŠ‚ï¼Œæœ¬æ¬¡é€‰å–çš„æ˜¯é¾™ç ç›´æ’­ï¼Œä¸ºå•¥ä¸æ˜¯è™ç‰™ã€æ–—é±¼å‘¢ï¼Ÿè¿™ä¸ªå¾…ä¼šå†è¯´ï¼Œæˆ‘ä»¬æ‰“å¼€é¾™ç æŸä¸ªç›´æ’­é—´ åœ¨ç½‘ç»œé‡Œé¢é€‰æ‹©wsè¿™ä¸€é¡¹ï¼Œå³å¯çœ‹åˆ°ç›¸å…³è¿æ¥ï¼Œè€Œä¸”è¿™äº›æ¶ˆæ¯æ˜¯åŠ å¯†è¿‡çš„ï¼Œåˆ«æ€¥ï¼Œæˆ‘ä»¬æ‰“å¼€mç«™è¯•è¯• è¿™ä¸ªæ—¶å€™ä¼ è¾“çš„å¼¹å¹•æ¶ˆæ¯å·²ç»æ²¡æœ‰åŠ å¯†è¿‡ï¼Œç›´æ¥å¯¹æ¯”ï¼Œçœ‹åˆ°äº†ä¸€æ¡â€œå“ˆå“ˆå“ˆâ€çš„æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¯ä»¥ç¡®å®šå°±æ˜¯è¿™ä¸ªwebsocketè¿æ¥åœ¨ä¼ è¾“ç›¸å…³æ¶ˆæ¯ã€‚ ä¾è‘«èŠ¦ç”»ç“¢ï¼Œæˆ‘ä»¬å°è¯•ç”¨Pythonæ¥è¿æ¥ Curl: 1curl 'wss://mbgows.plu.cn:8806/?room_id=2185&amp;group=0' -H 'Pragma: no-cache' -H 'Origin: http://m.longzhu.com' -H 'Accept-Encoding: gzip, deflate, br' -H 'Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7' -H 'Sec-WebSocket-Key: n72+EfLt2iSrQ0EswTZ+2A==' -H 'User-Agent: Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Mobile Safari/537.36' -H 'Upgrade: websocket' -H 'Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits' -H 'Cache-Control: no-cache' -H 'Cookie: pluguest=81D781D68480BE065D952CA699B38E6627B61756AEF57338B39053154850A9502BC7FD850F86922BDF3DBD7F774BFDE5CBC80838A34B8F26' -H 'Connection: Upgrade' -H 'Sec-WebSocket-Version: 13' --compressed Pythonä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#!/usr/bin/env python # -*- coding: utf-8 -*-\"\"\"@author: zhangslob@file: longzhu_websocket.py @time: 2018/11/17@desc: simple websocket client to connect longzhu\"\"\"import websockettry: import threadexcept ImportError: import _thread as threadimport timedef on_message(ws, message): import json try: print(json.loads(message)) except: print(message)def on_error(ws, error): print(error)def on_close(ws): print(\"### closed ###\")def on_open(ws): pass # def run(*args): # for i in range(3): # time.sleep(1) # ws.send(\"Hello %d\" % i) # time.sleep(1) # ws.close() # print(\"thread terminating...\") # thread.start_new_thread(run, ())headers = &#123; 'Pragma': 'no-cache', 'Origin': 'http://m.longzhu.com', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7', # 'Sec-WebSocket-Key': 'n72+EfLt2iSrQ0EswTZ+2A==', 'User-Agent': 'Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Mobile Safari/537.36', 'Upgrade': 'websocket', 'Sec-WebSocket-Extensions': 'permessage-deflate; client_max_window_bits', 'Cache-Control': 'no-cache', 'Connection': 'Upgrade', 'Sec-WebSocket-Version': '13',&#125;if __name__ == \"__main__\": websocket.enableTrace(True) ws = websocket.WebSocketApp(\"wss://mbgows.plu.cn:8806/?room_id=2185&amp;group=0\", on_message=on_message, on_error=on_error, on_close=on_close, header=headers) ws.on_open = on_open ws.run_forever() ä½ å¯ä»¥ç›´æ¥è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œçœ‹çœ‹ä¼šæœ‰ä»€ä¹ˆç»“æœ é¾™ç ç›´æ’­è¿™ä¸ªæœ‰ç‚¹å¥‡æ€ªï¼Œä½ æ ¹æœ¬ä¸ç”¨å»å‘æœåŠ¡å™¨å‘é€ä»€ä¹ˆæ¶ˆæ¯ï¼ŒæœåŠ¡å™¨æ— è„‘ç»™ä½ æ¨é€å¼¹å¹•ï¼Œå¸¸è§çš„æ˜¯å®¢æˆ·ç«¯éœ€è¦å…ˆå‘Šè¯‰æœåŠ¡å™¨â€œæˆ‘æ˜¯è°â€ï¼Œç„¶åæœåŠ¡å™¨å†æ¨é€æ¶ˆæ¯ç»™ä½ ï¼Œå¹¶ä¸”è¿˜æœ‰æœ‰å¿ƒè·³æ£€æµ‹ï¼Œâ€œæˆ‘â€å‘Šè¯‰æœåŠ¡å™¨æˆ‘è¿˜åœ¨çœ‹å‘¢ï¼Œä½ ç»§ç»­ç»™æˆ‘å¼¹å¹•ï¼Œçœ‹çœ‹è™ç‰™å’Œæ–—é±¼ã€‚ å›¾ä¸­ç»¿è‰²çš„æ˜¯å‘é€çš„æ¶ˆæ¯ï¼Œçº¢è‰²æ˜¯æ¥å—çš„æ¶ˆæ¯ã€‚åƒè¿™ç§æƒ…å†µå°±éœ€è¦è‡ªå·±å»çœ‹jsä»£ç æ˜¯å¦‚ä½•å¤„ç†æ¶ˆæ¯çš„ã€‚æ–—é±¼çš„è¯æœ‰å…¬å¼€è‡ªå·±çš„å¼¹å¹•æœåŠ¡å™¨ç¬¬ä¸‰æ–¹æ¥å…¥åè®®ã€‚","tags":[]},{"title":"Pycharmæ’ä»¶æ¨èï¼šDocker integration","date":"2018-11-15T10:58:11.000Z","path":"2018/11/15/Pycharmæ’ä»¶æ¨èï¼šDocker-integration/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåä¸€ç¯‡åŸåˆ›æ–‡ç«  ç®€æ˜“Dockeræ“ä½œ (à¹‘â€¢ . â€¢à¹‘) æ’ä»¶Dockeråœ¨è®¾ç½®-Plugins-BROWSE REPOSITORIESâ€¦ ä¸­æœç´¢â€œDockerâ€ å®‰è£…å³å¯ï¼Œé‡å¯ä½¿ç”¨ å½“ç„¶æœ¬åœ°å¿…é¡»å…ˆå®‰è£…Dockerï¼Œå¹¶ä¸”æ‰“å¼€Dockerï¼Œè€Œä¸”éœ€è¦åŠ å…¥ç”¨æˆ·ç»„ 1$ sudo groupadd docker &amp;&amp; sudo usermod -aG docker $USER ä¹‹åå°±å¯ä»¥ä¸åŠ sudoè¿è¡ŒDockerå‘½ä»¤äº† 1$ docker run hello-world æ‰“å¼€ä¹‹åå°±æ˜¯è¿™æ ·çš„ åˆ†åˆ«å°±æ˜¯å®¹å™¨å’Œé•œåƒï¼Œä¸‹é¢ä¸¾ä¸€ä¸ªç®€å•çš„æ —å­ï¼Œå…ˆå»æ‹‰pythonçš„é•œåƒï¼Œç„¶åè¿è¡Œhelloworld.pyæ–‡ä»¶ 12345FROM pythonCOPY helloworld.py /app/helloworld.pyWORKDIR /app åœ¨Dockerfileå·¦è¾¹æœ‰ä¸€ä¸ªç»¿è‰²æŒ‰é’®ï¼ŒRun Dockerfile helloworld.py 1print 'hello world' è¿™é‡Œä¼šç›´æ¥æŠ¥é”™ï¼Œå› ä¸ºpython3å˜›ï¼Œç„¶åæˆ‘ä»¬ç°åœ¨éœ€è¦ä¿®å¤ï¼Œå¯ä»¥å…ˆä¿®æ”¹pythonæ–‡ä»¶ï¼Œå†é‡æ–°buildï¼Œè¿™é‡Œä»‹ç»ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ã€‚ å³é”®ç‚¹å‡»æ„å»ºå¥½çš„å®¹å™¨ï¼Œç‚¹å‡»â€œExecâ€ï¼Œè¾“å…¥/bin/bashè¿›å…¥shell 12345678910root@a8b31f52a720:/app# lshelloworld.pyroot@a8b31f52a720:/app# python helloworld.py File \"helloworld.py\", line 1 print 'hello world' ^SyntaxError: Missing parentheses in call to 'print'. Did you mean print('hello world')?root@a8b31f52a720:/app# python --versionPython 3.7.1root@a8b31f52a720:/app# æˆ‘ä»¬æ‹‰å–çš„é•œåƒæ˜¯Python3.7ç‰ˆæœ¬çš„ï¼Œæˆ‘æƒ³è¦ç›´æ¥åœ¨Pycharmä¸­ç¼–è¾‘PYæ–‡ä»¶ï¼Œå¹¶è®©Dockerç›´æ¥åŒæ­¥æ–‡ä»¶å˜åŒ–ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªåŠŸèƒ½ï¼šVolume Bindings åˆ†åˆ«å¡«ä¸ŠDockerä¸­çš„ç›®å½•ä¸æœ¬åœ°æ‰€åœ¨ç›®å½•ï¼Œä¸€å®šè¦ç‚¹å‡»å³ä¸‹è§’çš„SAVEï¼Œç¨ç­‰ç‰‡åˆ»ï¼Œç‚¹å‡»Volume Bindings å°±å¯ä»¥çœ‹åˆ°å…³è”äº†ã€‚ å…¶å®è¿™ä¸ªåŠŸèƒ½å°±æ˜¯Dockerä¸­çš„Volumeï¼ŒDocker ä¸­å¯ä»¥é€šè¿‡ Volume å®ç°æŒä¹…åŒ–å­˜å‚¨å’Œæ•°æ®å…±äº«ã€‚åªä¸è¿‡è¿™é‡Œé€šè¿‡å¯è§†åŒ–éå¸¸æ–¹ä¾¿è°ƒè¯•ã€‚ è¿˜æœ‰å…¶ä»–åŠŸèƒ½ï¼Œåƒè®¾ç½®ç¯å¢ƒå˜é‡ã€ç«¯å£æš´éœ²ç­‰ç­‰ï¼Œä½¿ç”¨è¿™ä¸ªæ’ä»¶å°±ä¼šæ¯”è¾ƒå®¹æ˜“å¤„ç†ã€‚ å…¶å®æˆ‘ç”¨çš„æ¯”è¾ƒå¤šçš„æƒ…å†µæ˜¯çˆ¬è™«æœ¬åœ°å’Œçº¿ä¸Šæœ‰å·®è·æ—¶å°±ä¼šæ¥æµ‹è¯•ï¼Œæœ‰æ—¶å€™æ˜¯å‘ç°æŸä¸ªä¾èµ–æ²¡æœ‰è£…ï¼Œæœ‰æ—¶å€™åˆ™æ˜¯ç½‘ç»œé—®é¢˜ã€‚ Dockeræµ‹è¯•å¯ä»¥ä¿è¯çš„ä¸€ç‚¹æ˜¯ç¯å¢ƒå®Œå…¨ä¸€è‡´ã€‚","tags":[{"name":"Pycharm","slug":"Pycharm","permalink":"https://zhangslob.github.io/tags/Pycharm/"},{"name":"Docker","slug":"Docker","permalink":"https://zhangslob.github.io/tags/Docker/"}]},{"title":"Pythonå®ç°å¸¸è§çš„å›æ–‡å­—ç¬¦ä¸²ç®—æ³•","date":"2018-11-13T14:09:41.000Z","path":"2018/11/13/Pythonå®ç°å¸¸è§çš„å›æ–‡å­—ç¬¦ä¸²ç®—æ³•/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒåç¯‡åŸåˆ›æ–‡ç«  å›æ–‡åˆ©ç”¨python è‡ªå¸¦çš„ç¿»è½¬ å‡½æ•°reversed() 12def is_plalindrome(string): return string == ''.join(list(reversed(string))) è‡ªå·±å®ç° 1234567891011def is_plalindrome(string): string = list(string) length = len(string) left = 0 right = length - 1 while left &lt; right: if string[left] != string[right]: return False left += 1 right -= 1 return True æœ€é•¿çš„å›æ–‡å­ä¸²æš´åŠ›ç ´è§£æš´åŠ›ç ´è§£ï¼Œæšä¸¾æ‰€æœ‰çš„å­ä¸²ï¼Œå¯¹æ¯ä¸ªå­ä¸²åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡ï¼Œ æ—¶é—´å¤æ‚åº¦ä¸º O(n^3) åŠ¨æ€è§„åˆ’12345678910111213141516171819202122def solution(s): s = list(s) l = len(s) dp = [[0] * l for i in range(l)] for i in range(l): dp[i][i] = True # å½“ k = 2æ—¶è¦ç”¨åˆ° dp[i][i - 1] = True resLeft = 0 resRight = 0 # æšä¸¾å­ä¸²çš„é•¿åº¦ for k in range(2, l+1): # å­ä¸²çš„èµ·å§‹ä½ç½® for i in range(0, l-k+1): j = i + k - 1 if s[i] == s[j] and dp[i + 1][j - 1]: dp[i][j] = True # ä¿å­˜æœ€é•¿çš„å›æ–‡èµ·ç‚¹å’Œç»ˆç‚¹ if resRight - resLeft + 1 &lt; k: resLeft = i resRight = j return ''.join(s[resLeft:resRight+1]) æ—¶é—´å¤æ‚åº¦ä¸º O(n^2), ç©ºé—´å¤æ‚åº¦ä¸º O(n^2) Manacher ç®—æ³•Manacher ç®—æ³•é¦–å…ˆå¯¹å­—ç¬¦ä¸²åšä¸€ä¸ªé¢„å¤„ç†,ä½¿å¾—æ‰€æœ‰çš„ä¸²éƒ½æ˜¯å¥‡æ•°é•¿åº¦, æ’å…¥çš„æ˜¯åŒæ ·çš„ç¬¦å·ä¸”ç¬¦å·ä¸å­˜åœ¨ä¸åŸä¸²ä¸­ï¼Œä¸²çš„å›æ–‡æ€§ä¸å—å½±å“ 12aba =&gt; #a#b#a#abab =&gt; #a#b#a#b# æˆ‘ä»¬æŠŠå›æ–‡ä¸²ä¸­æœ€å³ä½ç½®ä¸å…¶å¯¹ç§°è½´çš„è·ç¦»ç§°ä¸ºå›æ–‡åŠå¾„ï¼ŒManacher ç®—æ³•å®šä¹‰äº†ä¸€ä¸ªå›æ–‡åŠå¾„æ•°ç»„ RLï¼ŒRL[i]è¡¨ç¤ºä»¥ç¬¬ i ä¸ªå­—ç¬¦ä¸ºå¯¹ç§°è½´çš„å›æ–‡åŠå¾„ï¼Œå¯¹äºä¸Šé¢å¾—åˆ°çš„æ’å…¥åˆ†éš”ç¬¦çš„ä¸²æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° RLæ•°ç»„ 12345678char: # a # b # a #RL: 1 2 1 4 1 2 1RL-1: 0 1 0 3 0 1 0i: 0 1 2 3 4 5 6char: # a # b # a # b #RL: 1 2 1 4 1 4 1 2 1RL-1: 0 1 0 3 0 3 0 1 0i: 0 1 2 3 4 5 6 7 8 æˆ‘ä»¬è¿˜æ±‚äº† RL[i] - 1: æˆ‘ä»¬å‘ç°RL[i] -1 æ­£å¥½æ˜¯åˆå§‹å­—ç¬¦ä¸²ä¸­ä»¥ä½ç½®i ä¸ºå¯¹ç§°è½´çš„æœ€é•¿å›æ–‡é•¿åº¦ æ‰€ä»¥ä¸‹é¢å°±æ˜¯é‡ç‚¹å¦‚ä½•æ±‚å¾— RL æ•°ç»„äº†ï¼Œ å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  (è®²å¾—æ¯”è¾ƒæ¸…æ™°) ä¸‹é¢æ˜¯ç®—æ³•å®ç° 12345678910111213141516171819def manacher(preS): s = '#' + '#'.join(preS) + '#' l = len(s) RL = [0] * l maxRight = pos = maxLen = 0 for i in range(l): if i &lt; maxRight: RL[i] = min(RL[2*pos - i], maxRight-i) else: RL[i] = 1 while i - RL[i] &gt;= 0 and i + RL[i] &lt; l and s[i - RL[i]] == s[i + RL[i]]: RL[i] += 1 if i + RL[i] - 1 &gt; maxRight: maxRight = i + RL[i] - 1 pos = i maxLen = max(RL) idx = RL.index(maxLen) sub = s[idx - maxLen + 1: idx + maxLen] return sub.replace('#', '') ç©ºé—´å¤æ‚åº¦ï¼šå€ŸåŠ©äº†ä¸€ä¸ªè¾…åŠ©æ•°ç»„ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n)æ—¶é—´å¤æ‚åº¦ï¼šå°½ç®¡å†…å±‚å­˜åœ¨å¾ªç¯ï¼Œä½†æ˜¯å†…å±‚å¾ªç¯åªå¯¹å°šæœªåŒ¹é…çš„éƒ¨åˆ†è¿›è¡Œï¼Œå¯¹äºæ¯ä¸€ä¸ªå­—ç¬¦æ¥è¯´ï¼Œåªä¼šè¿›è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ O(n) æœ€é•¿å›æ–‡å‰ç¼€æ‰€è°“å‰ç¼€ï¼Œå°±æ˜¯ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ ä¸‹é¢çš„æœ€é•¿å›æ–‡å‰ç¼€ 123abbabbc =&gt; abbcabababb =&gt; ababasogou =&gt; s å°†åŸä¸²é€†è½¬ï¼Œé‚£ä¹ˆé—®é¢˜å°±è½¬å˜ä¸ºæ±‚åŸä¸²çš„å‰ç¼€å’Œé€†ä¸²åç¼€ç›¸ç­‰ä¸”é•¿åº¦æœ€å¤§çš„å€¼, è¿™ä¸ªé—®é¢˜å…¶å®å°±æ˜¯ KMP ç®—æ³•ä¸­çš„ next æ•°ç»„çš„æ±‚è§£äº† å…·ä½“æ±‚è§£ï¼š å°†åŸä¸²é€†è½¬å¹¶æ‹¼æ¥åˆ°åŸä¸²ä¸­ï¼Œ ä»¥â€™#â€™ åˆ†éš”åŸä¸²å’Œé€†è½¬é¿å…å†…éƒ¨å­—ç¬¦ä¸²å¹²æ‰°ã€‚ 12345678910111213141516def longest_palindrome_prefix(s): if not s: return 0 s = s + '#' + s[::-1] + '$' i = 0 j = -1 nt = [0] * len(s) nt[0] = -1 while i &lt; len(s) - 1: if j == -1 or s[i] == s[j]: i += 1 j += 1 nt[i] = j else: j = nt[j] return nt[len(s) - 1] æ·»åŠ å­—ç¬¦ç”Ÿæˆæœ€çŸ­å›æ–‡å­—ç¬¦ä¸²è¿™é“é¢˜å…¶å®è·Ÿä¸Šé¢åŸºæœ¬æ˜¯ä¸€æ ·çš„ï¼Œå®ä¾‹ï¼š 12aacecaaa -&gt; aaacecaaa # æ·»åŠ  aabcd -&gt; dcbabcd # æ·»åŠ  dcb æˆ‘ä»¬å…ˆæ±‚å­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å‰ç¼€, ç„¶åå‰©ä½™çš„å­—ç¬¦ä¸²é€†è½¬å¹¶æ‹¼æ¥åˆ°å­—ç¬¦ä¸²çš„å¤´éƒ¨å³æ˜¯é—®é¢˜æ‰€æ±‚ 123def solution(s): length = longest_palindrome_prefix(s) return s[length:][::-1] + s æœ€é•¿å›æ–‡å­åºåˆ—åŠ¨æ€è§„åˆ’æ³• dp[i][j] è¡¨ç¤ºå­åºåˆ— s[i..j] ä¸­å­˜åœ¨çš„æœ€é•¿å›æ–‡å­åºåˆ—é•¿åº¦ åˆå§‹åŒ–dp[i][i] = 1 å½“ s[i] == s[j] ä¸º true æ—¶ï¼Œdp[i][j] = dp[i+1][j - 1] + 2 å½“ s[i] == s[j] ä¸º false æ—¶ï¼Œdp[i][j] = max(dp[i+1][j], dp[i][j - 1]) 12345678910111213141516# æ±‚å¾—æœ€é•¿å›æ–‡å­åºåˆ—çš„é•¿åº¦def solution(s): l = len(s) dp = [[0] * l for i in range(l)] for i in range(l): dp[i][i] = 1 # æšä¸¾å­ä¸²çš„é•¿åº¦ for k in range(2, l+1): # æšä¸¾å­ä¸²çš„èµ·å§‹ä½ç½® for i in range(0, l-k+1): j = i + k - 1 if s[i] == s[j]: dp[i][j] = dp[i + 1][j - 1] + 2 else: dp[i][j] = max(dp[i][j - 1], dp[i + 1][j]) return dp[0][l-1] æ—¶é—´å¤æ‚åº¦ä¸º O(n^2), ç©ºé—´å¤æ‚åº¦ä¸º O(n^2) è½¬è‡ªï¼šhttp://youbookee.com/2016/09/06/plalindrome-substring/","tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://zhangslob.github.io/tags/ç®—æ³•/"}]},{"title":"çˆ¬è™«ä¹‹å…¨ç«™çˆ¬å–æ–¹æ³•","date":"2018-11-07T11:23:43.000Z","path":"2018/11/07/çˆ¬è™«ä¹‹å…¨ç«™çˆ¬å–æ–¹æ³•/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åä¹ç¯‡åŸåˆ›æ–‡ç«  æ–¹æ³•åšè¿‡å¥½å‡ ä¸ªå…³äºç½‘ç«™å…¨ç«™çš„é¡¹ç›®ï¼Œè¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚ å…ˆæŠŠä¸Šé¢é‚£å¼ å›¾å†™ä¸‹æ¥ï¼Œå…¨ç«™çˆ¬å–çš„ä¸¤ç§æ–¹æ³•ï¼š å…³ç³»ç½‘ç»œï¼š ä¼˜ç‚¹ï¼šç®€å•ï¼›å¯ä»¥æŠ“å–â€œçƒ­é—¨â€æ•°æ® ç¼ºç‚¹ï¼šæ— æ³•æŠ“å–å…¨é‡æ•°æ®ï¼›é€Ÿåº¦æ…¢ï¼›éœ€è¦è§£å†³å»é‡é—®é¢˜ å¯è¡Œæ€§ï¼šæ¯”è¾ƒé«˜ éå†ID ä¼˜ç‚¹ï¼šå¯ä»¥æŠ“å–æ‰€æœ‰æ•°æ®ï¼›ä¸ç”¨æ•°æ®å»é‡ ç¼ºç‚¹ï¼šèµ„æºæ¶ˆè€—å¤§ï¼›é€Ÿåº¦æ…¢ï¼›å¯èƒ½è¢«å‘ç° å¯è¡Œæ€§ï¼šä»…å¯ç”¨äºIDè‡ªå¢ å…³äºå…³ç³»ç½‘ç»œå…¶å®è¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚æ¯”å¦‚è¯´çŸ¥ä¹ï¼Œä¸€ä¸ªå¤§Væœ‰100Wç²‰ä¸ï¼Œä»è¿™ä¸ªå¤§Vå‡ºå‘ï¼ŒæŠ“å–ç²‰ä¸çš„ç²‰ä¸ï¼Œä¸€ç›´å¾ªç¯ä¸‹å»ã€‚ï¼ˆå¯èƒ½æ˜¯ä¸ªæ­»å¾ªç¯ï¼‰ è¿™ä¸ªæ–¹æ³•å°±æ¯”è¾ƒç®€å•ï¼ŒScrapyä¸­å°±æ˜¯ç»§æ‰¿CrawlSpiderï¼Œå†ç¼–å†™åŒ¹é…è§„åˆ™å°±å¥½ã€‚ Example 12345678910111213141516171819202122232425import scrapyfrom scrapy.spiders import CrawlSpider, Rulefrom scrapy.linkextractors import LinkExtractorclass MySpider(CrawlSpider): name = 'example.com' allowed_domains = ['example.com'] start_urls = ['http://www.example.com'] rules = ( # Extract links matching 'category.php' (but not matching 'subsection.php') # and follow links from them (since no callback means follow=True by default). Rule(LinkExtractor(allow=('category\\.php', ), deny=('subsection\\.php', ))), # Extract links matching 'item.php' and parse them with the spider's method parse_item Rule(LinkExtractor(allow=('item\\.php', )), callback='parse_item'), ) def parse_item(self, response): self.logger.info('Hi, this is an item page! %s', response.url) item = scrapy.Item() item['id'] = response.xpath('//td[@id=\"item_id\"]/text()').re(r'ID: (\\d+)') item['name'] = response.xpath('//td[@id=\"item_name\"]/text()').extract() item['description'] = response.xpath('//td[@id=\"item_description\"]/text()').extract() return item è¿™ç§æ–¹æ³•ä¸€èˆ¬æ˜¯æœç´¢å¼•æ“ä¼šåšçš„ã€‚è€Œä¸”æŠ“å–çš„å†…å®¹åŸºæœ¬æ˜¯æœ€å¤šäººçœ‹åˆ°çš„ï¼Œæ‰€ä»¥æœˆæ’åœ¨å‰é¢ï¼Œå’ŒSEOæœ‰å…³ã€‚ ä½†æ˜¯è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œæœ€æ˜æ˜¾çš„å°±æ˜¯æ²¡æ³•æŠ“å…¨æ•°æ®ï¼Œåƒé‚£ç§å†·é—¨çš„æ•°æ®å°±æ²¡æ³•æŠ“å–åˆ°ï¼Œé€Ÿåº¦ä¹Ÿæ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œå¿…é¡»ä¿å­˜å»é‡é˜Ÿåˆ—ï¼Œä»¥é˜²æ­¢é‡å¤æŠ“å–é¡µé¢ã€‚ï¼ˆäº†è§£ä¸‹å¸ƒéš†è¿‡æ»¤å™¨ï¼‰ å¦‚æœå¯¹æ•°æ®å®Œæ•´æ€§è¦æ±‚æ²¡é‚£ä¹ˆé«˜å¯ä»¥è€ƒè™‘è¿™ç§æ–¹æ³•ã€‚ éå†IDæ‰¾å„ç§æ–¹æ³•å°±æ¯”è¾ƒæ— è„‘äº†ï¼Œå•¥ä¹Ÿä¸ç”¨æƒ³ï¼Œä»0å¼€å§‹éå†è·‘å§ã€‚ æ¯«æ— ç–‘é—®ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥æŠ“å–ç½‘ç«™æ‰€æœ‰çš„æ•°æ®ï¼Œå› ä¸ºåœ¨å¼€å§‹æŠ“å–å‰å°±å·²ç»å®Œæˆçš„å»é‡ï¼Œæ‰€ä»¥è¿™æ–¹é¢å°±ä¸ç”¨ç®¡äº†ã€‚ ä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå› ä¸ºæ˜¯éå†IDï¼Œæ‰€ä»¥éœ€è¦å¾ˆå¤šæœåŠ¡å™¨èµ„æºå’Œä»£ç†èµ„æºï¼Œæœ‰å¯èƒ½æŸä¸ªIDå·²ç»ä¸‹æ¶æˆ–å¤±æ•ˆã€‚æ‰€ä»¥æ•´ä¸ªå·¥ç¨‹è¯·æ±‚é‡ä¼šéå¸¸å¤§ã€‚è€Œä¸”å¯èƒ½è¢«åˆ«äººå‘ç°ï¼Œä¸€èˆ¬äººéƒ½å»çœ‹é‚£äº›çƒ­é—¨å¸–å­ï¼Œç»“æœä½ æŠŠé‚£ä¹ˆé‡æ¥æ²¡äººçœ‹çš„ç¿»äº†ä¸€éï¼Œåˆ«äººä¹Ÿä¼šå‘ç°æ•°æ®å¼‚å¸¸çš„ï¼ˆä¹Ÿä¼šå­˜åœ¨å‡æ•°æ®çš„æƒ…å†µğŸ˜­ï¼‰ã€‚ è€Œä¸”è¿™ç§æ–¹æ³•ä¹‹é€‚ç”¨äºIDè‡ªå¢çš„ï¼Œå¤§å¤šæ•°æ˜¯æ•°å­—IDé€’å¢ï¼Œæ¯”å¦‚è¯´å¤©çœ¼æŸ¥çš„ï¼š 123https://www.tianyancha.com/company/24762997https://www.tianyancha.com/company/150041670https://www.tianyancha.com/company/1073358312 çŸ¥ä¹ä¹Ÿæ˜¯ï¼š 123https://zhuanlan.zhihu.com/p/47969297https://zhuanlan.zhihu.com/p/48652497https://zhuanlan.zhihu.com/p/47805332 åº”è¯¥æ˜¯å’Œæ•°å­—æœ‰å…³ç³»ï¼Œå¯ä»¥å…ˆé‡‡æ ·è¿›è¡ŒæŠ“å–ï¼Œç ”ç©¶æ•°æ®åˆ†å¸ƒæƒ…å†µã€‚ å½“æä¾›ä¸æ­£ç¡®IDæ—¶ï¼Œä¹Ÿä¼šè¿”å›æ•°æ®ä¸å­˜åœ¨çš„æƒ…å†µ åœ¨è¿™é‡Œæä¾›ä¸€ä¸ªç”ŸæˆIDçš„æ–¹æ³• 1234567891011121314def gen_uid(num): \"\"\" ä½¿ç”¨ç”Ÿæˆå™¨ç”ŸæˆID :param num: èµ·å§‹ID :return: ç”Ÿæˆå™¨ \"\"\" js = 0 result = list() while js &lt; 20000: num += 1 js += 1 result.append(num) yield result æœ€åå†çœ‹çœ‹è¿™å¼ å›¾ã€‚ä¸¤ç§æ–¹æ³•éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œæ ¹æ®å®é™…éœ€æ±‚é€‰å–ï¼Œå¦‚æœä½ è¿˜çŸ¥é“åˆ«çš„æŠ“å–æ–¹æ³•ï¼Œæ¬¢è¿æŒ‡å‡ºã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"}]},{"title":"Scalaå­¦ä¹ ä¹‹ç›¸åŒçš„å‡½æ•°å","date":"2018-11-05T14:29:02.000Z","path":"2018/11/05/Scalaå­¦ä¹ ä¹‹ç›¸åŒçš„å‡½æ•°å/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åå…«ç¯‡åŸåˆ›æ–‡ç«  æœ€è¿‘åœ¨æ…¢æ…¢çš„å¼€å§‹ç”¨Scalaå†™Sparkï¼Œåˆšå¼€å§‹ä¹Ÿæ˜¯åœ¨èœé¸Ÿæ•™ç¨‹ä¸Šç®€å•è¿‡äº†ä¸€éScalaï¼Œç°åœ¨è¿˜è®°å¾—ä¸€äº›åŸºæœ¬è¯­æ³•ï¼Œè¿˜æœ‰å„ç§å¥‡æ€ªçš„è¯­æ³•ç³–ã€‚æƒ³è¦æ›´å¿«çš„å­¦ä¹ è¿™é—¨è¯­è¨€ï¼Œè¿˜æ˜¯éœ€è¦è‡ªå·±å¤šè°¢è°¢ã€‚ ä»Šå¤©åœ¨çœ‹åˆ«äººä»£ç æ—¶ï¼Œå‘ç°ä»–åœ¨ç±»ä¸­å®šä¹‰äº†ä¸¤ä¸ªåå­—ä¸€æ¨¡ä¸€æ ·çš„å‡½æ•°ï¼Œä½†æ˜¯æˆ‘è¿˜ä»¥ä¸ºä»–å†™é”™äº†ã€‚å½“æˆ‘ä»¥Pythonçš„æ€ç»´å»çœ‹å¾…è¿™ä»¬è¯­è¨€æ—¶ï¼Œå½“ç„¶æ˜¯åœ¨ä½œæ­»çš„è¾¹ç¼˜äº†ã€‚ ä¸¾ä¸€ä¸ªç®€å•çš„æ —å­ï¼Œä»MongoDBè¯»å–æ•°æ®æ—¶ä½¿ç”¨çš„é…ç½®æ‰€å®šä¹‰çš„ä¸¤ä¸ªå‡½æ•° 12345678910def readConfig(context: SparkContext, database: String, collection: String): ReadConfig = &#123; ReadConfig(Map(\"database\" -&gt; database, \"collection\" -&gt; collection), Some(ReadConfig(context)))&#125;def readConfig(session: SparkSession, database: String, collection: String): ReadConfig = &#123; ReadConfig(Map(\"database\" -&gt; database, \"collection\" -&gt; collection), Some(ReadConfig(session)))&#125; å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªå‡½æ•°åä¸€æ ·çš„ï¼Œåˆšå¼€å§‹æˆ‘ä¹Ÿå¾ˆæ‡µé€¼ï¼Œä½†æ˜¯ä»”ç»†ä¸€çœ‹ï¼Œä»–çš„å‚æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€ä¸ªæ˜¯context: SparkContextï¼Œä¸€ä¸ªæ˜¯session: SparkSessionã€‚è¿™ä¸¤ä¸ªå‡½æ•°çš„åŠŸèƒ½ä¸€æ ·ï¼Œä½†æ˜¯æ¥å—çš„å‚æ•°ä¸ä¸€æ ·ï¼Œæ‰€ä»¥è¿™æ‰éœ€è¦å»å®šä¹‰ä¸¤ä¸ªå‡½æ•°ã€‚ï¼ˆè¯•æƒ³ä¸€ä¸‹ï¼Œåœ¨Pythonä¸­å¦‚ä½•å»å®ç°ï¼‰ å¯èƒ½ä½ ä¸æ‡‚Scalaï¼Œè®©æˆ‘ç®€å•è·Ÿä½ è®²ä¸€ä¸‹ã€‚é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨defå…³é”®å­—å®šä¹‰äº†ä¸€ä¸ªåä¸ºreadConfigçš„å‡½æ•°ï¼Œå’ŒPythonä¸€æ¨¡ä¸€æ ·ï¼›ç„¶åå°±æ˜¯å‡½æ•°æ¥å—çš„å‚æ•°äº†ï¼Œå¯ä»¥çœ‹åˆ°åœ¨æ¯ä¸ªå‚æ•°åé¢æœ‰å†’å·ï¼Œè¿™ä¸ªå†’å·å°±è¡¨ç¤ºå‰é¢çš„æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚å®šä¹‰ä¸€ä¸ªç›¸åŠ å‡½æ•° 1234567object add&#123; def addInt(a:Int, b:Int) : Int = &#123; var sum:Int = 0 sum = a + b return sum &#125;&#125; Scalaä¼šåœ¨å˜é‡åå®šä¹‰ç±»å‹ï¼Œè¿™æ ·å°±å¯ä»¥åŒºåˆ«ä¸åŒçš„å‡½æ•°äº†ã€‚ å›åˆ°ä¸Šé¢çš„æ —å­ï¼Œä¸€ä¸ªç±»å‹æ˜¯SparkContextï¼Œä¸€ä¸ªæ˜¯SparkSessionï¼Œè¿™æ˜¯Sparkçš„æ•°æ®ç±»å‹ï¼›ç„¶åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨å‡½æ•°æœ«å°¾æ˜¯å†’å·åŠ ReadConfigï¼Œè¿™é‡Œè¯´çš„è¿”å›çš„æ•°æ®ç±»å‹æ˜¯ReadConfigï¼Œä¹Ÿå°±æ˜¯ä»MongoDBè¯»å–æ•°æ®æ—¶ä½¿ç”¨çš„é…ç½®ç±»å‹ã€‚ï¼ˆå¦‚æœæ˜¯Unitåˆ™ä¸ç”¨è¿”å›ä»»ä½•æ•°æ®ï¼Œå’ŒJavaç±»ä¼¼ï¼‰ æ˜¯ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œåªè¦æˆ‘ä»¬ä¼ é€’çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸åŒç±»å‹ï¼Œå°±ä¼šä½¿ç”¨ç›¸åº”çš„å‡½æ•°ã€‚ éƒ½è¯´Scalaæ˜¯ä¸€ç§å‡½æ•°å¼è¯­è¨€ï¼Œå‡½æ•°æ˜¯ Scala è¯­è¨€çš„æ ¸å¿ƒï¼Œçœ‹çœ‹Scalaå‡½æ•°çš„ç‰¹æ€§ï¼Œä¸è¯´äº†ï¼Œç»§ç»­æ’¸Scalaäº†ã€‚","tags":[{"name":"scala","slug":"scala","permalink":"https://zhangslob.github.io/tags/scala/"}]},{"title":"Sparkå®æˆ˜ï¼ˆäºŒï¼‰å­¦ä¹ UDF","date":"2018-10-29T03:15:55.000Z","path":"2018/10/29/Sparkå®æˆ˜ï¼ˆäºŒï¼‰å­¦ä¹ UDF/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åä¸ƒç¯‡åŸåˆ›æ–‡ç«  åœ¨å¼€å§‹æ­£å¼æ•°æ®å¤„ç†ä¹‹å‰ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦å»å­¦ä¹ ç†è§£ä¸‹UDFã€‚ UDFUDFå…¨ç§°User-Defined Functionsï¼Œç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œæ˜¯Spark SQLçš„ä¸€é¡¹åŠŸèƒ½ï¼Œç”¨äºå®šä¹‰æ–°çš„åŸºäºåˆ—çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°æ‰©å±•äº†Spark SQLçš„DSLç”¨äºè½¬æ¢æ•°æ®é›†çš„è¯æ±‡è¡¨ã€‚ æˆ‘åœ¨databricksä¸Šæ‰¾åˆ°ä¸€ä¸ªæ¯”è¾ƒç®€å•ç†è§£çš„å…¥é—¨æ —å­ï¼š Register the function as a UDF1234val squared = (s: Int) =&gt; &#123; s * s&#125;spark.udf.register(\"square\", squared) Call the UDF in Spark SQL1spark.range(1, 20).registerTempTable(\"test\") 1%sql select id, square(id) as id_squared from test æˆ‘ç†è§£å°±æ˜¯å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°squaredï¼Œè¿”å›è¾“å…¥æ•°å­—çš„å¹³æ–¹ï¼Œç„¶åregisterï¼Œå¹¶ç»‘å®šsquareæ–¹æ³•åä¸ºsquareï¼Œç„¶åå°±åœ¨Spark SQLä¸­ç›´æ¥ä½¿ç”¨squareæ–¹æ³•ã€‚ å®ä¾‹ä¸€ï¼šæ¸©åº¦è½¬åŒ–1234567891011121314151617import org.apache.spark.sql.SparkSessionimport org.apache.spark.SparkConfobject ScalaUDFExample &#123; def main(args: Array[String]) &#123; val conf = new SparkConf().setAppName(\"Scala UDF Example\") val spark = SparkSession.builder().enableHiveSupport().config(conf).getOrCreate() val ds = spark.read.json(\"temperatures.json\") ds.createOrReplaceTempView(\"citytemps\") // Register the UDF with our SparkSession spark.udf.register(\"CTOF\", (degreesCelcius: Double) =&gt; ((degreesCelcius * 9.0 / 5.0) + 32.0)) spark.sql(\"SELECT city, CTOF(avgLow) AS avgLowF, CTOF(avgHigh) AS avgHighF FROM citytemps\").show() &#125;&#125; æˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ª UDF æ¥å°†ä»¥ä¸‹ JSON æ•°æ®ä¸­çš„æ¸©åº¦ä»æ‘„æ°åº¦ï¼ˆdegrees Celsiusï¼‰è½¬æ¢ä¸ºåæ°åº¦ï¼ˆdegrees Fahrenheitï¼‰ï¼š 1234567&#123;\"city\":\"St. John's\",\"avgHigh\":8.7,\"avgLow\":0.6&#125;&#123;\"city\":\"Charlottetown\",\"avgHigh\":9.7,\"avgLow\":0.9&#125;&#123;\"city\":\"Halifax\",\"avgHigh\":11.0,\"avgLow\":1.6&#125;&#123;\"city\":\"Fredericton\",\"avgHigh\":11.2,\"avgLow\":-0.5&#125;&#123;\"city\":\"Quebec\",\"avgHigh\":9.0,\"avgLow\":-1.0&#125;&#123;\"city\":\"Montreal\",\"avgHigh\":11.1,\"avgLow\":1.4&#125;... å®ä¾‹äºŒï¼šæ—¶é—´è½¬åŒ–1234567891011case class Purchase(customer_id: Int, purchase_id: Int, date: String, time: String, tz: String, amount:Double)val x = sc.parallelize(Array( Purchase(123, 234, \"2007-12-12\", \"20:50\", \"UTC\", 500.99), Purchase(123, 247, \"2007-12-12\", \"15:30\", \"PST\", 300.22), Purchase(189, 254, \"2007-12-13\", \"00:50\", \"EST\", 122.19), Purchase(187, 299, \"2007-12-12\", \"07:30\", \"UTC\", 524.37)))val df = sqlContext.createDataFrame(x)df.registerTempTable(\"df\") è‡ªå®šä¹‰å‡½æ•° 1234567def makeDT(date: String, time: String, tz: String) = s\"$date $time $tz\"sqlContext.udf.register(\"makeDt\", makeDT(_:String,_:String,_:String))// Now we can use our function directly in SparkSQL.sqlContext.sql(\"SELECT amount, makeDt(date, time, tz) from df\").take(2)// but not outsidedf.select($\"customer_id\", makeDt($\"date\", $\"time\", $\"tz\"), $\"amount\").take(2) // fails å¦‚æœæƒ³è¦åœ¨SQLå¤–é¢ä½¿ç”¨ï¼Œå¿…é¡»é€šè¿‡spark.sql.function.udfæ¥åˆ›å»ºUDF 1234import org.apache.spark.sql.functions.udfval makeDt = udf(makeDT(_:String,_:String,_:String))// now this worksdf.select($\"customer_id\", makeDt($\"date\", $\"time\", $\"tz\"), $\"amount\").take(2) å®è·µæ“ä½œå†™ä¸€ä¸ªUDFæ¥å°†ä¸€äº›Intæ•°å­—åˆ†ç±» 123456789101112131415val formatDistribution = (view: Int) =&gt; &#123; if (view &lt; 10) &#123; \"&lt;10\" &#125; else if (view &lt;= 100) &#123; \"10~100\" &#125; else if (view &lt;= 1000) &#123; \"100~1K\" &#125; else if (view &lt;= 10000) &#123; \"1K~10K\" &#125; else if (view &lt;= 100000) &#123; \"10K~100K\" &#125; else &#123; \"&gt;100K\" &#125;&#125; æ³¨å†Œï¼š 1session.udf.register(\"formatDistribution\", UDF.formatDistribution) SQLï¼š 1session.sql(\"select user_id, formatDistribution(variance_digg_count) as variance from video\") å†™åˆ°è¿™é‡Œï¼Œå†å›é¡¾UDFï¼Œæˆ‘æ„Ÿè§‰è¿™å°±åƒæ˜¯å»ä¸ºäº†æ–¹ä¾¿åšä¸€ä¸ªåˆ†ç±»è½¬åŒ–ç­‰æ“ä½œï¼Œå’ŒPythoné‡Œé¢çš„å‡½æ•°ä¸€æ ·ï¼Œåªä¸è¿‡è¿™é‡Œçš„UDFä¸€èˆ¬ç‰¹æŒ‡Spark SQLé‡Œé¢ä½¿ç”¨çš„å‡½æ•°ã€‚ç„¶åå‘ç°è¿™é‡Œå’ŒSQLä¸­çš„è‡ªå®šä¹‰å‡½æ•°æŒºåƒçš„: 12345678910111213CREATE FUNCTION [å‡½æ•°æ‰€æœ‰è€….]&lt;å‡½æ•°åç§°&gt; ( -- æ·»åŠ å‡½æ•°æ‰€éœ€çš„å‚æ•°ï¼Œå¯ä»¥æ²¡æœ‰å‚æ•° [&lt;@param1&gt; &lt;å‚æ•°ç±»å‹&gt;] [,&lt;@param1&gt; &lt;å‚æ•°ç±»å‹&gt;]â€¦)RETURNS TABLE ASRETURN ( -- æŸ¥è¯¢è¿”å›çš„SQLè¯­å¥ SELECTæŸ¥è¯¢è¯­å¥) 123456789101112131415161718192021222324252627282930/** åˆ›å»ºå†…è”è¡¨å€¼å‡½æ•°ï¼ŒæŸ¥è¯¢äº¤æ˜“æ€»é¢å¤§äº1Wçš„å¼€æˆ·äººä¸ªäººä¿¡æ¯*/create function getCustInfo()returns @CustInfo table --è¿”å›tableç±»å‹( --è´¦æˆ·ID CustID int, --å¸æˆ·åç§° CustName varchar(20) not null, --èº«ä»½è¯å· IDCard varchar(18), --ç”µè¯ TelePhone varchar(13) not null, --åœ°å€ Address varchar(50) default('åœ°å€ä¸è¯¦'))asbegin --ä¸ºtableè¡¨èµ‹å€¼ insert into @CustInfo select CustID,CustName,IDCard,TelePhone,Address from AccountInfo where CustID in (select CustID from CardInfo where CardID in (select CardID from TransInfo group by CardID,transID,TransType,TransMoney,TransDate having sum(TransMoney)&gt;10000)) returnendgo-- è°ƒç”¨å†…è”è¡¨å€¼å‡½æ•°select * from getCustInfo()go å¥½åƒæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™~","tags":[{"name":"spark","slug":"spark","permalink":"https://zhangslob.github.io/tags/spark/"}]},{"title":"sparkå®æˆ˜ï¼ˆä¸€ï¼‰ï¼šå¯¹æ•°æ®å¤„ç†çš„ç†è§£","date":"2018-10-24T03:05:16.000Z","path":"2018/10/24/sparkå®æˆ˜ä¸€ï¼šå¯¹æ•°æ®å¤„ç†çš„ç†è§£/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åå…­ç¯‡åŸåˆ›æ–‡ç«  å¤§æ•°æ®çš„å­¦ä¹ ç»å†å¤§æ•°æ®æ˜¯ä»€ä¹ˆï¼Œæˆ‘è§‰å¾—åº”è¯¥æœ‰è¿™ä¹ˆå‡ æ­¥ï¼š æ•°æ®é‡‡é›†ï¼ˆPython&amp;&amp;Scrapyï¼‰ æ•°æ®æ¸…æ´—ï¼ˆScala&amp;&amp;Sparkï¼‰ æŒ‡æ ‡è®¡ç®—ï¼ˆScala&amp;&amp;Sparkï¼‰ æ•°æ®å±•ç¤ºï¼ˆPostgreï¼‰ åšäº†ä¸€æ®µæ—¶é—´çš„çˆ¬è™«ï¼Œæˆ–è€…è¯´å«æ•°æ®é‡‡é›†ï¼Œä½†æ˜¯ä»æ¥æ²¡æœ‰æ¥è§¦åˆ°å¤§æ•°æ®çš„ä¸‹ä¸€æ­¥ã€‚æœ€è¿‘å’Œæ…¢æ…¢èŠäº†ä¸‹ï¼Œå¯¹æ•°æ®å¤„ç†ä¹Ÿå¾ˆæ„Ÿå…´è¶£ï¼Œä¾¿æƒ³å»æ¥è§¦ã€å°è¯•ã€‚ åœ¨æ…¢æ…¢ã€ç™»ç™»ç­‰äººçš„å¸®åŠ©ä¸‹ï¼Œå¼€å§‹å­¦ä¹ äº†ä¸€æ®µæ—¶é—´çš„Sparkã€‚åˆšå¼€å§‹å­¦ä¹ SQLè¯­å¥ï¼Œç°åœ¨å°±è®°å¾—ç®€å•çš„é‚£äº›äº†ã€‚ç„¶åå»çœ‹Sparkæ–‡æ¡£ï¼Œè‡ªå·±åŠ¨æ‰‹å¼€å§‹å†™ã€‚ å› ä¸ºå›¢é˜Ÿä¸»è¦ç”¨Scalaå¼€å‘ï¼Œæ‰€ä»¥ä¸­é€”åˆèŠ±äº†ä¸€äº›æ—¶é—´æ¥å­¦ä¹ Scalaè¯­è¨€ï¼Œæ„Ÿè§‰å’ŒPythonæœ‰è®¸å¤šç±»ä¼¼çš„åœ°æ–¹ï¼Œå¹¶ä¸æ˜¯å¤ªéš¾ï¼Œä½†æ˜¯Scalaæœ‰ä¸€äº›ç‰¹æ€§ï¼Œä¸æ˜¯å¤ªæ˜ç™½ï¼Œä¸»è¦æ˜¯è‡ªå·±å†™å¤ªå°‘äº†ã€‚çˆ¬è™«ä»€ä¹ˆçš„è¿˜æ˜¯ç”¨Pythonã€‚ ç„¶åå†å»çœ‹å…·ä½“çš„Spark é¡¹ç›®ï¼Œæ¨¡ä»¿ï¼ˆæŠ„è¢­ï¼‰åˆ«äººçš„ä»£ç ï¼Œå¤§æ¦‚ä¹Ÿçœ‹æ‡‚äº†ä¸€äº›ï¼Œç”±äºå§‹ç»ˆæ²¡æœ‰è‡ªå·±å®è·µæ¥æ“ä½œï¼Œæ‰€ä»¥ç¼ºä¹å®é™…æ“ä½œèƒ½åŠ›ã€‚æœ€å¥½çš„åŠæ³•å°±æ˜¯è‡ªå·±å»å†™ï¼Œæ‰€ä»¥è®¡åˆ’è‡ªå·±å»å•ç‹¬åšä¸€ä¸ªé¡¹ç›®è¯•è¯•çœ‹ï¼Œæ‰‹å¤´ä¸Šè¿˜æœ‰å¥½å¤šå·²å¼€å‘ä½†æ˜¯è¿˜æ²¡å¼€å§‹è®¡ç®—çš„é¡¹ç›®ï¼Œæˆ‘è‡ªå·±å¯ä»¥å…ˆè¯•è¯•çœ‹ã€‚ å¤§æ•°æ®å¤„ç†æ­¥éª¤åœ¨ä¸Šé¢æ‰€è¯´çš„åŸºç¡€ä¸Šå†è¯´ç»†ä¸€äº›ã€‚ æ•°æ®é‡‡é›†å°±åˆ«è¯´äº†ï¼Œå°±æ˜¯é‡‡é›†æˆ‘ä»¬æ‰€éœ€è¦çš„ï¼ˆäº§å“ç»ç†è¦æ±‚çš„ï¼‰æ•°æ® æ•°æ®æ¸…æ´—è¿™é‡Œï¼Œæ˜¯å’Œæ•°æ®é‡‡é›†æœ‰å¾ˆå¤§å…³ç³»çš„ã€‚åˆ†ä¸ºè¿™ä¹ˆä¸¤æ­¥ï¼š æå–æŒ‡å®šæ•°æ®ã€‚å› ä¸ºæˆ‘ä»¬åœ¨åšæ•°æ®é‡‡é›†çš„æ—¶å€™ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ï¼Œæ˜¯å°½å¯èƒ½å¤šçš„ä¿å­˜åŸå§‹æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åˆ«äººç»™å¤šå°‘ï¼Œæˆ‘å°±å–å¤šå°‘ï¼Œä½†æ˜¯è¿™äº›æ•°æ®å¹¶ééƒ½æ˜¯æœ‰ç”¨çš„æ•°æ®ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯éœ€è¦å»æå–åŸå§‹æ•°æ®è¡¨ä¸­æˆ‘ä»¬æ‰€éœ€è¦çš„æŒ‡å®šæ•°æ®ã€‚è¿™é‡Œæ–¹æ³•æœ‰å¾ˆå¤šï¼Œç”¨SQLï¼Œæˆ–è€…åœ¨é“è·¯æ•°æ®çš„æ—¶å€™ç›´æ¥é€‰å–é‚£äº›å­—æ®µå³å¯ã€‚æœ€åæˆ‘ä»¬æŠŠè¿™äº›æå–çš„æ•°æ®é‡æ–°ä¿å­˜åœ¨æ–°çš„è¡¨ä¸­ï¼Œè¿™æ ·åé¢è®¡ç®—ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚ï¼ˆå…¶å®è¿™ä¸€æ­¥åœ¨æ•°æ®é‡‡é›†å°±å¯ä»¥å®Œæˆï¼Œä½†æ˜¯è°ä¹Ÿè¯´ä¸æ¸…åˆ°åº•ä»¥åä¼šä¸ä¼šéœ€è¦æ›´å¤šçš„æ•°æ®ï¼‰ æ¸…æ´—æ•°æ®ã€‚æ¯”å¦‚æ—¶é—´ç»´åº¦ã€ä¸ºç©ºå­—æ®µç­‰ç­‰ï¼Œè¿™äº›ç°åœ¨é‡åˆ°çš„è¿˜ä¸å¤šï¼Œä»¥åå†è¡¥ä¸Šã€‚ æŒ‡æ ‡è®¡ç®—ã€‚è¿™ä¸€æ­¥å°±éœ€è¦æ ¹æ®å…·ä½“çš„éœ€æ±‚æ¥è®¡ç®—å„ç§ç»´åº¦ï¼Œå¹¶æŠŠè®¡ç®—å¥½çš„æ•°æ®ä¿å­˜æ–°è¡¨ã€‚ æ•°æ®å±•ç¤ºã€‚è¿™éƒ¨åˆ†å¥½åƒæ˜¯åç«¯åšçš„ï¼Œå¾…äº†è§£ã€‚ éœ€è¦äº†è§£çš„çŸ¥è¯† å¼€å‘å·¥å…·å’Œç¯å¢ƒ MongoDB Postgre SQLï¼ŒJOIN Docker IDEAã€SBT Scalaï¼ˆ2.10+ï¼‰ Spark å®˜æ–¹æ–‡æ¡£ UDF ç›®å‰æ„Ÿè§‰ä»¥ä¸Šéƒ¨åˆ†éƒ½æœ‰ä¸€çŸ¥åŠè§£ï¼Œå¿…é¡»è¦å®é™…å»åšæ‰èƒ½çŸ¥é“åˆ°åº•é‚£éƒ¨åˆ†æŒæ¡ï¼Œé‚£éƒ¨åˆ†è¿˜ä¸æ‡‚ã€‚ æˆ‘çš„è®¡åˆ’ æ‰¾PMè¦DMæ–‡æ¡£ï¼Œç†è§£å…·ä½“ä¸šåŠ¡éœ€æ±‚ æ ¹æ®éœ€æ±‚æ¥é€‰æ‹©æ•°æ®åº“ä¸­çš„æ•°æ®ç»´åº¦ åœ¨æœ¬åœ°å°è¯•æ•°æ®æ¸…æ´—å¹¶è®¡ç®—æŒ‡æ ‡ æœ‰é—®é¢˜è¯·æ•™æ…¢æ…¢ï¼†ç™»ç™»","tags":[{"name":"spark","slug":"spark","permalink":"https://zhangslob.github.io/tags/spark/"}]},{"title":"Sparkæ•™ç¨‹ï¼ˆäºŒï¼‰Sparkè¿æ¥MongoDB","date":"2018-09-03T14:00:59.000Z","path":"2018/09/03/Sparkæ•™ç¨‹ï¼ˆäºŒï¼‰Sparkè¿æ¥MongoDB/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åäº”ç¯‡åŸåˆ›æ–‡ç«  å­¦ä¹ Spark (à¹‘â€¢ . â€¢à¹‘) å¦‚ä½•å¯¼å…¥æ•°æ®æ•°æ®å¯èƒ½æœ‰å„ç§æ ¼å¼ï¼Œè™½ç„¶å¸¸è§çš„æ˜¯HDFSï¼Œä½†æ˜¯å› ä¸ºåœ¨Pythonçˆ¬è™«ä¸­æ•°æ®åº“ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯MongoDBï¼Œæ‰€ä»¥è¿™é‡Œä¼šé‡ç‚¹è¯´è¯´å¦‚ä½•ç”¨sparkå¯¼å…¥MongoDBä¸­çš„æ•°æ®ã€‚ å½“ç„¶ï¼Œé¦–å…ˆä½ éœ€è¦åœ¨è‡ªå·±ç”µè„‘ä¸Šå®‰è£…sparkç¯å¢ƒï¼Œç®€å•è¯´ä¸‹ï¼Œåœ¨è¿™é‡Œä¸‹è½½sparkï¼ŒåŒæ—¶éœ€è¦é…ç½®å¥½JAVAï¼ŒScalaç¯å¢ƒã€‚ è¿™é‡Œå»ºè®®ä½¿ç”¨Jupyter notebookï¼Œä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œåœ¨ç¯å¢ƒå˜é‡ä¸­è¿™æ ·è®¾ç½® 12PYSPARK_DRIVER_PYTHON=jupyter PYSPARK_DRIVER_PYTHON_OPTS=notebook ./bin/pyspark å¦‚æœä½ çš„ç¯å¢ƒä¸­æœ‰å¤šä¸ªPythonç‰ˆæœ¬ï¼ŒåŒæ ·å¯ä»¥åˆ¶å®šä½ æƒ³è¦ä½¿ç”¨çš„è§£é‡Šå™¨ï¼Œæˆ‘è¿™é‡Œæ˜¯python36ï¼Œæ ¹æ®éœ€æ±‚ä¿®æ”¹ã€‚ 1PYSPARK_PYTHON=/usr/bin/python36 å¯åŠ¨å‘½ä»¤è¿›å…¥sparkæ ¹ç›®å½•ï¼Œ./bin/pysparkè¿™æ˜¯æœ€ç®€å•çš„å¯åŠ¨å‘½ä»¤ï¼Œé»˜è®¤ä¼šæ‰“å¼€Pythonçš„äº¤äº’å¼è§£é‡Šå™¨ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬ä¸Šé¢æœ‰è®¾ç½®è¿‡ï¼Œä¼šæ‰“å¼€Jupyter notebookï¼Œæ¥ä¸‹æ¥å˜æˆä¼šæ–¹ä¾¿å¾ˆå¤šã€‚ å…ˆæ¥çœ‹çœ‹æœ€ç®€å•çš„ä¾‹å­ï¼š 12345678910111213&gt;&gt;&gt; textFile = spark.read.text(\"README.md\")&gt;&gt;&gt; textFile.count() # Number of rows in this DataFrame126&gt;&gt;&gt; textFile.first() # First row in this DataFrameRow(value=u'# Apache Spark')&gt;&gt;&gt; linesWithSpark = textFile.filter(textFile.value.contains(\"Spark\"))&gt;&gt;&gt; textFile.filter(textFile.value.contains(\"Spark\")).count() # How many lines contain \"Spark\"?15 è¿™é‡Œæœ‰æˆ‘ä¹‹å‰å†™è¿‡çš„ä¾‹å­ï¼Œå¯ä»¥ç…§ç€å†™ä¸€é basic_exercise æˆ‘ä»¬çš„å¯åŠ¨æ–¹å¼æ˜¯./bin/pysparkï¼Œæˆ‘ä»¬å¯ä»¥å®¶åé¢åŠ å¾ˆå¤šå‚æ•°ï¼Œæ¯”å¦‚è¯´å¦‚è‹¥æˆ‘ä»¬è¦è¿æ¥MongoDBï¼Œå°±éœ€è¦è¿™æ · å®Œæ•´çš„å¯ä»¥å‚è€ƒSpark Connector Python Guide 123./bin/pyspark --conf \"spark.mongodb.input.uri=mongodb://127.0.0.1/test.myCollection?readPreference=primaryPreferred\" \\ --conf \"spark.mongodb.output.uri=mongodb://127.0.0.1/test.myCollection\" \\ --packages org.mongodb.spark:mongo-spark-connector_2.11:2.3.0 è¿™é‡Œæœ‰ä¸¤ä¸ªuriï¼Œåˆ†åˆ«æ˜¯inputå’Œoutputï¼Œå¯¹åº”è¯»å–çš„æ•°æ®åº“å’Œå†™å…¥çš„æ•°æ®åº“ï¼Œæœ€åé¢çš„packagesç›¸å½“äºå¼•å…¥çš„åŒ…çš„åå­—ï¼Œæˆ‘ä¸€èˆ¬å–œæ¬¢åœ¨ä»£ç ä¸­å®šä¹‰ã€‚ è¯»å–/ä¿å­˜æ•°æ®è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¢åŠ å‚æ•°optionï¼Œåœ¨è¿™é‡Œè®¾ç½®æƒ³è¦è¯»å–çš„æ•°æ®åº“åœ°å€ï¼Œæ³¨æ„æ ¼å¼ã€‚ è¯»å–æ•°æ® 12df = spark.read.format(\"com.mongodb.spark.sql.DefaultSource\").option(\"uri\",\"mongodb://127.0.0.1/people.contacts\").load() ä¿å­˜æ•°æ® 123people.write.format(\"com.mongodb.spark.sql.DefaultSource\").mode(\"append\").option(\"uri\",\"mongodb://127.0.0.1/people.contacts\").option(\"database\",\"people\").option(\"collection\", \"contacts\").save() ç®€å•å¯¹æ¯”ä¸‹ï¼Œoptionè¿˜å¯ä»¥å®šä¹‰databaseå’Œcollectionï¼Œè¿™æ ·å°±ä¸éœ€è¦åœ¨å¯åŠ¨Sparkæ—¶å®šä¹‰ã€‚ ä»¥ä¸Šæ˜¯å®˜ç½‘æ¨èçš„è¿æ¥æ–¹å¼ï¼Œè¿™é‡Œéœ€è¦è¯´çš„æ˜¯å¦ä¸€ç§ï¼Œå¦‚æœæˆ‘æ²¡æœ‰ä»å‘½ä»¤è¡Œä¸­å¯åŠ¨ï¼Œè€Œæ˜¯ç›´æ¥æ–°å»ºä¸€ä¸ªpyæ–‡ä»¶ï¼Œè¯¥å¦‚ä½•æ“ä½œï¼Ÿ æœç´¢ç›¸å…³èµ„æ–™åï¼Œå‘ç°æ˜¯è¿™æ · 123456789101112131415161718192021222324#!/usr/bin/env python# -*- coding: utf-8 -*-__author__ = 'zhangslob'import osfrom pyspark.sql import SparkSession# set PYSPARK_PYTHON to python36os.environ['PYSPARK_PYTHON'] = '/usr/bin/python36'# load mongo datainput_uri = \"mongodb://127.0.0.1:spark.spark_test\"output_uri = \"mongodb://127.0.0.1:spark.spark_test\"my_spark = SparkSession\\ .builder\\ .appName(\"MyApp\")\\ .config(\"spark.mongodb.input.uri\", input_uri)\\ .config(\"spark.mongodb.output.uri\", output_uri)\\ .config('spark.jars.packages','org.mongodb.spark:mongo-spark-connector_2.11:2.2.0')\\ .getOrCreate()df = my_spark.read.format('com.mongodb.spark.sql.DefaultSource').load() å¿…é¡»è¦å¢åŠ é»˜è®¤è®¾ç½®(&#39;spark.jars.packages&#39;,&#39;org.mongodb.spark:mongo-spark-connector_2.11:2.2.0&#39;)ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚","tags":[{"name":"spark","slug":"spark","permalink":"https://zhangslob.github.io/tags/spark/"}]},{"title":"Sparkæ•™ç¨‹ï¼ˆä¸€ï¼‰ä¸ºä»€ä¹ˆè¦å­¦spark","date":"2018-09-01T14:00:50.000Z","path":"2018/09/01/Sparkæ•™ç¨‹ï¼ˆä¸€ï¼‰ä¸ºä»€ä¹ˆè¦å­¦spark/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åå››ç¯‡åŸåˆ›æ–‡ç«  å­¦ä¹ Spark (à¹‘â€¢ . â€¢à¹‘) ä»‹ç»Apache Sparkæ˜¯ä¸€ä¸ªå¼€æºé›†ç¾¤è¿ç®—æ¡†æ¶ï¼Œæœ€åˆæ˜¯ç”±åŠ å·å¤§å­¦æŸå…‹è±åˆ†æ ¡AMPLabæ‰€å¼€å‘ã€‚ç›¸å¯¹äºHadoopçš„MapReduceä¼šåœ¨è¿è¡Œå®Œå·¥ä½œåå°†ä¸­ä»‹æ•°æ®å­˜æ”¾åˆ°ç£ç›˜ä¸­ï¼ŒSparkä½¿ç”¨äº†å­˜å‚¨å™¨å†…è¿ç®—æŠ€æœ¯ï¼Œèƒ½åœ¨æ•°æ®å°šæœªå†™å…¥ç¡¬ç›˜æ—¶å³åœ¨å­˜å‚¨å™¨å†…åˆ†æè¿ç®—ã€‚ Sparkåœ¨å­˜å‚¨å™¨å†…è¿è¡Œç¨‹åºçš„è¿ç®—é€Ÿåº¦èƒ½åšåˆ°æ¯”Hadoop MapReduceçš„è¿ç®—é€Ÿåº¦å¿«ä¸Š100å€ï¼Œå³ä¾¿æ˜¯è¿è¡Œç¨‹åºäºç¡¬ç›˜æ—¶ï¼ŒSparkä¹Ÿèƒ½å¿«ä¸Š10å€é€Ÿåº¦ã€‚Sparkå…è®¸ç”¨æˆ·å°†æ•°æ®åŠ è½½è‡³é›†ç¾¤å­˜å‚¨å™¨ï¼Œå¹¶å¤šæ¬¡å¯¹å…¶è¿›è¡ŒæŸ¥è¯¢ï¼Œéå¸¸é€‚åˆç”¨äºæœºå™¨å­¦ä¹ ç®—æ³• Sparkä¹Ÿæ”¯æŒä¼ªåˆ†å¸ƒå¼ï¼ˆpseudo-distributedï¼‰æœ¬åœ°æ¨¡å¼ï¼Œä¸è¿‡é€šå¸¸åªç”¨äºå¼€å‘æˆ–æµ‹è¯•æ—¶ä»¥æœ¬æœºæ–‡ä»¶ç³»ç»Ÿå–ä»£åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿã€‚åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼ŒSparkä»…åœ¨ä¸€å°æœºå™¨ä¸Šä½¿ç”¨æ¯ä¸ªCPUæ ¸å¿ƒè¿è¡Œç¨‹åºã€‚ Apache Sparkâ„¢ is a unified analytics engine for large-scale data processing. ä¼˜åŠ¿ é¦–å…ˆï¼ŒSparkä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå…¨é¢ã€ç»Ÿä¸€çš„æ¡†æ¶ç”¨äºç®¡ç†å„ç§æœ‰ç€ä¸åŒæ€§è´¨ï¼ˆæ–‡æœ¬æ•°æ®ã€å›¾è¡¨æ•°æ®ç­‰ï¼‰çš„æ•°æ®é›†å’Œæ•°æ®æºï¼ˆæ‰¹é‡æ•°æ®æˆ–å®æ—¶çš„æµæ•°æ®ï¼‰çš„å¤§æ•°æ®å¤„ç†çš„éœ€æ±‚ã€‚ Sparkå¯ä»¥å°†Hadoopé›†ç¾¤ä¸­çš„åº”ç”¨åœ¨å†…å­˜ä¸­çš„è¿è¡Œé€Ÿåº¦æå‡100å€ï¼Œç”šè‡³èƒ½å¤Ÿå°†åº”ç”¨åœ¨ç£ç›˜ä¸Šçš„è¿è¡Œé€Ÿåº¦æå‡10å€ã€‚ Sparkè®©å¼€å‘è€…å¯ä»¥å¿«é€Ÿçš„ç”¨Javaã€Scalaæˆ–Pythonç¼–å†™ç¨‹åºã€‚å®ƒæœ¬èº«è‡ªå¸¦äº†ä¸€ä¸ªè¶…è¿‡80ä¸ªé«˜é˜¶æ“ä½œç¬¦é›†åˆã€‚è€Œä¸”è¿˜å¯ä»¥ç”¨å®ƒåœ¨shellä¸­ä»¥äº¤äº’å¼åœ°æŸ¥è¯¢æ•°æ®ã€‚ é™¤äº†Mapå’ŒReduceæ“ä½œä¹‹å¤–ï¼Œå®ƒè¿˜æ”¯æŒSQLæŸ¥è¯¢ï¼Œæµæ•°æ®ï¼Œæœºå™¨å­¦ä¹ å’Œå›¾è¡¨æ•°æ®å¤„ç†ã€‚å¼€å‘è€…å¯ä»¥åœ¨ä¸€ä¸ªæ•°æ®ç®¡é“ç”¨ä¾‹ä¸­å•ç‹¬ä½¿ç”¨æŸä¸€èƒ½åŠ›æˆ–è€…å°†è¿™äº›èƒ½åŠ›ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ã€‚ äº²èº«ä½“ä¼šç»è¿‡è¿™ä¸¤å‘¨çš„æŠ˜è…¾ï¼Œæ€»ç®—æ˜¯åœ¨æœ¬åœ°ç¯å¢ƒä¸‹å®Œæˆäº†ç¬¬ä¸€ä¸ªsparké¡¹ç›®ï¼Œå®Œæˆåä¸‡çº§æ–‡æœ¬åˆ†è¯å’Œå»é‡ï¼Œé€Ÿåº¦è¿˜æ˜¯æŒºå¿«çš„ï¼Œä»è¯»å–æ•°æ®ã€å¤„ç†æ•°æ®ã€å†åˆ°ä¿å­˜æ•°æ®ï¼Œå¤§æ¦‚èŠ±äº†ååˆ†é’Ÿå·¦å³ã€‚è¿™é‡Œæ“ä½œçš„æ•°æ®åº“éƒ½æ˜¯MongoDBï¼Œå› ä¸ºçˆ¬è™«çˆ¬å–çš„æ•°æ®éƒ½æ˜¯ç›´æ¥ä¿å­˜åˆ°Mongoã€‚ ä¹‹åå†å¢åŠ æ•°æ®é‡ï¼Œè¾¾åˆ°å››åƒå¤šä¸‡ï¼Œè¯»å–æ•°æ®èŠ±äº†8åˆ†é’Ÿï¼Œä¸‹å›¾æ˜¯æ­£åœ¨å¤„ç†å’Œä¿å­˜æ•°æ®çš„Spark UIã€‚ ä»¥å‰å¤„ç†æ•°æ®ä¼šä½¿ç”¨pandasï¼Œæ•°æ®ä¼šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæ•°æ®é‡è¿‡å¤§å°±ä¼šå´©äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ†å¸ƒå¼è®¡ç®—çš„åŸå› ã€‚æ²¡æœ‰åšè¿‡æ¨ªå‘å¯¹æ¯”ï¼Œæš‚æ—¶è¿˜ä¸çŸ¥é“æœ‰å¤šå¤§å·®åˆ«ã€‚ æœ€åèŠ±äº†1.3hï¼Œæœ¬åœ°å¤„ç†å®Œäº†å››åƒå¤šä¸‡æ•°æ®ï¼ŒCPUå’Œå†…å­˜éƒ½è¦ç‚¸äº†ï¼Œçœ‹æ¥ä»¥åè®¡ç®—éƒ¨åˆ†è¿˜æ˜¯è¦æ­é›†ç¾¤ã€‚ å­¦ä¹ è®¡åˆ’æˆ‘åœ¨Githubä¸Šå¼€äº†ä¸€ä¸ªä»“åº“ï¼Œè®°å½•æ‰€å­¦ï¼Œåœ°å€åœ¨è¿™ï¼šlearning-spark åˆšå¼€å§‹ä½¿ç”¨çš„è¯­è¨€è¿˜æ˜¯Pythonï¼Œç›®æ ‡æ˜¯å­¦Scalaï¼Œçœ‹äº†äº›åŸºç¡€è¯­æ³•ï¼Œå’ŒPythonæŒºç±»ä¼¼çš„ï¼Œä»¥åå¤šå†™å†™ï¼Œç»´æŒè¿™ä¸ªé¡¹ç›®ï¼Œè®°å½•å„ç§å‘ã€‚ okï¼ŒBBäº†è¿™ä¹ˆå¤šï¼Œä¸‹ä¸€ç¯‡å°±è¦å¼€å§‹çœŸæ­£çš„ä»£ç å®æˆ˜äº†ã€‚","tags":[{"name":"spark","slug":"spark","permalink":"https://zhangslob.github.io/tags/spark/"}]},{"title":"ä½¿ç”¨scrapyå‘é€postè¯·æ±‚çš„å‘","date":"2018-08-24T13:54:28.000Z","path":"2018/08/24/ä½¿ç”¨scrapyå‘é€postè¯·æ±‚çš„å‘/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åä¸‰ç¯‡åŸåˆ›æ–‡ç«  ä½¿ç”¨scrapyå‘é€postè¯·æ±‚çš„å‘ ä½¿ç”¨requestså‘é€postè¯·æ±‚å…ˆæ¥çœ‹çœ‹ä½¿ç”¨requestsæ¥å‘é€postè¯·æ±‚æ˜¯å¤šå°‘å¥½ç”¨ï¼Œå‘é€è¯·æ±‚ Requests ç®€ä¾¿çš„ API æ„å‘³ç€æ‰€æœ‰ HTTP è¯·æ±‚ç±»å‹éƒ½æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥è¿™æ ·å‘é€ä¸€ä¸ª HTTP POST è¯·æ±‚ï¼š 1&gt;&gt;&gt; r = requests.post('http://httpbin.org/post', data = &#123;'key':'value'&#125;) ä½¿ç”¨dataå¯ä»¥ä¼ é€’å­—å…¸ä½œä¸ºå‚æ•°ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä¼ é€’å…ƒç¥– 12345678910111213&gt;&gt;&gt; payload = (('key1', 'value1'), ('key1', 'value2'))&gt;&gt;&gt; r = requests.post('http://httpbin.org/post', data=payload)&gt;&gt;&gt; print(r.text)&#123; ... \"form\": &#123; \"key1\": [ \"value1\", \"value2\" ] &#125;, ...&#125; ä¼ é€’jsonæ˜¯è¿™æ · 123456&gt;&gt;&gt; import json&gt;&gt;&gt; url = 'https://api.github.com/some/endpoint'&gt;&gt;&gt; payload = &#123;'some': 'data'&#125;&gt;&gt;&gt; r = requests.post(url, data=json.dumps(payload)) 2.4.2 ç‰ˆçš„æ–°åŠ åŠŸèƒ½ï¼š 1234&gt;&gt;&gt; url = 'https://api.github.com/some/endpoint'&gt;&gt;&gt; payload = &#123;'some': 'data'&#125;&gt;&gt;&gt; r = requests.post(url, json=payload) ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä¸éœ€è¦å¯¹å‚æ•°åšä»€ä¹ˆå˜åŒ–ï¼Œåªéœ€è¦å…³æ³¨ä½¿ç”¨data=è¿˜æ˜¯json=ï¼Œå…¶ä½™çš„requestséƒ½å·²ç»å¸®ä½ åšå¥½äº†ã€‚ ä½¿ç”¨scrapyå‘é€postè¯·æ±‚å®˜æ–¹æ¨èçš„ Using FormRequest to send data via HTTP POST 123return [FormRequest(url=\"http://www.example.com/post/action\", formdata=&#123;'name': 'John Doe', 'age': '27'&#125;, callback=self.after_post)] è¿™é‡Œä½¿ç”¨çš„æ˜¯FormRequestï¼Œå¹¶ä½¿ç”¨formdataä¼ é€’å‚æ•°ï¼Œçœ‹åˆ°è¿™é‡Œä¹Ÿæ˜¯ä¸€ä¸ªå­—å…¸ã€‚ ä½†æ˜¯ï¼Œè¶…çº§å‘çš„ä¸€ç‚¹æ¥äº†ï¼Œä»Šå¤©æŠ˜è…¾äº†ä¸€ä¸‹åˆï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•å‘é€è¯·æ±‚ï¼Œæ€ä¹ˆå‘éƒ½ä¼šå‡ºé—®é¢˜ï¼Œè¿”å›çš„æ•°æ®ä¸€ç›´éƒ½ä¸æ˜¯æˆ‘æƒ³è¦çš„ 1return scrapy.FormRequest(url, formdata=(payload)) åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆä¹…ï¼Œæœ€ç»ˆæ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨scrapy.Requestå‘é€è¯·æ±‚ï¼Œå°±å¯ä»¥æ­£å¸¸çš„è·å–æ•°æ®ã€‚ 1return scrapy.Request(url, body=json.dumps(payload), method='POST', headers=&#123;'Content-Type': 'application/json'&#125;,) å‚è€ƒï¼šSend Post Request in Scrapy 1234my_data = &#123;'field1': 'value1', 'field2': 'value2'&#125;request = scrapy.Request( url, method='POST', body=json.dumps(my_data), headers=&#123;'Content-Type':'application/json'&#125; ) FormRequest ä¸ Request åŒºåˆ«åœ¨æ–‡æ¡£ä¸­ï¼Œå‡ ä¹çœ‹ä¸åˆ°å·®åˆ«ï¼Œ The FormRequest class adds a new argument to the constructor. The remaining arguments are the same as for the Request class and are not documented here. Parameters: formdata (dict or iterable of tuples) â€“ is a dictionary (or iterable of (key, value) tuples) containing HTML Form data which will be url-encoded and assigned to the body of the request. è¯´FormRequestæ–°å¢åŠ äº†ä¸€ä¸ªå‚æ•°formdataï¼Œæ¥å—åŒ…å«è¡¨å•æ•°æ®çš„å­—å…¸æˆ–è€…å¯è¿­ä»£çš„å…ƒç»„ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºè¯·æ±‚çš„bodyã€‚å¹¶ä¸”FormRequestæ˜¯ç»§æ‰¿Requestçš„ 12345678910111213141516171819202122232425class FormRequest(Request): def __init__(self, *args, **kwargs): formdata = kwargs.pop('formdata', None) if formdata and kwargs.get('method') is None: kwargs['method'] = 'POST' super(FormRequest, self).__init__(*args, **kwargs) if formdata: items = formdata.items() if isinstance(formdata, dict) else formdata querystr = _urlencode(items, self.encoding) if self.method == 'POST': self.headers.setdefault(b'Content-Type', b'application/x-www-form-urlencoded') self._set_body(querystr) else: self._set_url(self.url + ('&amp;' if '?' in self.url else '?') + querystr) ###def _urlencode(seq, enc): values = [(to_bytes(k, enc), to_bytes(v, enc)) for k, vs in seq for v in (vs if is_listlike(vs) else [vs])] return urlencode(values, doseq=1) æœ€ç»ˆæˆ‘ä»¬ä¼ é€’çš„{â€˜keyâ€™: â€˜valueâ€™, â€˜kâ€™: â€˜vâ€™}ä¼šè¢«è½¬åŒ–ä¸ºâ€™key=value&amp;k=vâ€™ å¹¶ä¸”é»˜è®¤çš„methodæ˜¯POSTï¼Œå†æ¥çœ‹çœ‹Request 123456789class Request(object_ref): def __init__(self, url, callback=None, method='GET', headers=None, body=None, cookies=None, meta=None, encoding='utf-8', priority=0, dont_filter=False, errback=None, flags=None): self._encoding = encoding # this one has to be set first self.method = str(method).upper() é»˜è®¤çš„æ–¹æ³•æ˜¯GETï¼Œå…¶å®å¹¶ä¸å½±å“ã€‚ä»ç„¶å¯ä»¥å‘é€postè¯·æ±‚ã€‚è¿™è®©æˆ‘æƒ³èµ·æ¥requestsä¸­çš„requestç”¨æ³•ï¼Œè¿™æ˜¯å®šä¹‰è¯·æ±‚çš„åŸºç¡€æ–¹æ³•ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344def request(method, url, **kwargs): \"\"\"Constructs and sends a :class:`Request &lt;Request&gt;`. :param method: method for the new :class:`Request` object. :param url: URL for the new :class:`Request` object. :param params: (optional) Dictionary or bytes to be sent in the query string for the :class:`Request`. :param data: (optional) Dictionary or list of tuples ``[(key, value)]`` (will be form-encoded), bytes, or file-like object to send in the body of the :class:`Request`. :param json: (optional) json data to send in the body of the :class:`Request`. :param headers: (optional) Dictionary of HTTP Headers to send with the :class:`Request`. :param cookies: (optional) Dict or CookieJar object to send with the :class:`Request`. :param files: (optional) Dictionary of ``'name': file-like-objects`` (or ``&#123;'name': file-tuple&#125;``) for multipart encoding upload. ``file-tuple`` can be a 2-tuple ``('filename', fileobj)``, 3-tuple ``('filename', fileobj, 'content_type')`` or a 4-tuple ``('filename', fileobj, 'content_type', custom_headers)``, where ``'content-type'`` is a string defining the content type of the given file and ``custom_headers`` a dict-like object containing additional headers to add for the file. :param auth: (optional) Auth tuple to enable Basic/Digest/Custom HTTP Auth. :param timeout: (optional) How many seconds to wait for the server to send data before giving up, as a float, or a :ref:`(connect timeout, read timeout) &lt;timeouts&gt;` tuple. :type timeout: float or tuple :param allow_redirects: (optional) Boolean. Enable/disable GET/OPTIONS/POST/PUT/PATCH/DELETE/HEAD redirection. Defaults to ``True``. :type allow_redirects: bool :param proxies: (optional) Dictionary mapping protocol to the URL of the proxy. :param verify: (optional) Either a boolean, in which case it controls whether we verify the server's TLS certificate, or a string, in which case it must be a path to a CA bundle to use. Defaults to ``True``. :param stream: (optional) if ``False``, the response content will be immediately downloaded. :param cert: (optional) if String, path to ssl client cert file (.pem). If Tuple, ('cert', 'key') pair. :return: :class:`Response &lt;Response&gt;` object :rtype: requests.Response Usage:: &gt;&gt;&gt; import requests &gt;&gt;&gt; req = requests.request('GET', 'http://httpbin.org/get') &lt;Response [200]&gt; \"\"\" # By using the 'with' statement we are sure the session is closed, thus we # avoid leaving sockets open which can trigger a ResourceWarning in some # cases, and look like a memory leak in others. with sessions.Session() as session: return session.request(method=method, url=url, **kwargs)","tags":[{"name":"scrapy","slug":"scrapy","permalink":"https://zhangslob.github.io/tags/scrapy/"},{"name":"post","slug":"post","permalink":"https://zhangslob.github.io/tags/post/"}]},{"title":"æ·˜å®signåŠ å¯†ç®—æ³•","date":"2018-08-14T13:50:33.000Z","path":"2018/08/14/æ·˜å®signåŠ å¯†ç®—æ³•/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åäºŒç¯‡åŸåˆ›æ–‡ç«  æ·˜å®signåŠ å¯†ç®—æ³• æ·˜å®signåŠ å¯†ç®—æ³•æ·˜å®å¯¹äºh5çš„è®¿é—®é‡‡ç”¨äº†å’Œå®¢æˆ·ç«¯ä¸åŒçš„æ–¹å¼ï¼Œç”±äºåœ¨h5çš„jsä»£ç ä¸­ä¿å­˜appsercretå…·æœ‰è¾ƒé«˜çš„é£é™©ï¼Œmtopé‡‡ç”¨äº†éšæœºåˆ†é…ä»¤ç‰Œçš„æ–¹å¼ï¼Œä¸ºæ¯ä¸ªè®¿é—®ç«¯åˆ†é…ä¸€ä¸ªtokenï¼Œä¿å­˜åœ¨ç”¨æˆ·çš„cookieä¸­ï¼Œé€šè¿‡cookieå¸¦å›æœåŠ¡ç«¯åˆ†é…çš„token, å®¢æˆ·ç«¯åˆ©ç”¨åˆ†é…çš„tokenå¯¹è¯·æ±‚çš„URLå‚æ•°ç”Ÿæˆæ‘˜è¦å€¼sign, MTOPåˆ©ç”¨è¿™ä¸ªæ‘˜ç”¨å€¼å’Œcookieä¸­çš„tokenæ¥é˜²æ­¢URLç¯¡æ”¹ã€‚ æµç¨‹ å½“æœ¬åœ°cookieä¸­çš„tokenä¸ºç©ºæ—¶ï¼ˆé€šå¸¸æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ï¼‰ï¼Œmtopä¼šæ”¶åˆ°â€FAIL_SYS_TOKEN_EXOIRED:: ä»¤ç‰Œè¿‡æœŸâ€œè¿™ä¸ªé”™è¯¯åº”ç­”ï¼ŒåŒæ—¶mtopä¼šç”Ÿæˆtokenå†™å…¥cookieä¸­ï¼ˆresponse.cookiesï¼‰ã€‚ ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œjsé€šè¿‡è¯»å–cookieä¸­çš„tokenå€¼ï¼ŒæŒ‰ç…§çº¦å®šçš„ç®—æ³•ç”Ÿæˆsign, signåœ¨mtopçš„è¯·æ±‚ä¸­å¸¦ä¸Šï¼Œmtopé€šè¿‡cookieä¸­å’Œtokenç”¨åŒæ ·çš„æ–¹å¼è®¡ç®—å‡ºsign,ä¸è¯·æ±‚çš„signè¿›è¡Œæ¯”è¾ƒï¼Œæ£€æŸ¥é€šè¿‡å°†è¿”å›apiçš„åº”ç­”ï¼Œå¤±è´¥æç¤ºâ€œFAIL_SYS_ILLEGAL_ACCESS:: éæ³•è¯·æ±‚â€ cookieä¸­çš„tokenæ˜¯æœ‰æ—¶æ•ˆæ€§çš„ï¼Œé‡åˆ°tokenå¤±æ•ˆæ—¶ï¼Œå°†æ”¶åˆ°åº”ç­”â€FAIL_SYS_TOKEN_EXOIRED:: ä»¤ç‰Œè¿‡æœŸâ€, åŒæ—¶ä¼šå†™å…¥æ–°çš„token,jsåˆ©ç”¨æ–°çš„tokené‡æ–°è®¡ç®—signå¹¶é‡å‘è¯·æ±‚ã€‚ å…³äºcookieä¸­çš„tokençš„è‡ªæˆ‘æ£€æŸ¥ï¼Œç”±äºtokenåœ¨cookieä¸­æ˜¯æ˜æ–‡çš„ï¼Œå¯èƒ½ä¼šè¢«ä»¿å†’ï¼Œåœ¨è¾“å‡ºçš„cookieä¸­åŒ…å«ä¸€ä¸ªç”¨éå¯¹ç§°å¯†é’¥çš„å…¬é’¥åŠ å¯†åçš„token, MTOPåœ¨æ¯æ¬¡è¯·æ±‚æ—¶ä¼šå…ˆæ£€æŸ¥cookieä¸­çš„tokenæ˜¯å¦æ˜¯ç”±æœåŠ¡ç«¯åˆ†é…å‡ºå»çš„ï¼ˆåˆ©ç”¨åŠ å¯†åçš„tokenå’Œç§é’¥è¿˜åŸtokenï¼Œä¸å›ä¼ çš„æ˜æ–‡tokenæ¯”è¾ƒï¼‰ sign ç”Ÿæˆå…³äºsignçš„ç”Ÿæˆå…¬å¼ï¼š md5Hex(token&amp;t&amp;appKey&amp;data) å¦‚ï¼šmd5Hex(â€œ645d1f414d4914297dfaab40f3f76016 &amp;1234&amp;4272&amp;{â€œitemNumIdâ€:â€1500011132496â€}â€) sign=d2b2f818a03496b296b899a230c03abd tokenå…³äºcookieçš„æœ‰æ•ˆæ—¶é•¿ï¼Œcookieçš„æœ‰æ•ˆæ—¶é•¿ä¸º7å¤©ï¼Œä½†æ˜¯tokençš„æœ‰æ•ˆæ—¶é•¿ç›®å‰ä¸º60åˆ†é’Ÿ_m_h5_tk: æ ¼å¼ä¸º æ˜æ–‡token_expireTime, ä»response.cookieså¤„è·å–ï¼Œå¦‚ï¼š 2fcd2baa62fc60f73c0487a9f8a0a9d1_1362559577301 tokenå°±æ˜¯2fcd2baa62fc60f73c0487a9f8a0a9d1 tå¾ˆç®€å•ï¼Œå³æ—¶é—´æˆ³ int(time.time()*1000) appKeyä¸€èˆ¬æ˜¯å›ºå®šæ•°å€¼ dataä¸€èˆ¬æ˜¯æäº¤çš„å‚æ•° example1234567891011121314151617181920212223242526import requestsheaders = &#123; 'accept-encoding': 'gzip, deflate, br', 'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7', 'user-agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75 Mobile/14E5239e Safari/602.1', 'accept': '*/*', 'referer': 'https://h5.m.taobao.com/?sprefer=sypc00', 'authority': 'h5api.m.taobao.com', 'cookie': 't=cff5759b3198bafb639030a7296d6bff; cna=OOz3EwDBHU8CAS9eVNkZGaaY; thw=cn; _m_h5_tk=4dab06478749cf71bcb31296c169e46f_1534260967070; _m_h5_tk_enc=eb5abdfc8a3e52d0f7982d2ab34eb471; isg=BH9_A4W7GMQHLxzbVJKP32QcDlqleywDp44sWxFMGy51IJ-iGTRjVv02ZvbeeKt-',&#125;params = ( ('jsv', '2.4.11'), ('appKey', '12574478'), ('t', '1534253767277'), ('sign', '12c6fac6a03cf98c8f912413feeaeaaf'), ('api', 'mtop.taobao.wireless.home.load'), ('v', '1.0'), ('type', 'jsonp'), ('dataType', 'jsonp'), ('callback', 'mtopjsonp2'), ('data', '&#123;\"containerId\":\"main\",\"ext\":\"&#123;\\\\\"h5_platform\\\\\":\\\\\"h5\\\\\",\\\\\"h5_ttid\\\\\":\\\\\"60000@taobao_h5_1.0.0\\\\\"&#125;\"&#125;'),)response = requests.get('https://h5api.m.taobao.com/h5/mtop.taobao.wireless.home.load/1.0/', headers=headers, params=params) å¦‚ä½•å¯»æ‰¾çœ‹ä¸‹é¢è¿™æ®µjs 1234567891011121314151617# https://g.alicdn.com/hollywood/hollywood-lib/2.0.2/mtop.jsif (d.H5Request === !0) &#123; var f = \"//\" + (d.prefix ? d.prefix + \".\" : \"\") + (d.subDomain ? d.subDomain + \".\" : \"\") + d.mainDomain + \"/h5/\" + c.api.toLowerCase() + \"/\" + c.v.toLowerCase() + \"/\" , g = c.appKey || (\"waptest\" === d.subDomain ? \"4272\" : \"12574478\") , i = (new Date).getTime() , j = h(d.token + \"&amp;\" + i + \"&amp;\" + g + \"&amp;\" + c.data) , k = &#123; jsv: w, appKey: g, t: i, sign: j &#125; , l = &#123; data: c.data, ua: c.ua &#125;; ä½ å¯èƒ½ä¼šé—®ï¼Œå¦‚ä½•å¯»æ‰¾ï¼Œç­”æ¡ˆæ˜¯jsæ–­ç‚¹ï¼Œä¸€æ­¥æ­¥è°ƒè¯•ã€‚ æœ‰å…´è¶£çš„å¯ä»¥æŒç»­å…³æ³¨ï¼Œä»¥åä¼šæ·±å…¥ã€‚ å¥½ä¹…éƒ½æ²¡æ³•ä¸œè¥¿äº†ï¼Œä¸»è¦æ˜¯æœ€è¿‘å¤ªå¿™ï¼ŒåŠ ç­æ¯”è¾ƒå¤šï¼›è‡ªå·±ä¹Ÿå˜æ‡’äº†ï¼Œä¹Ÿåœ¨å­¦ä¸€äº›æ–°ä¸œè¥¿ï¼Œå°±ä¸çŸ¥é“å†™ä»€ä¹ˆå¥½ï¼Œä»¥åè¿˜æ˜¯å‹¤å¿«ç‚¹å§ã€‚","tags":[{"name":"æ·˜å®","slug":"æ·˜å®","permalink":"https://zhangslob.github.io/tags/æ·˜å®/"},{"name":"åŠ å¯†","slug":"åŠ å¯†","permalink":"https://zhangslob.github.io/tags/åŠ å¯†/"}]},{"title":"Pythonå¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰","date":"2018-07-28T07:01:34.000Z","path":"2018/07/28/Pythonå¤šçº¿ç¨‹ï¼ˆä¸€ï¼‰/","text":"1è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åä¸€ç¯‡åŸåˆ›æ–‡ç«  è®°å½•è‡ªå·±å¯¹å¤šçº¿ç¨‹çš„ç†è§£ (à¹‘â€¢ . â€¢à¹‘) çº¿ç¨‹ä¸å½±åˆ†èº«å¤šçº¿ç¨‹å°±æ˜¯é¸£äººçš„å½±åˆ†èº«ä¹‹æœ¯ï¼Œå¯èƒ½ä¸å¤§æ°å½“ï¼Œä½†æ˜¯éå¸¸å®¹æ˜“ç†è§£ã€‚ å¹³æ—¶ä¸€ä¸ªé¸£äººä¼šä¸€ä¸ªäººï¼Œä½†æ˜¯é‡åˆ°å¼ºæ•Œæ—¶ï¼Œä»–ä¼šä½¿ç”¨å½±åˆ†èº«ä¹‹æœ¯ï¼Œå¬å”¤è‡ªå·±çš„å…„å¼Ÿæ¥å¸®åŠ©ä»–ä¸€èµ·æ¥æˆ˜æ–—ã€‚è¿™æ ·ï¼Œä»–å°±ä»ä¸€ä¸ªäººæˆ˜æ–—å˜æˆå¤šä¸ªäººæˆ˜æ–—ã€‚ å¤šçº¿ç¨‹ä¹Ÿæ˜¯è¿™æ ·ï¼Œå¹³æ—¶ä¸€ä¸ªçº¿ç¨‹å»åšæŸä»¶äº‹ï¼Œå½“ä½¿ç”¨å¤šçº¿ç¨‹åï¼Œå°±ä¼šæœ‰å¾ˆå¤šä¸ªçº¿ç¨‹æŒ‰ç…§å‘½ä»¤å»åšäº‹ï¼Œå°±åƒå½±åˆ†èº«ä¸€æ ·ã€‚ Pythonä½¿ç”¨é¸£äººå’Œä½¿ç”¨éœ€è¦å…ˆç»“å° Python ä¸­éœ€è¦å…ˆè°ƒç”¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 123456789import threadingdef shadow(num): print('äº§ç”Ÿäº†ç¬¬&#123;&#125;ä¸ªåˆ†èº«...'.format(num))for i in range(1, 6): t = threading.Thread(target=shadow, args=(i,)) t.start() t.join() Output 12345äº§ç”Ÿäº†ç¬¬1ä¸ªåˆ†èº«...äº§ç”Ÿäº†ç¬¬2ä¸ªåˆ†èº«...äº§ç”Ÿäº†ç¬¬3ä¸ªåˆ†èº«...äº§ç”Ÿäº†ç¬¬4ä¸ªåˆ†èº«...äº§ç”Ÿäº†ç¬¬5ä¸ªåˆ†èº«... å¯ä»¥çœ‹å‡ºç”¨æ³•éå¸¸ç®€å•ï¼Œåªéœ€è¦å…ˆå¯¼å…¥threadingæ¨¡å—ï¼Œç„¶åå®ä¾‹åŒ–ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œæ³¨æ„argsæ˜¯å…ƒç¥– t = threading.Thread(target=shadow, args=(i,)) çº¿ç¨‹è¢«åˆ›å»ºä¹‹åå¹¶ä¸ä¼šé©¬ä¸Šè¿è¡Œï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ start() ï¼Œ join() è®©è°ƒç”¨å®ƒçš„çº¿ç¨‹ä¸€ç›´ç­‰å¾…ç›´åˆ°æ‰§è¡Œç»“æŸï¼š 12t.start()t.join() æŸ¥çœ‹çº¿ç¨‹åå­—ä¸Šè¿°ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªçŸ¥é“äº§ç”Ÿäº†å¤šä¸ªçº¿ç¨‹ï¼Œä½†è¿˜æ˜¯å¹¶ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸ªçº¿ç¨‹ï¼Œå¦‚æœæŸä¸ªçº¿ç¨‹å‡ºé”™äº†ï¼Œæˆ‘ä»¬æ²¡æ³•å»è¿½è¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»™çº¿ç¨‹åŠ ä¸Šåå­—ã€‚ 123456789import threadingdef shadow(num): print('&#123;&#125;äº§ç”Ÿäº†ç¬¬&#123;&#125;ä¸ªåˆ†èº«...'.format(threading.currentThread().getName(), num))for i in range(1, 6): t = threading.Thread(target=shadow, args=(i,), name='ç¬¬&#123;&#125;ä¸ªé¸£äºº'.format(i)) t.start() t.join() Out: 12345ç¬¬1ä¸ªé¸£äººäº§ç”Ÿäº†ç¬¬1ä¸ªåˆ†èº«...ç¬¬2ä¸ªé¸£äººäº§ç”Ÿäº†ç¬¬2ä¸ªåˆ†èº«...ç¬¬3ä¸ªé¸£äººäº§ç”Ÿäº†ç¬¬3ä¸ªåˆ†èº«...ç¬¬4ä¸ªé¸£äººäº§ç”Ÿäº†ç¬¬4ä¸ªåˆ†èº«...ç¬¬5ä¸ªé¸£äººäº§ç”Ÿäº†ç¬¬5ä¸ªåˆ†èº«... å½“ç„¶ï¼Œä½ å¯ä»¥è¿™æ · 1234567891011import threadingdef shadow(num): print('&#123;&#125;äº§ç”Ÿäº†ç¬¬&#123;&#125;ä¸ªåˆ†èº«...'.format(threading.currentThread().getName(), num))for i in range(1, 6): t = threading.Thread(target=shadow, args=(i,)) t.start() t.join()print(threading.currentThread().getName()) Out 123456Thread-1äº§ç”Ÿäº†ç¬¬1ä¸ªåˆ†èº«...Thread-2äº§ç”Ÿäº†ç¬¬2ä¸ªåˆ†èº«...Thread-3äº§ç”Ÿäº†ç¬¬3ä¸ªåˆ†èº«...Thread-4äº§ç”Ÿäº†ç¬¬4ä¸ªåˆ†èº«...Thread-5äº§ç”Ÿäº†ç¬¬5ä¸ªåˆ†èº«...MainThread ä½ å¯ä»¥çœ‹åˆ°åœ¨æ‰€æœ‰åˆ›å»ºçš„çº¿ç¨‹ç»“æŸåï¼Œæˆ‘ä»¬æ‰“å°å½“å‰çº¿ç¨‹åå­—ï¼Œå°±æ˜¯ä¸»çº¿ç¨‹MainThread ä»€ä¹ˆæ—¶å€™ä½¿ç”¨joinåˆšå¼€å§‹å­¦å¤šçº¿ç¨‹æ—¶ï¼Œæœ‰ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘å¾ˆä¹…ï¼Œå°±æ˜¯ä»€ä¹ˆæ—¶å€™ä½¿ç”¨join() ç¼•ä¸€ç¼•æ­¥éª¤ï¼š ä¸»çº¿ç¨‹ä¸­åˆ›å»ºå­çº¿ç¨‹t å¼€å§‹çº¿ç¨‹t.star() è°ƒç”¨t.join() é˜»å¡ï¼šç­‰å¾…å­çº¿ç¨‹tç»“æŸåï¼Œå†æ‰§è¡Œæ¥ä¸‹æ¥çš„ä»»åŠ¡ ä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨äº†join()åä¼šé˜»å¡å½“å‰çš„çº¿ç¨‹ï¼Œåªæœ‰è¿™ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ¯•åæ‰ä¼šæ¥ç€èµ°ã€‚è¦æ˜¯ä¸€ç›´ä¸ç»“æŸå‘¢ï¼Ÿä½ å¯ä»¥åŠ ä¸Šè¶…æ—¶æ—¶é—´ï¼Œå¦‚t.join(timeout=10) åç»­é¸£äººä½¿ç”¨å½±åˆ†èº«åï¼Œäº§ç”Ÿäº†Aã€Bã€Cä¸‰ä¸ªå°é¸£äººï¼Œé¸£äººå¯ä»¥ä½¿ç”¨join()æ–¹æ³•ï¼Œè®©Båœ¨Aè€—å°½æŸ¥å…‹æ‹‰ä¹‹åå†è¿›è¡Œæ”»å‡»ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨join()ï¼Œé‚£ä¹ˆå°±ä¼šæ˜¯è¿™æ ·çš„åœºæ™¯ï¼Œå¤§å®¶ä¸€èµ·ä¸Š è¿™ä¸ªæ—¶å€™å¦‚æœé¸£äººå‘½ä»¤Aã€BåŒæ—¶å»å†™å®¶åº­ä½œä¸šï¼Œé‚£ä¹ˆå¯èƒ½ä¼šäº§ç”Ÿä»€ä¹ˆæƒ…å†µå‘¢ï¼ŸAå…ˆå†™è¿˜æ˜¯Bå…ˆå†™ï¼Œå¤§å®¶å¯ä»¥æƒ³æƒ³ã€‚ ä¸‹ä¸€æœŸä¼šè¯´è¯´ é”","tags":[{"name":"å¤šçº¿ç¨‹","slug":"å¤šçº¿ç¨‹","permalink":"https://zhangslob.github.io/tags/å¤šçº¿ç¨‹/"}]},{"title":"ä¸ºä»€ä¹ˆSeleniumç‚¹ä¸åˆ°å…ƒç´ ","date":"2018-07-24T14:35:10.000Z","path":"2018/07/24/ä¸ºä»€ä¹ˆSeleniumç‚¹ä¸åˆ°å…ƒç´ /","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­åç¯‡åŸåˆ›æ–‡ç«  æ˜æ˜å¯ä»¥æ˜¾ç¤ºï¼Œä¸ºä»€ä¹ˆå°±æ˜¯ç‚¹ä¸åˆ°å‘¢ (à¹‘â€¢ . â€¢à¹‘) æœ€è¿‘åšäº†è®¸å¤šç™»é™†é¡¹ç›®ï¼Œæˆ‘ä¼šä¼˜å…ˆé€‰æ‹©ä½¿ç”¨requestsæ¥æ¨¡æ‹Ÿè¯·æ±‚ï¼Œä½†æ˜¯æœ‰äº›å‚æ•°å®åœ¨æ˜¯å¾ˆéš¾è·å–ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä¼šä½¿ç”¨Seleniumï¼Œä¹Ÿè¿˜æ˜¯é‡åˆ°äº†å„ç§å‘ï¼Œä¹Ÿç®—æ˜¯è§è¯†åˆ°äº†å¾ˆå¤šçš„éªŒè¯æªæ–½ã€‚ ä»Šå¤©è¯´è¯´å¦‚ä½•è§£å†³seleniumç‚¹é€‰ä¸åˆ°æ•°æ®çš„é—®é¢˜ã€‚ ç­‰å¾…è¿™è¿˜æ˜¯æœ€å¸¸è§çš„ä¸€ç§æƒ…å†µï¼Œæ¨èæœ€å¤šçš„æ˜¯ä½¿ç”¨æ˜¾ç¤ºç­‰å¾…ï¼š 12345678910111213from selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.support.ui import WebDriverWaitfrom selenium.webdriver.support import expected_conditions as ECdriver = webdriver.Firefox()driver.get(\"http://somedomain/url_that_delay_loading\")try: element = WebDriverWait(driver,10).until( EC.presence_of_element_located((By.ID,\"myDynamicElement\")) )finally: driver.quit() è¿™æ®µä»£ç ä¼šç­‰å¾…10ç§’ï¼Œå¦‚æœ10ç§’å†…æ‰¾åˆ°å…ƒç´ åˆ™ç«‹å³è¿”å›ï¼Œå¦åˆ™ä¼šæŠ›å‡ºTimeoutExceptionå¼‚å¸¸ã€‚ ä½†æ˜¯æˆ‘æ¯”è¾ƒæ‡’ï¼Œå› ä¸ºtime.sleep()å¯ä»¥è¾¾åˆ°åŒæ ·æ•ˆæœã€‚ é¼ æ ‡äº‹ä»¶å®˜æ–¹æŠŠå®ƒå«åšâ€œè¡Œä¸ºé“¾â€ã€‚ActionChainså¯ä»¥å®Œæˆç®€å•çš„äº¤äº’è¡Œä¸ºï¼Œä¾‹å¦‚é¼ æ ‡ç§»åŠ¨ï¼Œé¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼Œé”®ç›˜è¾“å…¥ï¼Œä»¥åŠå†…å®¹èœå•äº¤äº’ã€‚ 123456789101112131415161718192021222324252627282930click(on_element=None) â€”â€”å•å‡»é¼ æ ‡å·¦é”®click_and_hold(on_element=None) â€”â€”ç‚¹å‡»é¼ æ ‡å·¦é”®ï¼Œä¸æ¾å¼€context_click(on_element=None) â€”â€”ç‚¹å‡»é¼ æ ‡å³é”®double_click(on_element=None) â€”â€”åŒå‡»é¼ æ ‡å·¦é”®drag_and_drop(source, target) â€”â€”æ‹–æ‹½åˆ°æŸä¸ªå…ƒç´ ç„¶åæ¾å¼€drag_and_drop_by_offset(source, xoffset, yoffset) â€”â€”æ‹–æ‹½åˆ°æŸä¸ªåæ ‡ç„¶åæ¾å¼€key_down(value, element=None) â€”â€”æŒ‰ä¸‹æŸä¸ªé”®ç›˜ä¸Šçš„é”®key_up(value, element=None) â€”â€”æ¾å¼€æŸä¸ªé”®move_by_offset(xoffset, yoffset) â€”â€”é¼ æ ‡ä»å½“å‰ä½ç½®ç§»åŠ¨åˆ°æŸä¸ªåæ ‡move_to_element(to_element) â€”â€”é¼ æ ‡ç§»åŠ¨åˆ°æŸä¸ªå…ƒç´ move_to_element_with_offset(to_element, xoffset, yoffset) â€”â€”ç§»åŠ¨åˆ°è·æŸä¸ªå…ƒç´ ï¼ˆå·¦ä¸Šè§’åæ ‡ï¼‰å¤šå°‘è·ç¦»çš„ä½ç½®perform() â€”â€”æ‰§è¡Œé“¾ä¸­çš„æ‰€æœ‰åŠ¨ä½œrelease(on_element=None) â€”â€”åœ¨æŸä¸ªå…ƒç´ ä½ç½®æ¾å¼€é¼ æ ‡å·¦é”®send_keys(*keys_to_send) â€”â€”å‘é€æŸä¸ªé”®åˆ°å½“å‰ç„¦ç‚¹çš„å…ƒç´ send_keys_to_element(element, *keys_to_send) â€”â€”å‘é€æŸä¸ªé”®åˆ°æŒ‡å®šå…ƒç´  æ·±å…¥äº†è§£å¯ä»¥å‚è€ƒ https://blog.csdn.net/huilan_same/article/details/52305176 move_to_element_with_offsetå’Œclick_and_holdä¼šç»å¸¸ç”¨åˆ°ç ´è§£éªŒè¯ç ä¸­ã€‚ è§¦æ‘¸æ“ä½œ (TouchAction)è¯¥äº‹ä»¶ä»…ä»…é’ˆå¯¹ç§»åŠ¨ç«¯ã€è§¦å±ç‰ˆ 12345678910111213flick_element(on_element, xoffset, yoffset, speed) # ä»¥å…ƒç´ ä¸ºèµ·ç‚¹ä»¥ä¸€å®šé€Ÿåº¦å‘ä¸‹æ»‘åŠ¨scroll_from_element(on_element xoffset yoffset) #ä»¥å…ƒç´ ä¸ºèµ·ç‚¹å‘ä¸‹æ»‘åŠ¨double_tap(on_element) #åŒå‡» flick_element(on_element, xoffset, yoffset, speed) #ä»å…ƒç´ å¼€å§‹ä»¥æŒ‡å®šçš„é€Ÿåº¦ç§»åŠ¨long_press(on_element) #é•¿æŒ‰ä¸é‡Šæ”¾move(xcoord, ycoord) #ç§»åŠ¨åˆ°æŒ‡å®šçš„ä½ç½®perform() #æ‰§è¡Œé“¾ä¸­çš„æ‰€æœ‰åŠ¨ä½œrelease(xcoord, ycoord) #åœ¨æŸä¸ªä½ç½®æ¾å¼€æ“ä½œscroll(xoffset, yoffset) #æ»šåŠ¨åˆ°æŸä¸ªä½ç½®scroll_from_element(on_element, xoffset, yoffset) #ä»æŸå…ƒç´ å¼€å§‹æ»šåŠ¨åˆ°æŸä¸ªä½ç½®tap(on_element) #å•å‡»tap_and_hold(xcoord, ycoord) #æŸç‚¹æŒ‰ä½ ä¸ºä»€ä¹ˆè¦è¯´åˆ°ç§»åŠ¨ç«¯ï¼Œåœ¨åšç™»é™†æ—¶ï¼Œç§»åŠ¨ç«¯å¾€å¾€ä¼šæ›´åŠ ç®€å•ï¼Œä½†æ˜¯è§¦å±ç‰ˆçš„ç‚¹å‡»å’ŒPCç«¯æ—¶å®Œå…¨ä¸åŒçš„ï¼Œç‚¹å‡»ä¸æŒ‰ä½æ—¶ä¸åŒçš„ã€‚ åœ¨æŸä¸ªé¡¹ç›®æˆ‘æ¢æˆTouchActionåï¼Œç¥å¥‡çš„å‘ç°ï¼Œæ³¨å†Œä¸å†éœ€è¦å¤„ç†éªŒè¯ç äº†ï¼ŒçœŸæ˜¯å¤ªæ£’äº†ã€‚ ä½¿ç”¨jså½“ä½ ä½¿ç”¨æµè§ˆå™¨å·²ç»æ‰¾åˆ°è¯¥å…ƒç´ ï¼Œä½¿ç”¨click()æ–¹æ³•ä½†æ˜¯ä¸èµ·ä½œç”¨æ—¶ï¼Œè¿™ä¸ªæ—¶å€™å»ºè®®å°è¯•jsï¼Œä¾‹å¦‚åœ¨æˆ‘çš„ä¸»é¡µ https://www.zhihu.com/people/cuishite/activitiesï¼Œç‚¹å‡» â€œæŸ¥çœ‹è¯¦ç»†èµ„æ–™â€ 12js = 'document.getElementsByClassName(\"Button ProfileHeader-expandButton Button--plain\")[0].click();'driver.execute_script(js) ä½ å¯ä»¥å…ˆåœ¨æ§åˆ¶å°è°ƒè¯• jsé€šå¸¸å¯ä»¥è§£å†³ç»å¤§å¤šæ˜¯é—®é¢˜ï¼Œå¦‚æœè¿˜æ˜¯è§£å†³ä¸äº†ï¼Œé‚£ä½ å¯èƒ½å’Œæˆ‘é‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œæ¯”å¦‚è¯´ï¼Œæˆ‘åœ¨å¤„ç†æŸç§»åŠ¨ç«¯ç½‘ç«™ç™»é™†ï¼Œå¤„ç†å¦‚ä¸‹éªŒè¯ç æ—¶ï¼Œæˆ‘ä¼šä½¿ç”¨åˆ°move_to_element_with_offsetï¼Œè¯¥æ–¹æ³•æ˜¯â€œç§»åŠ¨åˆ°è·æŸä¸ªå…ƒç´ ï¼ˆå·¦ä¸Šè§’åæ ‡ï¼‰å¤šå°‘è·ç¦»çš„ä½ç½®â€ã€‚ è®¡ç®—å‡ºåæ ‡åï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¦‚action.move_to_element_with_offset(element, width, height).click().perform()ï¼Œç„¶è€Œå®é™…ä¸Šé—®é¢˜å¹¶æ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œå¤šæ¬¡ç‚¹å‡»å¤±æ•ˆã€‚å…·ä½“çš„æœ‰æ—¶é—´å†è¯´ã€‚ å®ç”¨æ–¹æ³•æå–seleniumçš„cookies ä»‹ç»æŠŠseleniumçš„cookiesèˆ¹ä½“ç»™requestsä½¿ç”¨çš„æ–¹æ³•ï¼š 12345cookies = driver.get_cookies()s = requests.Session()for cookie in cookies: s.cookies.set(cookie['name'], cookie['value']) How do I load session and cookies from Selenium browser to requests library in Python? å…ƒç´ æˆªå›¾æ–¹æ³• 1234567891011121314151617181920212223from selenium import webdriverfrom PIL import Imagefox = webdriver.Firefox()fox.get('https://stackoverflow.com/')# now that we have the preliminary stuff out of the way time to get that image :Delement = fox.find_element_by_id('hlogo') # find part of the page you want image oflocation = element.locationsize = element.sizefox.save_screenshot('screenshot.png') # saves screenshot of entire pagefox.quit()im = Image.open('screenshot.png') # uses PIL library to open image in memoryleft = location['x']top = location['y']right = location['x'] + size['width']bottom = location['y'] + size['height']im = im.crop((left, top, right, bottom)) # defines crop pointsim.save('screenshot.png') # saves new cropped image selenium cannot screenshot a web element æœ€åæ¨èä¸€ä¸ªç¥å™¨ appium/python-client è‡³äºéªŒè¯ç éƒ¨åˆ†ï¼Œç°åœ¨ä¸»è¦è¿˜æ˜¯é ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå¹¶æ²¡æœ‰è‡ªå·±å°è¯•æœºå™¨å­¦ä¹ ç­‰æ–¹æ³•å¤„ç†ã€‚","tags":[{"name":"Selenium","slug":"Selenium","permalink":"https://zhangslob.github.io/tags/Selenium/"}]},{"title":"ä½¿ç”¨Seleniumä¸Requestsæ¨¡æ‹Ÿç™»é™†","date":"2018-07-17T13:18:35.000Z","path":"2018/07/17/ä½¿ç”¨Seleniumä¸Requestsæ¨¡æ‹Ÿç™»é™†/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åä¹ç¯‡åŸåˆ›æ–‡ç«  æ¨¡æ‹Ÿç™»é™†çš„ä¸¤ç§æ–¹å¼ï¼Œä½ å–œæ¬¢å“ªç§ (à¹‘â€¢ . â€¢à¹‘) æœ¬æœŸè®²ä¸€è®²æ¨¡æ‹Ÿç™»å½•ç›¸å…³çš„ä¸œè¥¿ï¼Œç›®æ ‡ç½‘ç«™æ˜¯Github ç®€å•çš„Selniumæƒ³è¯´è¯´ç®€å•çš„æ–¹æ³•ï¼Œä½¿ç”¨æµè§ˆå™¨ç™»å½•ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯å‚»ç“œæ“ä½œäº†ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç™»å½•è®¾è®¡çš„å¾ˆç®€å•ï¼Œæ²¡æœ‰éªŒè¯ç ä»€ä¹ˆçš„ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122#!/usr/bin/env python# -*- coding: utf-8 -*-import timefrom selenium import webdriverdriver = webdriver.Chrome()driver.maximize_window()def login(account, password): driver.get('https://github.com/login') time.sleep(2) driver.find_element_by_id('login_field').send_keys(account) driver.find_element_by_id('password').send_keys(password) driver.find_element_by_xpath('//input[@class=\"btn btn-primary btn-block\"]').click() # do whatever you wantif __name__ == '__main__': account, password = 'account', 'password' login(account, password) åˆ†æè¯·æ±‚ä¹‹Requestsæ‰“å¼€F12ï¼Œä½¿ç”¨é”™è¯¯çš„è´¦å·å¯†ç ç™»å½•ï¼Œå¤åˆ¶curl 1curl 'https://github.com/session' -H 'Cookie: has_recent_activity=1; _octo=GH1.1.1477592343.1531820067; logged_in=no; _gh_sess=UEZzYnVCMVlhNkVOdE5rU1hWRFpDbmFlY0UyQ1Y2b3Z4TGw2NFlTMmJLUWk5VENVQ3Q4TWxiSWN5ckEyZXN0MUFkT29XVjQvbWJVbm9RV0JNQmc1TmU0UnBtK0taUXJpcElqUk5PNGZ5TjZOQ2ZPRVR4NU5WQXcrb2xWRnRBMnRPMkRWYzYvWmVGY0FrYU12Q3BVVTY3dXVSblliNG4rWjc2QXVwR2pjQ1pzZXM1MFk1MjU5OUw2WkFLTU1BMzJDWGlTeXliNzNaejlUaW43cWhFNzQ0MFFVVmJ1aEppbzdtQTZkRERmUm5mWExkRDlmWW5lNk9mdlFYb05MQUtubDZBbXFJWjV6eFhic3JiWlRtZ2QxZ2FqZUxnOGFheUgzaXJmc290b0Jma09pRTJZdHZySEVmdVdGZHVBU3ZTVTJRM0pESnE1N1VPRDM0ck9FZzNJZTN5VWljUktyZ3FZQU16THVBeFBXV3BNPS0tSDh4WVV6U2RSNjlBL3FNQ3VaRGxEUT09--71cf0886128d55b42c82cf6f7b76e007ebfdc77b; _ga=GA1.2.57857743.1531820085; _gat=1; tz=Asia%2FShanghai' -H 'Origin: https://github.com' -H 'Accept-Encoding: gzip, deflate, br' -H 'Accept-Language: zh-CN,zh;q=0.9,en;q=0.8' -H 'Upgrade-Insecure-Requests: 1' -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36' -H 'Content-Type: application/x-www-form-urlencoded' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8' -H 'Cache-Control: max-age=0' -H 'Referer: https://github.com/login' -H 'Connection: keep-alive' --data 'commit=Sign+in&amp;utf8=%E2%9C%93&amp;authenticity_token=%2BtgUHwMIxnoHOHNMqQFkLak9mJzrxt%2B4yfFiZaf66WiMB5ZyRaVXq%2BFpZsM%2BtxgaRRX6Fzfezu1IdRqy%2BTGHwg%3D%3D&amp;login=123456788%40gmail.com&amp;password=123456788' --compressed è½¬ä¸ºPythonä»£ç ï¼Œ 12345678910111213141516171819202122232425262728293031323334import requestscookies = &#123; 'has_recent_activity': '1', '_octo': 'GH1.1.1477592343.1531820067', 'logged_in': 'no', '_gh_sess': 'UEZzYnVCMVlhNkVOdE5rU1hWRFpDbmFlY0UyQ1Y2b3Z4TGw2NFlTMmJLUWk5VENVQ3Q4TWxiSWN5ckEyZXN0MUFkT29XVjQvbWJVbm9RV0JNQmc1TmU0UnBtK0taUXJpcElqUk5PNGZ5TjZOQ2ZPRVR4NU5WQXcrb2xWRnRBMnRPMkRWYzYvWmVGY0FrYU12Q3BVVTY3dXVSblliNG4rWjc2QXVwR2pjQ1pzZXM1MFk1MjU5OUw2WkFLTU1BMzJDWGlTeXliNzNaejlUaW43cWhFNzQ0MFFVVmJ1aEppbzdtQTZkRERmUm5mWExkRDlmWW5lNk9mdlFYb05MQUtubDZBbXFJWjV6eFhic3JiWlRtZ2QxZ2FqZUxnOGFheUgzaXJmc290b0Jma09pRTJZdHZySEVmdVdGZHVBU3ZTVTJRM0pESnE1N1VPRDM0ck9FZzNJZTN5VWljUktyZ3FZQU16THVBeFBXV3BNPS0tSDh4WVV6U2RSNjlBL3FNQ3VaRGxEUT09--71cf0886128d55b42c82cf6f7b76e007ebfdc77b', '_ga': 'GA1.2.57857743.1531820085', '_gat': '1', 'tz': 'Asia%2FShanghai',&#125;headers = &#123; 'Origin': 'https://github.com', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8', 'Cache-Control': 'max-age=0', 'Referer': 'https://github.com/login', 'Connection': 'keep-alive',&#125;data = [ ('commit', 'Sign in'), ('utf8', '\\u2713'), ('authenticity_token', '+tgUHwMIxnoHOHNMqQFkLak9mJzrxt+4yfFiZaf66WiMB5ZyRaVXq+FpZsM+txgaRRX6Fzfezu1IdRqy+TGHwg=='), ('login', '123456788@gmail.com'), ('password', '123456788'),]response = requests.post('https://github.com/session', headers=headers, cookies=cookies, data=data) æ³¨æ„ä¸¤ä¸ªåœ°æ–¹ï¼Œcookieså’Œå‚æ•°ï¼Œå…ˆæ¥çœ‹çœ‹å‚æ•°ï¼Œç¨å¾®ç‰¹åˆ«çš„å°±æ˜¯authenticity_tokenï¼Œæ„Ÿè§‰æ˜¯éªŒè¯ã€‚Ctrl+Shift+Fæ‰“å¼€æœç´¢ï¼Œæœ€ç»ˆåœ¨è¿”å›çš„htmlä¸­æ‰¾åˆ° 1&lt;!-- '\"` --&gt;&lt;!-- &lt;/textarea&gt;&lt;/xmp&gt; --&gt;&lt;/option&gt;&lt;/form&gt;&lt;form action=\"/session\" accept-charset=\"UTF-8\" method=\"post\"&gt;&lt;input name=\"utf8\" type=\"hidden\" value=\"&amp;#x2713;\" /&gt;&lt;input type=\"hidden\" name=\"authenticity_token\" value=\"CTujn/pHGMQBpEhYcJj9Mn6ChsNSkd5ul8rgNSP/6/KxdZlhS0ABKblsq1pLn6EaQvIGLMzl/IQawaDL8KFjDw==\" /&gt; &lt;div class=\"auth-form-header p-0\"&gt; authenticity_tokenè§£å†³äº†ï¼Œä¸‹ä¸€æ­¥æƒ³åŠæ³•è·å–cookies ç»§ç»­æœç´¢_gh_sessä¸_octoå…³é”®å­—ï¼Œçœ‹åˆ°æœ‰è¿™æ ·ä¸€æ®µjs 1var e, t = void 0, r = void 0, n = this._getCookie(\"_octo\"), a = []; çŒœæµ‹cookiesä¸æ˜¯æœ¬åœ°ç”Ÿæˆï¼ŒæŸ¥çœ‹æ‰“å¼€Githubé¦–é¡µçš„è¯·æ±‚ï¼Œæœç„¶åœ¨Response Cookiesä¸­æ‰¾åˆ°äº†ç›¸å…³æ•°æ®ï¼Œé‚£ä¹ˆä½¿ç”¨Sessionå°±å¯ä»¥ç»´æŒä¼šè¯äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#!/usr/bin/env python# -*- coding: utf-8 -*-import reimport requestsheaders = &#123; 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8', 'Connection': 'keep-alive', 'Host': 'github.com', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36'&#125;s = requests.session()s.headers.update(headers)def get_token(): url = 'https://github.com/login' response = s.get(url) pat = 'name=\\\"authenticity_token\\\" value=\\\"(.*?)\\\"' authenticity_token = re.findall(pat, response.text)[0] return authenticity_tokendef login(authenticity_token, account, password): payload = &#123; 'commit': 'Sign in', 'utf8': '\\u2713', 'authenticity_token': authenticity_token, 'login': account, 'password': password, &#125; url = 'https://github.com/session' response = s.post(url, data=payload) print(response) # do whatever you wantif __name__ == '__main__': account, password = 'account', 'password' authenticity_token = get_token() login(authenticity_token, account, password) å¯¹æ¯”Seleniumï¼š ä¼˜ç‚¹ï¼šç®€å•ã€æ— è„‘ï¼Œä¸ç”¨åˆ†æå¤æ‚çš„ç½‘é¡µè¯·æ±‚ï¼Œä¸ç”¨ä¿æŒä¼šè¯çŠ¶æ€ ç¼ºç‚¹ï¼šé€Ÿåº¦æ…¢ï¼Œé€Ÿåº¦æ…¢ï¼Œé€Ÿåº¦æ…¢ï¼ˆæŸäº›æƒ…å†µä¸‹ä¼šå‡ºç°jsåŠ è½½ä¸å…¨ï¼‰ Requestsï¼š ä¼˜ç‚¹ï¼šé€Ÿåº¦å¿«ï¼Œå¯ä»¥å¢åŠ è‡ªå·±å¯¹cookiesç™»é™†çš„ç†è§£ ç¼ºç‚¹ï¼šéœ€è¦èŠ±æ—¶é—´å¯»æ‰¾ç›¸å…³å‚æ•° å¦‚æœå¯¹Githubæ„Ÿå…´è¶£ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Github API æœ€è¿‘åœ¨ä½¿ç”¨Seleniumå¤„ç†éªŒè¯ç ï¼Œå‘ç°å¾ˆå¼ºå¤§ï¼Œå¦‚æœæ¨¡æ‹Ÿè¯·æ±‚ï¼Œéš¾åº¦ä¼šéå¸¸å¤§ã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Selenium","slug":"Selenium","permalink":"https://zhangslob.github.io/tags/Selenium/"},{"name":"Requests","slug":"Requests","permalink":"https://zhangslob.github.io/tags/Requests/"}]},{"title":"è¯´è¯´æœ€è¿‘é‡åˆ°çš„åçˆ¬","date":"2018-07-10T15:07:44.000Z","path":"2018/07/10/è¯´è¯´æœ€è¿‘é‡åˆ°çš„åçˆ¬/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åå…«ç¯‡åŸåˆ›æ–‡ç«  çˆ¬è™«ä¸åçˆ¬ (à¹‘â€¢ . â€¢à¹‘) å‚æ•°åŠ å¯†å‚æ•°åŠ å¯†æŒ‡çš„æ˜¯åœ¨è¯·æ±‚ä¸­éœ€è¦åŠ ä¸Šç±»ä¼¼tokenã€uuid å­—æ®µï¼Œä¾‹å¦‚åœ¨æŸä¸ªè¯·æ±‚ä¸­query string parametersä¸­æœ‰_tokenå’Œuuidã€customerKeyç­‰å­—æ®µï¼Œ 123_token:eJyN0l9L40AQAPDvsg8+hWZ2uuid:59851b5e-92b4-f1f5-19e2-d8148bf7ecustomerKey:0356982437 è§£å†³æ–¹æ³• åˆšå¼€å§‹é‡åˆ°è¿™ä¸ªæ˜¯ä¸€è„¸æ‡µé€¼çš„ï¼ŒéªŒè¯å‘ç°æœ‰äº›å‚æ•°ä¸æ˜¯å¿…é¡»çš„ï¼Œæ¯”å¦‚uuidï¼Œuuidåœ¨ç»´åŸºç™¾ç§‘ä¸Šæ˜¯ï¼šé€šç”¨å”¯ä¸€è¯†åˆ«ç ï¼Œä¼°è®¡æ²¡å•¥ä½œç”¨ï¼Œpythonä¹Ÿæœ‰å†…ç½®çš„uuidç”Ÿæˆåº“ uuid â€” UUID objects according to RFC 4122 é—®äº†å‰ç«¯å¤§ä½¬ï¼Œå¾—çŸ¥éœ€è¦åœ¨jsä¸­æ‰“æ–­ç‚¹ï¼Œä¸€ç‚¹ç‚¹è°ƒè¯•ï¼Œæœ€åç»ˆäºè§£å†³ï¼Œ_tokenæ˜¯äºŒæ¬¡åŠ å¯†çš„ã€‚ ç»™å¤§å®¶çœ‹ä¸€ä¸‹è¯¥ç½‘ç«™çš„éƒ¨åˆ†ä»£ç ã€‚çœ‹çœ‹æè¿°ï¼šè·å¾—åçˆ¬è™«çš„_toke 123456789101112131415161718192021222324252627/** * è·å¾—åçˆ¬è™«çš„_token * @param &#123;*&#125; url * @param &#123;*&#125; queryParams */function getRohrToken(host, queryParams) &#123; if (window.Rohr_Opt &amp;&amp; window.Rohr_Opt.reload) &#123; var rohr = window.Rohr_Opt; var _token = ''; var params = queryParams if (typeof params == 'string' &amp;&amp; params.indexOf('_fb_=') !== -1) &#123; params = '' &#125; var queryString = toQueryString(params); var _url = location.protocol + host + '?' + queryString; try &#123; _token = rohr.reload(_url) || ''; &#125; catch (e) &#123; console.log('è·å–tokenå¤±è´¥:' + e) &#125; return _token; &#125;;&#125; å…³äºå¦‚ä½•è°ƒè¯•ï¼Œè¿™é‡Œæœ‰æ•™ç¨‹ï¼Œè°ƒè¯• JavaScript è„šæœ¬ è¿™é‡Œè¿˜æœ‰å¦ä¸€ç§appæŠ“åŒ…åŠ å¯†æƒ…å†µï¼Œæš‚æ—¶è¿˜æ²¡æ¥è§¦è¿‡ï¼Œå¬è¿‡æ˜¯éœ€è¦åç¼–è¯‘apkåŒ…ï¼Œç„¶åé˜…è¯»ä»£ç ã€‚ ç™»å½•é—®é¢˜å¾ˆå¤šç½‘ç«™æ•°æ®æ˜¯ç™»å½•å¯è§ï¼Œé‚£ä¹ˆå°±å¿…é¡»è¦å¼€å‘è¯¥ç½‘ç«™çš„ç™»å½•ç³»ç»Ÿäº†ã€‚ ç™»å½•å¯èƒ½ä¼šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼š ç™»å½•è¿‡ç¨‹ä¸­é‡åˆ°çš„éªŒè¯ç ï¼ˆä¸‹é¢ä¼šè¯´ï¼‰ cookiesæŒä¹…åŒ–é—®é¢˜ è´¦å·è¢«å°ç¦é—®é¢˜ è§£å†³æ–¹æ³• ç™»å½•è´¦å·è·å¾—cookiesåï¼Œç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œcookieså°±å¯èƒ½ä¼šå¤±æ•ˆï¼Œå…·ä½“ç½‘ç«™æƒ…å†µä¸åŒï¼Œè¿™æ—¶å€™å°±å¿…é¡»æœ‰ä¸ªè„šæœ¬ï¼Œæ¥ä¿è¯cookiesæœ‰æ•ˆ è´¦å·åšå‡ºä¸€äº›è·Ÿæ­£å¸¸ç”¨æˆ·ä¸åŒçš„æ“ä½œå°±ä¼šäº§ç”Ÿå¼‚å¸¸ï¼Œåˆ«äººå¾ˆå®¹æ˜“å°±å‘ç°ã€‚æ‰€ä»¥å°±è®©ä½ çš„è´¦å·åƒæ­£å¸¸äººä¸€æ ·ã€‚ æœ€è¿‘çœ‹åˆ°æœ‰äººå†é—®è±†ç“£ç™»å½•é‡‡é›†å½±è¯„å¯¼è‡´è¢«å°å·çš„äº‹æƒ…ï¼Œè±†ç“£æˆ‘ä»¥å‰ä¹Ÿè¢«å°è¿‡ï¼Œåˆ°ç°åœ¨ä¹Ÿæ²¡æœ‰è§£å° 12ä¾æ®ç”¨æˆ·ç®¡ç†ç»†åˆ™ï¼Œæ­¤å¸å·å·²è¢«æ°¸ä¹…åœç”¨ã€‚åœç”¨æ—¶é—´:2017-09-29å¦‚æœ‰ç–‘é—®ï¼Œè¯·å‘é€é‚®ä»¶åˆ°help@douban.com æˆ‘çš„å»ºè®®æ˜¯ï¼š æœ‰èƒ½åŠ›çš„å¤šæ³¨å†Œè´¦å·ï¼Œè´¦å·è¢«å°äº†å°±å†å»æ³¨å†Œå‘— æ‰‹æœºappæŠ“åŒ…ï¼Œappä¸éœ€è¦ç™»å½•ï¼Œè€Œä¸”å¯ä»¥æŒç»­æŠ“æœ€æ–°è¯„è®º å›¾å½¢éªŒè¯ç éªŒè¯ç ä¸€ç›´æ˜¯åçˆ¬è™«åˆ©å™¨ï¼Œä»ç®€å•çš„æ•°å­—è¯†åˆ«ï¼Œåˆ°å¤æ‚çš„æ»‘åŠ¨æ‹¼å›¾ã€å›¾ç‰‡ç‚¹é€‰ç­‰ç­‰ã€‚æœ‰å…´è¶£çš„æ¥è¯•è¯•ç ´è§£ ç½‘æ˜“äº‘æ˜“ç›¾ï¼Œæ„Ÿè§‰å¾ˆå¤´ç–¼ã€‚ è§£å†³æ–¹æ³• ä¾‹å¦‚ä¸Šå›¾ï¼Œè¿™æ˜¯æˆ‘ç°åœ¨é‡åˆ°çš„ä¸€ç§éªŒè¯ç æƒ…å†µï¼Œä¾æ¬¡ç‚¹å‡»å‡ ä¸ªæ–‡å­—ã€‚ å¦‚æœæ˜¯è‡ªå·±æ¥åšçš„è¯ï¼Œä¼šè€ƒè™‘è¿™æ ·ï¼š å°†éªŒè¯ç å›¾ç‰‡éƒ¨åˆ†æˆªå›¾æˆ–ä¸‹è½½å›æ¥ å¯¹å›¾ç‰‡è¿›è¡ŒOCRï¼Œæå–æ–‡å­— æ–‡å­—è¯†åˆ«ï¼Œè·å–åæ ‡ ä½¿ç”¨seleniumæ ¹æ®åæ ‡ç‚¹å‡» è¿™åªæ˜¯åˆæ­¥æ€è·¯ï¼Œä½†æƒ³æ³•å¾ˆå®¹æ˜“ï¼Œåšèµ·æ¥å´æ²¡é‚£ä¹ˆç®€å•ã€‚ åœ¨Githubä¸Šæ‰¾åˆ°å¤§ä½¬å†™çš„æ–¹æ³• captcha_crackï¼ŒçŸ¥ä¹ä¸Šä¹Ÿæœ‰ ä½¿ç”¨æ·±åº¦å­¦ä¹ ç ´è§£ç‚¹å‡»éªŒè¯ç  é‚£ä¹ˆå¦‚æœç›´æ¥æ¥å…¥ç¬¬ä¸‰æ–¹æ‰“ç å¹³å°æ¥ï¼Œé‚£å°±ä¼šç®€å•å¾ˆå¤šï¼Œåœ¨å®é™…å¼€å‘ä¸­ä¸ºäº†æé«˜å‡†ç¡®æ€§ï¼Œæ›´å¤šä¼šä½¿ç”¨æ‰“ç å¹³å°ã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"åçˆ¬","slug":"åçˆ¬","permalink":"https://zhangslob.github.io/tags/åçˆ¬/"}]},{"title":"å¿«é€Ÿå†™ä¸€ä¸ªçˆ¬è™«","date":"2018-07-03T15:20:52.732Z","path":"2018/07/03/å¿«é€Ÿå†™ä¸€ä¸ªçˆ¬è™«/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åä¸ƒç¯‡åŸåˆ›æ–‡ç«  å¿«ã€æ›´å¿« (à¹‘â€¢ . â€¢à¹‘) ç¼˜æ¥ä»Šå¤©ä¸‹ç­å‰ï¼Œè€æ¿è®©æˆ‘å¸®å¿™çˆ¬ä¸€ä¸ªæ•°æ®ï¼Œç®€å•çœ‹äº†ä¸‹ï¼Œéœ€è¦ç™»å½•ï¼Œçœ‹èµ·æ¥åº”è¯¥ä¸éš¾ã€‚å›åˆ°å®¶ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå¤åˆ¶urlï¼Œç„¶åç”¨postmanè½¬ä»£ç ï¼Œç®€å•æš´åŠ›ï¼Œç›´æ¥æ’¸ã€‚ è¿™é‡Œè¯´ä¸‹postmançš„ä¸€ä¸ªBUGï¼Œå‘é€è¯·æ±‚ä¸ä¼šè·å¾—ä»»ä½•æ•°æ®ï¼Œå¦‚æœä½ é‡åˆ°ï¼Œå»ºè®®å‡çº§postmanä¸ºæœ€æ–°ç‰ˆæœ¬ ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889#!/usr/bin/env python# -*- coding: utf-8 -*-import loggingimport pymongoimport requestsimport tracebackfrom concurrent import futuresfrom urllib.request import urljoinfrom scrapy.selector import Selectorlogging.basicConfig(level=logging.INFO)client = pymongo.MongoClient()coll = client['table']['collection']# coll.create_index('url', unique=True)url = \"your urls\"headers = &#123; 'user-agent': \"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 \" \"(KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36\", 'accept': \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\", 'accept-encoding': \"gzip, deflate, br\", 'accept-language': \"zh-CN,zh;q=0.9,en;q=0.8\", &#125;def fetch(page): try: proxies = &#123; 'http': proxy, 'https': proxy &#125; response = requests.get(url.format(page), headers=headers, timeout=20, proxies=proxies) if response.status_code == 200: s = Selector(text=response.text) for i in s.xpath('//*[@id=\"search-results\"]/tbody/tr'): url_ = i.xpath('td[4]/a/@href').extract_first() detail_url = urljoin(url, url_) data = get_detail(detail_url) logging.info('success save data &#123;&#125; '.format(data['url'])) save_mongo(data) except Exception as e: logging.error(traceback.format_exc())def get_detail(detail_url): try: proxies = &#123; 'http': proxy, 'https': proxy &#125; response = requests.get(detail_url, headers=headers, timeout=20, proxies=proxies) if response.status_code == 200: s = Selector(text=response.text) data = dict() data['url'] = detail_url data['SMILES '] = s.xpath('//*[@id=\"smiles\"]/text()').extract_first() img = s.xpath('//*[@id=\"molecule-image\"]/img/@src').extract_first() data['img'] = urljoin(detail_url, img) data['formula'] = s.xpath('//*[@id=\"name-structure\"]/tbody/tr[2]/td[2]/text()').extract_first() data['Mass'] = s.xpath('//*[@id=\"name-structure\"]/tbody/tr[3]/td[2]/text()').extract_first() return data except Exception as e: logging.error(traceback.format_exc())def save_mongo(data): try: coll.insert(data) except pymongo.errors.DuplicateKeyError: passif __name__ == '__main__': # for i in range(1, 11): # fetch(str(i)) # if use Thread with futures.ThreadPoolExecutor(max_workers=50) as executor: to_do = [] for i in range(1, 51): future = executor.submit(fetch, str(i)) to_do.append(future) ä»£ç ç›¸å½“ç®€å•ï¼Œfetchå‡½æ•°ç”¨æ¥æŠ“å–åˆ—è¡¨é¡µï¼Œget_detailå‡½æ•°æŠ“å–è¯¦æƒ…é¡µï¼Œsave_mongoä¿å­˜æ•°æ®åº“ï¼Œéœ€è¦è¯´æ˜ä¸‹çš„å°±æ˜¯æœ€åä½¿ç”¨çš„å¤šçº¿ç¨‹äº†ï¼Œè¿™é‡Œå·ä½¿ç”¨çš„æ˜¯futuresï¼Œå¹¶ä¸æƒ³è¯´å¾ˆå¤šå¤§é“ç†ï¼Œæ¥çœ‹çœ‹æ–‡æ¡£ æé«˜é€Ÿåº¦concurrent.futures æ˜¯python3æ–°å¢åŠ çš„ä¸€ä¸ªåº“ï¼Œç”¨äºå¹¶å‘å¤„ç†ï¼Œæä¾›äº†å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„å¹¶å‘åŠŸèƒ½ çº¿ç¨‹æ±  1234567891011121314151617181920212223242526import concurrent.futuresimport urllib.requestURLS = ['http://www.foxnews.com/', 'http://www.cnn.com/', 'http://europe.wsj.com/', 'http://www.bbc.co.uk/', 'http://some-made-up-domain.com/']# Retrieve a single page and report the URL and contentsdef load_url(url, timeout): with urllib.request.urlopen(url, timeout=timeout) as conn: return conn.read()# We can use a with statement to ensure threads are cleaned up promptlywith concurrent.futures.ThreadPoolExecutor(max_workers=5) as executor: # Start the load operations and mark each future with its URL future_to_url = &#123;executor.submit(load_url, url, 60): url for url in URLS&#125; for future in concurrent.futures.as_completed(future_to_url): url = future_to_url[future] try: data = future.result() except Exception as exc: print('%r generated an exception: %s' % (url, exc)) else: print('%r page is %d bytes' % (url, len(data))) è¿›ç¨‹æ±  12345678910111213141516171819202122232425262728import concurrent.futuresimport mathPRIMES = [ 112272535095293, 112582705942171, 112272535095293, 115280095190773, 115797848077099, 1099726899285419]def is_prime(n): if n % 2 == 0: return False sqrt_n = int(math.floor(math.sqrt(n))) for i in range(3, sqrt_n + 1, 2): if n % i == 0: return False return Truedef main(): with concurrent.futures.ProcessPoolExecutor() as executor: for number, prime in zip(PRIMES, executor.map(is_prime, PRIMES)): print('%d is prime: %s' % (number, prime))if __name__ == '__main__': main() å…³äºå…¥åº“æ–¹é¢ï¼Œå»ºè®®æ˜¯å¢åŠ å”¯ä¸€ç´¢å¼•ï¼Œ coll.create_index(&#39;url&#39;, unique=True)ï¼Œä¸€ä¸ªæ˜¯å»é‡ï¼Œä¸€ä¸ªæ˜¯æé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚","tags":[]},{"title":"Katalon + å‚»ç“œ == selenium","date":"2018-06-25T13:58:25.816Z","path":"2018/06/25/Katalon-selenium-å‚»ç“œ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åå…­ç¯‡åŸåˆ›æ–‡ç«  ç®€ç›´æ˜¯ç¥å™¨å•Š (à¹‘â€¢ . â€¢à¹‘) ä»Šå¤©åœ¨ç¿»è«çƒ¦å¤§å¤§çš„åšå®¢æ—¶ï¼Œçœ‹åˆ°ä»–æåˆ°ä¸€ä¸ªå·¥å…·ï¼Œä¾¿å»çœ‹äº†ä¸‹ï¼Œç¬¬ä¸€æ„Ÿå—æ˜¯ï¼Œå¤ªå¥½ç”¨äº†ã€çˆ±ä¸é‡Šæ‰‹ã€‚ ä¸‹é¢æ¥è¯´è¯´è¿™ä¸ªå·¥å…·ï¼šKatalon Recorder Katalon Recorderå®‰è£…åœ°å€ï¼šKatalon Recorder å®˜æ–¹ä»‹ç»æ˜¯ï¼š Best Selenium IDE record, play, debug app. Exports Selenium WebDriver code. Provides reports, logs, screenshots. Fast &amp; extensible. ç®€å•æ¥è¯´ï¼Œä»–å¯ä»¥è®°å½•ä½ åœ¨æµè§ˆå™¨ä¸Šçš„æ¯ä¸€ä¸ªåŠ¨ä½œï¼ŒåŒ…æ‹¬ã€ç‚¹å‡»ã€è¾“å…¥ã€è¾“å…¥å­—ç¬¦ç­‰ç­‰ï¼Œæœ€åä¸€é”®è½¬åŒ–ä¸ºç¼–ç¨‹ä»£ç ï¼Œå¯ä»¥è½¬åŒ–çš„è¯­è¨€æœ‰ï¼š C# JAVA Katalon Studio Python2 Roboot Framework Ruby XML ä¾‹å¦‚ä¸‹å›¾å°±æ˜¯ç›´æ¥è½¬åŒ–ä¸º Python2çš„ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950# -*- coding: utf-8 -*-from selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.common.keys import Keysfrom selenium.webdriver.support.ui import Selectfrom selenium.common.exceptions import NoSuchElementExceptionfrom selenium.common.exceptions import NoAlertPresentExceptionimport unittest, time, reclass UntitledTestCase(unittest.TestCase): def setUp(self): self.driver = webdriver.Firefox() self.driver.implicitly_wait(30) self.base_url = \"https://www.katalon.com/\" self.verificationErrors = [] self.accept_next_alert = True def test_untitled_test_case(self): driver = self.driver driver.get(\"https://zhangslob.github.io/\") driver.find_element_by_link_text(u\"Cookiesæ± çš„åç»­è§£å†³æ–¹æ¡ˆ\").click() driver.find_element_by_xpath(\"//main[@id='main']/div/div\").click() def is_element_present(self, how, what): try: self.driver.find_element(by=how, value=what) except NoSuchElementException as e: return False return True def is_alert_present(self): try: self.driver.switch_to_alert() except NoAlertPresentException as e: return False return True def close_alert_and_get_its_text(self): try: alert = self.driver.switch_to_alert() alert_text = alert.text if self.accept_next_alert: alert.accept() else: alert.dismiss() return alert_text finally: self.accept_next_alert = True def tearDown(self): self.driver.quit() self.assertEqual([], self.verificationErrors)if __name__ == \"__main__\": unittest.main() è™½ç„¶è¯´ç”¨çš„æ˜¯Python2ï¼Œä½†æ˜¯å¹¶ä¸å½±å“ï¼Œç®€å•æ”¹ä¸€ä¸‹å°±å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œä¸»è¦é€»è¾‘åœ¨test_untitled_test_caseå‡½æ•°ä¸­ï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ã€‚ æ³¨æ„è¿™é‡Œä½¿ç”¨äº†unittestï¼Œä¸ç†Ÿæ‚‰çš„å¯ä»¥æ¥çœ‹çœ‹æ–‡æ¡£ 1234567891011121314151617181920import unittestclass TestStringMethods(unittest.TestCase): def test_upper(self): self.assertEqual('foo'.upper(), 'FOO') def test_isupper(self): self.assertTrue('FOO'.isupper()) self.assertFalse('Foo'.isupper()) def test_split(self): s = 'hello world' self.assertEqual(s.split(), ['hello', 'world']) # check that s.split fails when the separator is not a string with self.assertRaises(TypeError): s.split(2)if __name__ == '__main__': unittest.main() å®‰è£…æ–¹æ³•è¿™é‡Œå»ºè®®ç›´æ¥åœ¨Chromeåº”ç”¨å¸‚åœºå®‰è£…ï¼Œåœ°å€ Katalon Recorder è€ƒè™‘åˆ°æœ‰äº›åŒå­¦å¯èƒ½é‚£å•¥ï¼Œæ‰€ä»¥æˆ‘å·²ç»ä¸‹è½½å¥½äº†ã€‚å…¬ä¼—å·ï¼šPythonçˆ¬è™«ä¸ç®—æ³•è¿›é˜¶ï¼Œå›å¤ï¼šå‚»ç“œ æ„Ÿå—è¿™ä¸ªç›¸å½“äºæŒ‰é”®ç²¾çµï¼ŒæŠŠæˆ‘ä»¬å¯¹æµè§ˆå™¨çš„æ¯ä¸€æ­¥æ“ä½œéƒ½å®Œæˆäº†ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆä»£ç ï¼Œå’Œpostmanä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘æ‰ä¼šè¯´ Katalon + å‚»ç“œ == seleniumï¼Œå®Œå…¨æ˜¯å‚»ç“œæ“ä½œã€‚ æ¯”å¦‚æ¥åšä¸€äº›è‡ªåŠ¨åŒ–ç™»å½•ã€æ³¨å†Œç­‰æ¿å—ä¼šéå¸¸çˆ½ï¼Œä½†æ˜¯éªŒè¯ç éƒ¨åˆ†è¿˜æ˜¯éœ€è¦è‡ªè¡Œè§£å†³ã€‚ ä½†æ˜¯è¯¥è½¯ä»¶ä¹Ÿæ˜¯æœ‰ä¸€äº›é—®é¢˜çš„ï¼Œå®ƒä¸èƒ½è¿›è¡Œå¤šé¡µé¢åˆ‡æ¢ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½è‡ªåŠ¨åˆ‡æ¢åˆ°æ–°æ‰“å¼€çš„çª—å£ï¼Œä¼šæœ‰é”™è¯¯æç¤º# ERROR: Caught exception [ERROR: Unsupported command [selectWindow | win_ser_1 | ]]ï¼Œè¿™ä¸€æ­¥å¿…é¡»è‡ªå·±æ‰‹åŠ¨æ¥æ“ä½œï¼Œ 1234driver.current_window_handle è·å–å½“å‰çª—å£handledriver.window_handles è·å–æ‰€æœ‰çª—å£çš„handleï¼Œè¿”å›liståˆ—è¡¨driver.switch_to.window(handle) åˆ‡æ¢åˆ°å¯¹åº”çš„çª—å£driver.close() å…³é—­å½“å‰çª—å£ æµ‹è¯•æ‰“å¼€å¤šçª—å£çš„ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556# -*- coding: utf-8 -*-from selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.common.keys import Keysfrom selenium.webdriver.support.ui import Selectfrom selenium.common.exceptions import NoSuchElementExceptionfrom selenium.common.exceptions import NoAlertPresentExceptionimport unittest, time, reclass Zhihu(unittest.TestCase): def setUp(self): self.driver = webdriver.Firefox() self.driver.implicitly_wait(30) self.base_url = \"https://www.katalon.com/\" self.verificationErrors = [] self.accept_next_alert = True def test_zhihu(self): driver = self.driver driver.get(\"https://www.zhihu.com/people/cuishite/activities\") driver.find_element_by_xpath(\"//div[@id='ProfileMain']/div/ul/li[2]/a\").click() driver.find_element_by_xpath(\"//div[@id='ProfileMain']/div/ul/li[4]/a/span\").click() driver.find_element_by_link_text(u\"Cookiesæ± çš„åç»­è§£å†³æ–¹æ¡ˆ\").click() # ERROR: Caught exception [ERROR: Unsupported command [selectWindow | win_ser_1 | ]] driver.find_element_by_xpath(\"//img[contains(@src,'https://pic4.zhimg.com/v2-7ff26e52e6c82c080f62d8e9291e532b_b.jpg')]\").click() driver.find_element_by_link_text(u\"Cookiesæ± çš„åç»­è§£å†³æ–¹æ¡ˆ\").click() # ERROR: Caught exception [ERROR: Unsupported command [selectWindow | win_ser_2 | ]] driver.find_element_by_xpath(\"//div[@id='js_article']/div[2]\").click() def is_element_present(self, how, what): try: self.driver.find_element(by=how, value=what) except NoSuchElementException as e: return False return True def is_alert_present(self): try: self.driver.switch_to_alert() except NoAlertPresentException as e: return False return True def close_alert_and_get_its_text(self): try: alert = self.driver.switch_to_alert() alert_text = alert.text if self.accept_next_alert: alert.accept() else: alert.dismiss() return alert_text finally: self.accept_next_alert = True def tearDown(self): self.driver.quit() self.assertEqual([], self.verificationErrors)if __name__ == \"__main__\": unittest.main() æ‰€ä»¥åªéœ€è¦è¿™ä¸€ç‚¹å°±å¯ä»¥å®Œå–„ä»£ç ï¼ŒåŒæ—¶å¯ä»¥çœ‹çœ‹ä»–ä»¬çš„å®˜ç½‘ KATALON - Best automated testing tool for web, mobile, APIï¼Œä»–ä»¬ä¸»è¦æ˜¯æä¾›æµ‹è¯•å·¥å…·ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£ä¸‹ã€‚","tags":[]},{"title":"Cookiesæ± çš„åç»­è§£å†³æ–¹æ¡ˆ","date":"2018-06-16T07:01:54.000Z","path":"2018/06/16/Cookiesæ± çš„åç»­è§£å†³æ–¹æ¡ˆ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åäº”ç¯‡åŸåˆ›æ–‡ç«  ç»ˆäºæœ‰æ–¹æ³•äº† (à¹‘â€¢ . â€¢à¹‘) ä½œä¸ºä¸€åç½—å¹,å…ˆå¹ä¸€æ³¢Cç½—ç‰›çš®,ç®€ç›´å¤ªå¸…äº†äº†äº† ç§ç§è¿™ä¸ªçœ¼ç¥å»ºè®®å¤§å®¶å¯ä»¥çœ‹çœ‹è¿™åœºæ¯”èµ›ï¼Œè¥¿ç­ç‰™VSè‘¡è„ç‰™ï¼Œæˆ‘ç›¸ä¿¡ä½ ä¼šçˆ±ä¸Šè¶³çƒçš„ æ­£æ–‡å¼€å§‹åœ¨ä¸Šä¸€ç¯‡æ–‡ç« : ç®€å•è¯´æ˜äº†è‡ªå·±å¯¹äºè¯¥ç½‘ç«™çš„æƒ³æ³•,åœ¨ç»è¿‡ä¸¤å¤©çš„æµ‹è¯•ä¸ç ”ç©¶ä¹‹å,æˆ‘æœ‰äº†æ›´å¤šçš„æƒ³æ³•. æƒ³æ³•ä¸€: ä¸ºæ¯ä¸ªCookiesç»‘å®šå”¯ä¸€IPä½ ä½œä¸ºä¸€ä¸ªæ™®é€šç”¨æˆ·,å¦‚æœå¯¹æ–¹ç½‘ç«™æ£€æµ‹åˆ°ä½ ä¸åœåœ°å˜æ¢IPä»ä¸åŒåœ°æ–¹æ¥å‘é€è¯·æ±‚,é‚£ä»–è‚¯å®šä¼šæœ‰è¯†åˆ«.é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸€ä¸ªCookiesåˆ†é…å”¯ä¸€çš„IPä»£ç†,ä¹Ÿå°±æ˜¯ä½ è¿™ä¸ªCookieså‘é€è¯·æ±‚çš„ä»£ç†å§‹ç»ˆæ˜¯å”¯ä¸€çš„. ä½†æ˜¯è¿™ç§æ–¹æ³•çš„å®ç°æ–¹å¼è¿˜æ²¡æœ‰æƒ³å‡ºæ¥,ä¸çŸ¥é“è¯¥ä½¿ç”¨å“ªäº›æŠ€æœ¯æ ˆæ¥å®ç°è¿™ä¸ªæƒ³æ³• æƒ³æ³•äºŒ: è§£å†³éªŒè¯ç å¥½,æ—¢ç„¶ä½ å¼¹å‡ºéªŒè¯ç ,é‚£æˆ‘å°±è§£å†³å®ƒ! è§£å†³æ–¹æ³•æ˜¯: è¯¥ç½‘ç«™çš„éªŒè¯ç å›¾ç‰‡æ˜¯base64,ç”¨pythonè½¬ä¸€ä¸‹,æ¥ä¸Šç¬¬ä¸‰æ–¹å°±OK åŒæ—¶è¯¥ç½‘ç«™å‚æ•°ä¸­è¿˜å¸¦æœ‰tokenå‚æ•°,ç»è¿‡å‰ç«¯å¤§ä½¬çš„æ–­ç‚¹è°ƒè¯•,å‘ç°æ˜¯å¯¹å¤šä¸ªå­—æ®µçš„ä¸¤æ¬¡åŠ å¯† ä¿æŒä¼šè¯session.ä½ éœ€è¦è®©å¯¹æ–¹ç½‘ç«™çŸ¥é“æ˜¯ä½ è¿™ä¸ªç”¨æˆ·,æ‰€ä»¥ä½ çš„cookies,ip,headersç›¸å…³ä¿¡æ¯å¿…é¡»ä¿æŒä¸€è‡´,æˆ‘å½“æ—¶çš„æƒ³æ³•æ˜¯ä½¿ç”¨requestsçš„sessionæ¥å®Œæˆè¿™ä¸€æ­¥æ“ä½œ,ä½†æ˜¯å¾ˆéš¾å®Œå…¨æ¨¡æ‹Ÿ,å› ä¸ºæ•´ä¸ªçˆ¬è™«ä½¿ç”¨scrapyæ¥å†™,å¤„ç†éªŒè¯ç ä½¿ç”¨requestsæ¥åš,sessionè¿™éƒ¨åˆ†ä¸å¤§å¥½æ¨¡æ‹Ÿ. é™„ä¸Šä¸€äº›ä¸ºsessionæ·»åŠ ä¿¡æ¯çš„ä»£ç  12345def __init__(self, my_cookie, proxy, headers): self.session = requests.session() self.session.cookies.update(my_cookie) self.session.headers.update(&#123;'User-Agent': headers&#125;) self.session.update(proxy) æƒ³æ³•ä¸‰: ä¸è§£å†³éªŒè¯é—®é¢˜,æ— è„‘é‡è¯•è¿™æ˜¯æœ€è ¢çš„åŠæ³•,ä¹Ÿæ˜¯æˆ‘ç›®å‰åœ¨ä½¿ç”¨çš„æ–¹æ³•. /(ã„’oã„’)/~~ æ€è·¯æ˜¯: å°†cookiesä¿å­˜åˆ°mongoDBåšæŒä¹…åŒ–,å†å†™ä¸€ä¸ªè„šæœ¬,æŒç»­çš„å‘redisä¸­æ·»åŠ cookieså’Œstart_urls,ç„¶åå¯¹è¿™äº›start_urlsä¸åœåœ°é‡è¯•,å¯¹,å°±æ˜¯ä¸åœåœ°é‡è¯•,ç›´åˆ°æŠŠæ‰€æœ‰çš„é“¾æ¥è·‘å®Œ.æœ¬æ¬¡éœ€è¦é‡‡é›†çš„é“¾æ¥å¹¶ä¸å¤š,è´¨é‡è¦æ±‚ä¸é«˜,åªéœ€è¦æˆ‘é‡‡é›†åˆ°æ•°æ®å°±å¥½. éœ€è¦æ³¨æ„çš„æ˜¯: éœ€è¦ä¸ºä½ çš„è¡¨å¢åŠ å”¯ä¸€é”®,ä¸ç„¶ä¼šæœ‰é‡å¤æ•°æ® æ¯æ¡è¯·æ±‚æ·»åŠ dont_filter=True,ä¸ç„¶å»é‡ä¼šå½±å“çˆ¬å– æ·»åŠ cookieså’Œstart_urlsä»£ç  12345678910111213# add cookies and start_urls to local_rediswhile True: if local_redis.scard('spider:cookies') &lt; 10: for i in cookies_list: local_redis.sadd('spider:cookies', i) print(\"cookies Done\") if local_redis.scard('spider:start_urls') &lt; 10: for i in url_list: local_redis.sadd('spider:start_urls', i) print(\"start_urls Done\") time.sleep(10) æ•ˆæœæˆ‘æ˜¯ç”¨çš„æ˜¯ç¬¬ä¸‰ç§æ–¹æ³•,ç›®å‰çœ‹æ¥æ•ˆæœè¿˜è¡Œ,æ•°æ®å·²ç»çˆ¬å–äº†å¤§åŠ,ç›¸ä¿¡ä¸‰å¤©å‡è¿‡å»äº†åº”è¯¥å°±æ²¡é—®é¢˜äº†. å¦‚æœä»¥åè¦é•¿æœŸåšè¿™ä¸ªé¡¹ç›®çš„è¯,æœ€å¥½çš„åŠæ³•åº”è¯¥è¿˜æ˜¯ç¬¬äºŒç§,ä»æ ¹æœ¬å»è§£å†³é—®é¢˜. æœ¬æ¬¡åšè¿™ä¸ªé¡¹ç›®ä¹Ÿæ”¶è·é¢‡å¤š,å¯¹äºcookiesä½¿ç”¨æ›´åŠ æœ‰ç»éªŒ;æ„Ÿè§‰æœ€å¥½ç©çš„æ˜¯tokençš„åŠ å¯†ä¸è§£å¯†å®ç°,å¯¹è¿™æ–¹é¢æ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£ä¸‹è¿™ä¸ª: zlib â€” Compression compatible with gzip","tags":[{"name":"cookieæ± ","slug":"cookieæ± ","permalink":"https://zhangslob.github.io/tags/cookieæ± /"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"}]},{"title":"ä»cookieæ± æ­å»ºè¯´èµ·","date":"2018-06-14T13:25:46.000Z","path":"2018/06/14/ä»cookieæ± æ­å»ºè¯´èµ·/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åå››ç¯‡åŸåˆ›æ–‡ç«  æˆ‘å¿«ç»æœ›äº† (à¹‘â€¢ . â€¢à¹‘) è¿™å‡ å¤©æ¥æ‰‹äº†ä¸€ä¸ªå¾ˆæ€¥çš„é¡¹ç›®ï¼Œè¦åœ¨å‡ å¤©çˆ¬å–æŸç½‘ç«™çš„æ•°æ®ã€‚è¯¥ç«™æ˜¯æˆ‘çŸ¥é“å›½å†…åçˆ¬æ¯”è¾ƒä¸¥é‡çš„ç½‘ç«™ä¹‹ä¸€ï¼Œæˆ‘ä¹Ÿåšå¥½äº†å¿ƒç†å‡†å¤‡ã€‚ åˆ†æè¯¥ç½‘ç«™æ•°æ®éœ€è¦ç™»å½•æ‰èƒ½æŸ¥çœ‹ï¼ŒAPPæŠ“åŒ…äº†ä½†æ˜¯æ²¡æœ‰å‘ç°ç›¸å…³æ•°æ®ï¼Œæ‰€ä»¥é€‰æ‹©ä»PCç«™å…¥æ‰‹ã€‚ æ—¢ç„¶éœ€è¦ç™»å½•ï¼Œé‚£å°±éœ€è¦éªŒè¯ä¸€ä¸ªæ–°é²œçš„cookieså¯ä»¥è®¿é—®å¤šå°‘é“¾æ¥ï¼›éªŒè¯æ–¹æ³•æ˜¯ï¼š ç›´æ¥æ‹·è´å·²ç»ç™»å½•è¯¥ç½‘ç«™è¯·æ±‚çš„Curlï¼Œè½¬æ¢ä¸ºPythonä»£ç ï¼ŒåŠ ä¸€ä¸ªå¾ªç¯ï¼Œæµ‹è¯•ï¼Œå•ä¸ªè´¦å·å¯ä»¥è·‘å¤šå°‘é¡µ ç»è¿‡10å¤šæ¬¡æµ‹è¯•ï¼Œå‘ç°å•ä¸ªCookieså¯ä»¥ä¸‹è½½ï¼Œè‡³å°‘50ä¸ªç½‘é¡µã€‚ é‚£ä¹ˆå°±å¾ˆå¥½åšäº†ï¼Œå¯ä»¥å¼€å§‹å†™æ€è·¯äº†ã€‚ æ€è·¯é¦–å…ˆæˆ‘ä»¬éœ€è¦å¤šä¸ªå¯ä»¥ç™»å½•çš„Cookiesï¼Œç„¶ååˆ©ç”¨è¿™äº›Cookieså»ä¸‹è½½ç½‘é¡µï¼›ä¸€æ—¦è¿”å›çŠ¶æ€ç ä¸æ˜¯200ï¼Œå°±æ‹‰é»‘è¯¥Cookiesã€‚ å…·ä½“çš„æ–¹æ³•çœ‹ä¸‹å›¾ï¼š æœ‰å‡ ç‚¹è¯´æ˜ä¸‹ï¼š å¦‚ä½•æ¨¡æ‹Ÿæ³¨å†Œã€‚æœ‰ä¸¤ç§æ–¹æ³•ï¼Œæ¨¡æ‹Ÿè¯·æ±‚å’Œæµè§ˆå™¨æ¨¡æ‹Ÿã€‚æ¨¡æ‹Ÿè¯·æ±‚å°±æ˜¯å»åˆ†ææ³¨å†Œè¿‡ç¨‹ä¸­çš„æ¯ä¸€æ­¥æ“ä½œï¼Œè¿™ä¸ªè¯·æ±‚æ˜¯å‘é€éªŒè¯ç çš„ï¼Œé‚£ä¸ªæ˜¯æ³¨å†Œçš„ï¼Œæˆ‘ä¼˜å…ˆæ¨èè¯¥æ–¹æ³•ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•é‡åˆ°ä¸€äº›æºå¸¦æœ‰å¤§é‡ç­¾åå‚æ•°çš„å˜æ€ç½‘ç«™æ—¶ï¼Œéš¾åº¦è¾ƒå¤§ï¼Œéœ€è¦è‡ªå·±ä¸€æ­¥æ­¥æ–­ç‚¹JavaScriptã€‚æµè§ˆå™¨æ¨¡æ‹Ÿå¤§å®¶åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼ŒPythonä¸­å°±æ˜¯seleniumå‚»ç“œæ“ä½œï¼Œéœ€è¦å“ªé‡Œç‚¹å“ªé‡Œã€‚æ³¨æ„çš„å‘æ˜¯ä½•æ—¶åˆ‡æ¢iframe Cookiesçš„æ­å»ºã€‚å…¶å®éå¸¸ç®€å•ï¼Œè¿™é‡Œåˆ©ç”¨äº†redisçš„é›†åˆï¼Œå–Cookiesä½¿ç”¨spopå³å¯ã€‚è¿™é‡Œå¹¶æ²¡æœ‰åšéªŒæ´»ï¼Œå› ä¸ºåŸºæœ¬ä¸ŠCookiesäº§ç”Ÿä¹‹åå°±ä¼šè¢«ä½¿ç”¨ã€‚ æˆ‘è¦å´©æºƒäº†ä¸åšä¸çŸ¥é“ï¼Œä¸€åšå“ä¸€è·³ã€‚ ä½†æˆ‘ä»¥ä¸ºè¯¥ç½‘ç«™å¾ˆç®€å•ï¼Œæ­å»ºä¸€ä¸ªç®€å•çš„Cookiesæ± å°±å¯ä»¥è§£å†³ï¼Œä½†æ˜¯æˆ‘æ˜æ˜¾å¤ªå¹´è½»äº†ã€‚ æˆ‘å…ˆæŠŠé‡‡é›†é“¾æ¥æ¨åˆ°redisä¸­ï¼Œä½¿ç”¨äº†scrapy_redisã€‚ è¯¥ç½‘ç«™çš„åçˆ¬ï¼š ä»£ç†é—®é¢˜ã€‚å…¶å®è¿™é‡Œæœ‰ä¸€ä¸ªæ‚–è®ºï¼Œåˆ°åº•è¯¥ä¸è¯¥ä½¿ç”¨ä»£ç†ã€‚é¦–å…ˆï¼Œæˆ‘ä¸ç”¨ä»£ç†ï¼Œåˆšå¼€å§‹è¿˜å¥½ï¼Œä½†æ˜¯å¾ˆå¿«æˆ‘çš„æœ¬åœ°ä»£ç†å°±è¢«æ‹‰é»‘äº†ï¼›é‚£å¥½ä¸Šä»£ç†ï¼Œä½†æ˜¯æ¥ä¸‹æ¥é—®é¢˜æ¥äº†ï¼Œå¼€å§‹å‡ºç°ä¸€ä¸ªä¸ªçš„éªŒè¯ç éœ€è¦å¡«äº†ï¼Œä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç”¨æˆ·ï¼Œæˆ‘æ˜¯ä¸å¯èƒ½é¢‘ç¹çš„æ”¹å˜è‡ªå·±çš„IPå»è®¿é—®ç½‘ç«™çš„ï¼Œè§£å†³æ–¹æ³•åªæœ‰ä¸€ä¸ªï¼ŒCookieså’Œä»£ç†ç»‘å®šï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•çœŸçš„ä¸å¥½å®ç°ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨Scrapyå¼€å‘çš„çˆ¬è™«ã€‚ éªŒè¯ç é—®é¢˜ã€‚æ—¢ç„¶å‡ºç°äº†éªŒè¯ç ï¼Œé‚£å°±å»è§£å†³å®ƒã€‚éªŒè¯ç ä¸€èˆ¬æ˜¯å’ŒCookiesç»‘å®šçš„ï¼Œé‚£ä¹ˆæˆ‘éœ€è¦æŠŠè®¿é—®è¯¥è´¦å·çš„IPã€User-Agentã€Cookieså…¨éƒ¨æ‹¿å‡ºæ¥ï¼Œå†å»å‘é€æ–°çš„è¯·æ±‚ï¼Œè€Œä¸”éœ€è¦æ³¨æ„ï¼Œæ­¤è¿‡ç¨‹ä¸­ä¸èƒ½å†è¿›è¡ŒIPçš„å˜åŒ–ã€‚ æœ€åä»Šå¤©äº†å¤§æ¦‚ä¸¤å¤©çš„æ–—æ™ºæ–—å‹‡ï¼Œç°åœ¨åŸºæœ¬ä¸Šå¯ä»¥çˆ¬åˆ°æ•°æ®äº†ï¼Œå¸Œæœ›æ˜å¤©å¯ä»¥äº¤å·®ï¼Œä¸ç„¶ç«¯åˆå°±è¦åŠ ç­äº†ã€‚ å¸Œæœ›è¿™åªå°çŒ«å’ªå¯ä»¥ç»™æˆ‘å¸¦æ¥å¥½è¿œã€‚","tags":[{"name":"cookieæ± ","slug":"cookieæ± ","permalink":"https://zhangslob.github.io/tags/cookieæ± /"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"}]},{"title":"ä¸ºäº†çŸ¥é“èƒ¡æ­Œç²‰ä¸çš„ç”·å¥³æ¯”ç‡ï¼Œçˆ¬äº†ä¸‰ç™¾ä¸‡å¾®åšæ•°æ®","date":"2018-06-07T13:59:53.000Z","path":"2018/06/07/èƒ¡æ­Œç”·ç²‰å¤šè¿˜æ˜¯å¥³ç²‰å¤š-çˆ¬çˆ¬å¾®åš/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åä¸‰ç¯‡åŸåˆ›æ–‡ç«  è€èƒ¡å¥½å¸… (à¹‘â€¢ . â€¢à¹‘) æœ€è¿‘å¶ç„¶é—´çœ‹åˆ°ä¸€æ¡æ–°é—»ï¼Œæ ‡é¢˜æ˜¯ï¼šâ€œèƒ¡æ­Œä½œä¸ºä¸€ä¸ªç”·æ€§æ˜æ˜Ÿï¼Œç”·ç²‰ä¸æ¯”å¥³ç²‰ä¸è¿˜å¤šï¼Œè¿™ä¸ç§‘å­¦ï¼â€ æ–‡ä¸­è¿™æ ·è¯´é“â€œèƒ¡æ­Œåœ¨å¾®åšä¸Šçš„ç²‰ä¸å°±å·²ç»è¾¾åˆ°äº†5748.9398ä¸‡äººï¼Œå¹¶ä¸”é€šè¿‡æŸ¥çœ‹ç²‰ä¸å¯ä»¥å‘ç°è®¸å¤šéƒ½æ˜¯ç”·æ€§ç²‰ä¸ï¼Œè¿™ä¸å¾—ä¸è¯´è¿™æ˜¯ç‹¬ä¸€æ— äºŒäº†â€ å½“æ—¶æˆ‘å°±éœ‡æƒŠäº†ï¼Œâ€œé€šè¿‡æŸ¥çœ‹ç²‰ä¸â€ï¼Ÿï¼Ÿï¼Ÿè¿™æ˜¯ä»€ä¹ˆæ“ä½œï¼Œç°åœ¨çš„UCå°ç¼–è¶Šæ¥è¶Šå¤šäº†å—ï¼Ÿ æˆ‘ä½œä¸ºä¸€åè€èƒ¡çš„ç²‰ä¸ï¼Œç®€ç›´æ˜¯ä¸èƒ½å¿ï¼Œè¿™å®Œå…¨æ˜¯åœ¨çå†™å•Šã€‚ æ‰€ä»¥æˆ‘æœ‰ä¸ªæƒ³æ³•ï¼ŒæŠŠèƒ¡æ­Œå¾®åšä¸Šå…­åƒä¸‡ç²‰ä¸æ•°æ®çˆ¬å–ä¸‹æ¥ï¼Œçœ‹çœ‹åˆ°åº•ç”·ç²‰ä¸å¤šè¿˜æ˜¯å¥³ç²‰ä¸å¤šã€‚ å¤§å®¶å¯ä»¥åœ¨è‡ªå·±å¿ƒä¸­çŒœæµ‹ä¸€ä¸ªç­”æ¡ˆï¼Œåˆ°åº•ç”·ç²‰å¤šè¿˜æ˜¯å¥³ç²‰å¤šå‘¢ï½ï½ã€‚æˆ‘çš„ç­”æ¡ˆæ˜¯ç”·æ€§æ¯”è¾ƒå¤šã€‚ åˆ†æé—®é¢˜ è¿™é‡Œå¯ä»¥çœ‹åˆ°èƒ¡æ­Œå¾®åšç²‰ä¸æ€»æ•°çº¦6åƒä¸‡ï¼Œæœ¬æ¬¡æˆ‘çš„ç›®æ ‡å°±æ˜¯å°½åŠ›å»æ‰¾åˆ°èƒ¡æ­Œæ´»è·ƒç²‰ä¸çš„ç”·å¥³æ¯”ä¾‹ã€‚ ä½†æ˜¯æˆ‘ä»¬çŸ¥é“å¾®åšæ˜¯æœ‰é™åˆ¶çš„ï¼Œå¾®åšä¸ä¼šæŠŠæ‰€æœ‰æ•°æ®éƒ½å±•ç¤ºå‡ºæ¥ï¼Œå¦‚å›¾ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘è¦æ€æ ·æ‰èƒ½å°½å¯èƒ½å¤šçš„æŠ“åˆ°ç²‰ä¸æ•°æ®ï¼Ÿ è¿™é‡Œæˆ‘å°±æƒ³è¦å°½å¯èƒ½å¤šçš„æŠ“å–åˆ°è€èƒ¡çš„æ´»è·ƒç²‰ä¸ï¼Œ æ‰€è°“æ´»è·ƒç²‰ä¸ï¼ŒæŒ‡çš„æ˜¯é™¤å»â€œä¸è½¬å‘ã€ä¸è¯„è®ºã€ä¸ç‚¹èµâ€è¿™äº›â€œä¸‰ä¸â€ç”¨æˆ·ï¼Œæ˜¯æ´»è·ƒçš„ã€æœ‰å‚ä¸çš„ç”¨æˆ·ã€‚è¿™äº›ç”¨æˆ·æ‰æ˜¯çœŸæ­£æœ‰ä»·å€¼çš„ï¼Œæ­£å¥½å»é™¤äº†åƒµå°¸ç²‰ã€‚ ä¸¤ç§æ€è·¯é‡‡é›†å¾®åšç²‰ä¸ï¼Œç›®å‰æˆ‘æœ‰ä¸¤ç§æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œï¼š å…¨é‡é‡‡é›†ã€‚é‡‡é›†å¾®åšæ‰€æœ‰ç”¨æˆ·æ•°æ®ï¼ŒåŒ…æ‹¬å…³æ³¨ã€ç²‰ä¸ç­‰ã€‚é€šè¿‡ç²‰ä¸çš„ç²‰ä¸ã€å…³æ³¨çš„å…³æ³¨ã€ç”¨æˆ·åˆ†ç±»ã€æ¨èç­‰ç­‰å„ç§æ–¹æ³•æ‹¿åˆ°å¾®åšå…¨é‡ç”¨æˆ·æ•°æ®ã€‚ é‡‡æ ·ã€‚é‡‡é›†èƒ¡æ­Œçš„æ‰€æœ‰å¾®åšä¸‹æœ‰è¯„è®ºã€ç‚¹èµã€è½¬å‘çš„ç”¨æˆ·ï¼Œå‡¡æ˜¯æœ‰å‚ä¸è¿‡çš„äº²å¯†å€¼åŠ ä¸€ï¼Œå½“è¿™ä¸ªå€¼è¶…è¿‡ä¸€å®šé™åº¦æ—¶ï¼ˆæ¯”å¦‚è¯´5æˆ–è€…10ï¼‰ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¯¥ç”¨æˆ·æ˜¯èƒ¡æ­Œçš„ç²‰ä¸ã€‚ æƒ³äº†æƒ³ï¼Œç¬¬ä¸€ç§æ–¹æ³•çŸ­æ—¶é—´å†…æ˜¯ä¸ç°å®çš„ï¼Œæ–¹æ³•2å€’æ˜¯å¯ä»¥å°è¯•ä¸€æ³¢ã€‚ çˆ¬è™«é€»è¾‘çˆ¬è™«åˆ†ä¸ºä¸‰æ­¥ï¼š é‡‡é›†èƒ¡æ­Œæ‰€æœ‰å¾®åš é‡‡é›†æ¯æ¡å¾®åšçš„ä¸‰ç±»æ•°æ®ï¼ˆè½¬å‘ã€è¯„è®ºã€ç‚¹èµï¼‰ æ•°æ®æ¸…æ´— å¥½äº†ï¼Œç°åœ¨å·²ç»éå¸¸æ¸…æ™°äº†ï¼Œä¸‹é¢å°±å¼€å§‹å»å¯»æ‰¾çˆ¬å–æ–¹æ³•ã€‚ å¾®åšæ¥å£æ ¹æ®ä»¥å¾€çš„ç»éªŒï¼Œweibo.cn å’Œ m.weibo.cn æ˜¯æœ€ç®€å•çˆ¬å–çš„ï¼Œweibo.com æ˜¯æœ€éš¾çš„ã€‚è¿™æ¬¡æˆ‘ä»¬ä» m.weibo.cn å…¥æ‰‹ï¼Œåˆ†æå¯ä»¥å¾—åˆ°èƒ¡æ­Œå¾®åšçš„æ¥å£ï¼Œè€Œä¸”æ˜¯æ— éœ€ç™»å½•çš„ï¼ï¼ï¼å¾ˆé‡è¦ã€‚å…¶ä»–å…¥å£éƒ½éœ€è¦è§£å†³ç™»å½•éš¾é¢˜ï¼ https://m.weibo.cn/api/container/getIndex?containerid=1076031223178222&amp;page={} è¿”å›æ•°æ®ï¼š 1234567cardlistInfo: &#123;containerid: \"1076031223178222\",v_p: 42,show_style: 1,total: 3643,page: 2&#125;, è¿™é‡Œå‘Šè¯‰æˆ‘ä»¬æ€»å…±æœ‰3643æ¡æ•°æ®ï¼Œæ¯é¡µ10æ¡ï¼Œé‚£ä¹ˆç¿»é¡µå°±å¾ˆæ¸…æ™°äº†ã€‚ å…¶ä»–æ¥å£12345è½¬å‘ï¼šhttps://m.weibo.cn/api/statuses/repostTimeline?id=4238119278366780&amp;page=&#123;&#125;è¯„è®ºï¼šhttps://m.weibo.cn/api/comments/show?id=4238119278366780&amp;page=&#123;&#125;ç‚¹èµï¼šhttps://m.weibo.cn/api/attitudes/show?id=4238119278366780&amp;page=&#123;&#125; ï¼ˆæƒ³è¦çˆ¬å…¶ä»–äººï¼Œæ›¿æ¢è¿™é‡Œçš„idå³å¯ï¼‰ æš‚æ—¶ä¸æ¸…æ¥šæ€»å…±æœ‰å¤šå°‘é¡µï¼Œè™½ç„¶è¿”å›çš„æ•°æ®ä¸­æœ‰ total_number ï¼Œä½†æ˜¯æ­¤æ•°å­—å¹¶ä¸å‡†ç¡®ï¼Œè¿˜éœ€è¦æ›´å¤šæµ‹è¯•ã€‚ 123total_number: 19526897,hot_total_number: 0,max: 1952690 ï¼ˆç®€å•æµ‹åå‘ç°æ€»é¡µæ•°ä¸ºtotal_number//55ï¼‰ é‡‡é›†ç”¨æˆ·ä¿¡æ¯æ¥å£https://m.weibo.cn/api/container/getIndex?type=uid&amp;value=6114792181 å…¶å®ä¸éœ€è¦è¿™ä¸€æ¬¡è¯·æ±‚ï¼Œå› ä¸ºåœ¨è½¬å‘æ¥å£ä¸­å·²ç»æœ‰æˆ‘ä»¬æƒ³è¦çš„æ•°æ®äº†ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526user: &#123;id: 6431898981,screen_name: \"è±ªæ°”superiority\",profile_image_url: \"https://tvax2.sinaimg.cn/crop.9.0.220.220.180/0071hAK9ly8fmdxpea2vxj306n064glj.jpg\",profile_url: \"https://m.weibo.cn/u/6431898981?uid=6431898981&amp;featurecode=20000320\",statuses_count: 7255,verified: false,verified_type: -1,close_blue_v: false,description: \"\",gender: \"m\",mbtype: 0,urank: 4,mbrank: 0,follow_me: false,following: false,followers_count: 2,follow_count: 62,cover_image_phone: \"https://tva1.sinaimg.cn/crop.0.0.640.640.640/549d0121tw1egm1kjly3jj20hs0hsq4f.jpg\",avatar_hd: \"https://wx2.sinaimg.cn/orj480/0071hAK9ly8fmdxpea2vxj306n064glj.jpg\",like: false,like_me: false,badge: &#123;user_name_certificate: 1,wenchuan_10th: 1&#125; å¾ˆè›‹ç–¼çš„æ˜¯ï¼Œç‚¹èµå’Œè¯„è®ºæ¥å£ä¸­å¹¶æ²¡æœ‰ç›¸å…³æ•°æ®ï¼Œæ‰€ä»¥ç‚¹èµå’Œè¯„è®ºéƒ¨åˆ†è¦é‡æ–°çˆ¬å–ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617&#123;id: 4247512245791226,created_at: \"5åˆ†é’Ÿå‰\",source: \"å¾®åš weibo.com\",user: &#123;id: 6114792181,screen_name: \"Ming_54456\",profile_image_url: \"https://tvax1.sinaimg.cn/crop.367.164.918.918.180/006FP2Mlly8fjs2mf3x6pj319x0yoqbo.jpg\",verified: false,verified_type: -1,mbtype: 12,profile_url: \"https://m.weibo.cn/u/6114792181?uid=6114792181&amp;featurecode=20000320\",remark: \"\",following: false,follow_me: false&#125;&#125;, å¾®åšå®˜æ–¹APIåŒæ ·æä¾›ç›¸åº”æ•°æ® ï¼Œå»ºè®®ä½¿ç”¨å‰ä»”ç»†é˜…è¯» æ¥å£è®¿é—®é¢‘æ¬¡æƒé™ çˆ¬è™«ä»£ç çˆ¬è™«å®Œæ•´ä»£ç å¯ä»¥å»æˆ‘çš„å…¬ä¼—å·ï¼ˆPythonçˆ¬è™«ä¸ç®—æ³•è¿›é˜¶ï¼‰ï¼Œå›å¤â€œå¾®åšâ€è·å¾—ã€‚ çˆ¬è™«è¯­è¨€æ˜¯Python3ï¼Œä½¿ç”¨Scrapyæ¡†æ¶ï¼Œæ•°æ®ä¿å­˜åœ¨mongoï¼Œæ²¡æœ‰ä½¿ç”¨åˆ†å¸ƒå¼ï¼Œå•æœº3å¤©è·‘å®Œã€‚ å› ä¸ºå¾®åšçš„åçˆ¬ï¼Œéœ€è¦å¤§é‡ä»£ç†æ”¯æ’‘ã€‚ 1234567891011121314# code is far away from bugs with the god animal protecting I love animals. They taste delicious. â”â”“ â”â”“ â”â”›â”»â”â”â”â”›â”»â”“ â”ƒ â˜ƒ â”ƒ â”ƒ â”³â”› â”—â”³ â”ƒ â”ƒ â”» â”ƒ â”—â”â”“ â”â”â”› â”ƒ â”—â”â”â”â”“ â”ƒ ç¥å…½ä¿ä½‘ â”£â”“ â”ƒ æ°¸æ— BUGï¼ â”â”› â”—â”“â”“â”â”â”³â”“â”â”› â”ƒâ”«â”« â”ƒâ”«â”« â”—â”»â”› â”—â”»â”› çˆ¬å–çš„æ•°æ®å®ä¾‹ï¼š 1234567891011&#123; \"_id\" : ObjectId(\"5b162d10e0eafb1d6e63b460\"), \"id\" : NumberLong(5372682651), \"statuses_count\" : 10599, \"screen_name\" : \"ç”¨æˆ·5372682651\", \"profile_url\" : \"https://m.weibo.cn/u/5372682651?uid=5372682651\", \"description\" : \"æš‚æ— æ•°æ®\", \"gender\" : \"f\", \"followers_count\" : 80, \"follow_count\" : 1060&#125; ç®€å•æ•°æ®æ¸…æ´—æœ€ç»ˆè·‘å®Œä¸€æ¬¡çˆ¬åˆ°çš„æ•°æ®æœ‰3889285ï¼Œå› ä¸ºæœ‰å¤§é‡é¡µé¢ä¼šè·³è½¬åˆ°ç™»å½•é¡µé¢ï¼Œå¯¹è¿™äº›è¯·æ±‚åšä¸€ä¸ªé‡è¯•æ•ˆæœä¼šå¥½äº›ã€‚ æ•°æ®æ¸…æ´—å¯¹æˆ‘æ¥è¯´çœŸçš„æ˜¯ä¸ªå¤´ç–¼çš„é—®é¢˜ï¼Œæ‰¾äº†å¾ˆå¤šç›¸å…³èµ„æ–™ï¼Œæœ€åä½¿ç”¨äº†mongoçš„aggregateæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œä¸‹é¢æ˜¯ä»£ç ï¼š 1234567891011db.getCollection('Weibo').aggregate( [ &#123;\"$group\" : &#123;_id:&#123;id:\"$id\",gender:\"$gender\"&#125;, count:&#123;$sum:1&#125;&#125;&#125;, &#123;$sort:&#123;\"count\":-1&#125;&#125;, &#123; $out:\"result\"&#125;, ], &#123; allowDiskUse:true, cursor:&#123;&#125; &#125; ) ç»“æœäº§ç”Ÿäº†ä¸€å¼ æ–°çš„è¡¨ï¼Œå¯¹æ¯ä¸ªIDè¿›è¡Œç»Ÿè®¡ï¼Œå¹¶æ’åºï¼Œå¦‚ä¸‹ï¼š 1234567891011121314&#123; \"_id\" : &#123; \"id\" : NumberLong(5737668415), \"gender\" : \"f\" &#125;, \"count\" : 106701.0&#125;&#123; \"_id\" : &#123; \"id\" : NumberLong(5909154992), \"gender\" : \"m\" &#125;, \"count\" : 72298.0&#125; å‚ä¸æ¬¡æ•°è¾¾åˆ°åä¸‡æ¬¡ï¼Œå¤©å‘ï¼Œè¶…çº§çœŸçˆ±ç²‰ï¼Œç¼˜æ¥æ˜¯å¥¹ï¼Œç–¯ç‹‚åˆ·å±æœ‰æ²¡æœ‰ å¥½äº†ï¼Œç°åœ¨å¼€å§‹çœ‹çœ‹çœŸæ­£çš„æ•°æ®å§ã€‚ æœ¬æ¬¡å…±é‡‡é›†ç”¨æˆ·æ•°æ®3889285æ¡ï¼Œï¼ŒåŸå§‹æ•°æ®ä¸­ç”·æ€§å æ¯”%33.68ï¼Œå¥³æ€§å æ¯”%66.32ï¼Œå¥½å§ï¼Œçœ‹æ¥å¥³æ€§ç²‰ä¸æ›´å¤šï¼›å»é‡ä¹‹åæ•°æ®å…±æœ‰1129035ï¼Œç”·æ€§å æ¯”%29.58ï¼Œå¥³æ€§å æ¯”%70.42ï¼Œæ€ä¹ˆçœ‹ç€å¥³æ€§ç²‰ä¸è¿˜æ˜¯æ›´å¤šå‘¢ã€‚ã€‚ æˆ‘ä»¬å†æ¥è®¡ç®—ä¸€ä¸ªæ•°æ®ï¼Œäº²å¯†åº¦å¤§äº10çš„ç²‰ä¸å…±æœ‰16486ä½ï¼Œå…¶ä¸­ç”·æ€§å æ¯”%24.05ï¼Œå¥³æ€§å æ¯”%75.95ï¼Œäºæ˜¯æœ‰ä¸‹é¢è¿™å¼ è¡¨æ ¼ã€‚ äº²å¯†åº¦ ç”·æ€§å æ¯” å¥³æ€§å æ¯” ç²‰ä¸æ€»æ•° å¤§äº0 29.58% 70.42% 1129035 å¤§äº10 24.05% 75.95% 16486 å¤§äº50 32.77% 67.23% 4285 å¤§äº100 36.77% 63.23% 2578 å¤§äº1000 40.18% 59.82% 331 å¤§äº10000 37.5% 62.5% 24 Top10 30.00% 70.00% 10 è¿™ä¸ªæ•°æ®æŒºæœ‰æ„æ€çš„ï¼Œç”»å¼ è¡¨ç§ç§ ç²‰ä¸æ˜µç§°è¯äº‘ ï¼ˆæ„Ÿè°¢BDPï¼‰ ç»“è®ºçœ‹äº†è¿™äº›æ•°æ®ï¼Œç›¸ä¿¡å¤§å®¶è‡ªå·±å¿ƒä¸­å·²ç»æœ‰äº†ç­”æ¡ˆã€‚ èƒ¡æ­Œä½œä¸ºä¸€ä¸ªç‰æ ‘ä¸´é£ã€ è‹±ä¿Šæ½‡æ´’ã€ é£æµå€œå‚¥ã€ ä¸€è¡¨äººæ‰ã€ é«˜å¤§å¨çŒ›ã€ æ°”å®‡ä¸å‡¡ã€ æ¸©æ–‡å°”é›…ã€ å“è²Œéå‡¡ã€ ä»ªè¡¨ä¸å‡¡çš„ç”·äººï¼Œå¥³ç²‰ä¸æ¯”è¾ƒå¤šæ˜¯å¾ˆæ­£å¸¸çš„ã€‚ä½†æ˜¯ä¸ºå•¥å¤§å®¶éƒ½ä¼šæœ‰ä¸€ç§ç”·ç²‰ä¸æ¯”å¥³ç²‰ä¸å¤šçš„é”™è§‰å‘¢ï¼Œæˆ‘è§‰å¾—æ˜¯å¯¹æ¯”äº§ç”Ÿçš„æ„Ÿè§‰ã€‚æˆ‘æ‹¿èƒ¡æ­Œä¸å…¶ä»–å°é²œè‚‰ä½œå¯¹æ¯”ï¼Œè‚¯å®šä¼šè·Ÿæ¬£èµèƒ¡æ­Œã€‚ä½ è¯´å‘¢ï¼Ÿ æœ¬æ–‡å¹¶ä¸æ˜¯ä¸ºäº†è¯æ˜ä»€ä¹ˆï¼Œåªæ˜¯ä½œä¸ºä¸€åæ™®é€šç²‰ä¸æƒ³å»çœ‹çœ‹æ›´å¤šä¸œè¥¿ã€‚å…¶å®æœ¬æ¬¡æ•°æ®çˆ¬å–æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦ä¼˜åŒ–ï¼Œå¤§å®¶ä¸ç”¨å¤ªè¿‡å½“çœŸã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„åˆ†ææ•°æ®çš„æƒ³æ³•ï¼Œå¯ä»¥è”ç³»æˆ‘ã€‚ è€å¤§é•‡æ¥¼","tags":[{"name":"èƒ¡æ­Œ","slug":"èƒ¡æ­Œ","permalink":"https://zhangslob.github.io/tags/èƒ¡æ­Œ/"},{"name":"å¾®åš","slug":"å¾®åš","permalink":"https://zhangslob.github.io/tags/å¾®åš/"}]},{"title":"zsh(+fish)=å®Œç¾ç»ˆç«¯","date":"2018-06-05T14:27:23.000Z","path":"2018/06/05/zsh-fish-å®Œç¾ç»ˆç«¯/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åäºŒç¯‡åŸåˆ›æ–‡ç«  å¥½çœ‹ã€å¥½ç”¨ (à¹‘â€¢ . â€¢à¹‘) è‡ªä»ç”¨äº†æ·±åº¦ï¼Œæœ‰ä¸€ä¸ªéå¸¸æ˜æ˜¾çš„å˜åŒ–å°±æ˜¯ç»ˆç«¯çš„æ”¹å˜ï¼Œå®åœ¨æ˜¯æ¯”windowsçš„å¥½ç”¨ä¸€ç™¾å€ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨ä¸€äº›å·¥å…·ã€‚ä¸‹é¢è¯´è¯´æˆ‘ç°åœ¨çš„é…ç½®ã€‚ å¦‚ä¸‹å›¾ï¼Œæ˜¯æˆ‘ç›®å‰æ­£åœ¨ä½¿ç”¨çš„ç»ˆç«¯ï¼Œé›†æˆäº†zshå’Œfishçš„åŠŸèƒ½ï¼Œç›®å‰ç”¨ç€æœ€é¡ºæ‰‹çš„ã€‚ https://github.com/robbyrussell/oh-my-zsh å®‰è£…zshä¸€èˆ¬æ¥è¯´ï¼Œç›´æ¥è¿è¡Œsudo apt-get install zshå³å¯ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸‹è½½æºDownload zsh sourceï¼Œä½¿ç”¨curlå®‰è£…curl -L &lt;https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh&gt; | sh æŠŠzshè®¾ç½®ä¸ºé»˜è®¤ç»ˆç«¯chsh -s $(which zsh) æ›´å¤šç»†èŠ‚å‚è€ƒInstalling ZSH å…ˆæ¬£èµä¸‹zshçš„æ•ˆæœã€‚æ¥è‡ªå®˜ç½‘ ä¿®æ”¹zshä¸»é¢˜vi ~/.zshrcï¼Œç„¶åæ‰¾åˆ°ZSH_THEMEï¼Œé»˜è®¤çš„æ˜¯ZSH_THEME=robbyrussellï¼Œå°±åƒæˆ‘è¿™æ ·ï¼Œå› ä¸ºæˆ‘è¿™é‡Œç”¨çš„æ˜¯æ·±åº¦ç»ˆç«¯ï¼Œè€Œä¸”ä¹Ÿä¿®æ”¹äº†ç»ˆç«¯ä¸»é¢˜ å½“ç„¶ï¼Œä½ å¯ä»¥æ¥è¿™é‡Œçœ‹çœ‹ï¼Œé€‰ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ Themes agnosterä¹Ÿå¾ˆå¥½çœ‹ã€‚ æ®è¯´å¤§ç¥éƒ½ç”¨randomï¼Œæ˜¯çœŸçš„å—ï¼Ÿ å®‰è£… fishæœ‰å¥è¯è¿™æ ·è¯´ äºŒé€¼é’å¹´ç”¨ bashï¼Œæ™®é€šé’å¹´ç”¨ zshï¼Œæ–‡è‰ºé’å¹´ç”¨ fish æˆ‘æœ€å–œæ¬¢ fishçš„ä¸€ç‚¹å°±æ˜¯ æ ¹æ®å†å²è¾“å…¥è‡ªåŠ¨è¡¥å…¨ï¼Œæ¥çœ‹å›¾ï¼Œåªè¦æ˜¯å†å²æœ‰è¾“å…¥çš„ï¼Œéƒ½ä¼šæœ‰è®°å½•æœ‰æç¤ºï¼Œå¯¹äºä¸€äº›å¾ˆé•¿çš„å‘½ä»¤ï¼Œç®€ç›´è¶…çº§çˆ½ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹åŠ¨å¤åˆ¶ç²˜è´´äº†ã€‚ ä½†æ˜¯fishå’Œzshå¥½åƒä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ’ä»¶å¯ä»¥åœ¨zshä¸Šè¾¾åˆ°å’ŒfishåŒæ ·çš„æ•ˆæœã€‚ åœ°å€åœ¨è¿™é‡Œ zsh-autosuggestions é¦–å…ˆä¸‹è½½ä¸‹æ¥ git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions ç„¶åvi ~/.zshrcï¼Œæ·»åŠ zsh-autosuggestionsåˆ°pluginsä¸­ï¼Œgitæ˜¯é»˜è®¤å°±æœ‰çš„ã€‚ç„¶åæ–°æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œå°±å¯ä»¥è¾¾åˆ°fishæœ‰çš„ä½ æ˜¯æç¤ºåŠŸèƒ½äº†ã€‚ è¿˜å¯ä»¥å®‰è£…è¯­æ³•é«˜äº®æ’ä»¶ zsh-syntax-highlightingï¼Œå®‰è£…æ–¹æ³•å’Œä¸Šé¢çš„ä¸€æ ·ï¼Œåœ¨pluginsä¸­æ·»åŠ zsh-syntax-highlightingå³å¯ã€‚ è¿™äº›æ˜¯æˆ‘ç›®å‰å‘ç°çš„æ¯”è¾ƒå¥½ç”¨çš„æ’ä»¶å’Œå·¥å…·ï¼Œå¤§å®¶æœ‰ä»€ä¹ˆæ¨èçš„å—ï¼Ÿ","tags":[{"name":"linux","slug":"linux","permalink":"https://zhangslob.github.io/tags/linux/"},{"name":"zsh","slug":"zsh","permalink":"https://zhangslob.github.io/tags/zsh/"}]},{"title":"çˆ¬è™«å­¦åˆ°ä»€ä¹ˆç¨‹åº¦å¯ä»¥å»æ‰¾å·¥ä½œ","date":"2018-05-29T14:52:52.000Z","path":"2018/05/29/çˆ¬è™«å­¦åˆ°ä»€ä¹ˆç¨‹åº¦å¯ä»¥å»æ‰¾å·¥ä½œ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åä¸€ç¯‡åŸåˆ›æ–‡ç«  åˆ†äº«ä¸‹æˆ‘çš„ç»éªŒä¸æ•™è®­ (à¹‘â€¢ . â€¢à¹‘) æœ€è¿‘å¾ˆå¤šæœ‹å‹é—®æˆ‘ï¼Œæˆ‘åœ¨è‡ªå­¦çˆ¬è™«ï¼Œå­¦åˆ°ä»€ä¹ˆç¨‹åº¦å¯ä»¥å»æ‰¾å·¥ä½œå‘¢ï¼Ÿ è¿™ç¯‡æ–‡ç« ä¼šè¯´è¯´æˆ‘è‡ªå·±çš„å¿ƒå¾—ä½“éªŒï¼Œå…³äºçˆ¬è™«ã€å…³äºå·¥ä½œï¼Œä»…ä¾›å‚è€ƒã€‚ å­¦åˆ°å“ªç§ç¨‹åº¦æš‚ä¸”æŠŠç›®æ ‡å®šä½åˆçº§çˆ¬è™«å·¥ç¨‹å¸ˆï¼Œç®€å•åˆ—ä¸€ä¸‹å§ï¼š ï¼ˆå¿…è¦éƒ¨åˆ†ï¼‰ è¯­è¨€é€‰æ‹©ï¼šä¸€èˆ¬æ˜¯äº†è§£Pythonã€Javaã€Golangä¹‹ä¸€ ç†Ÿæ‚‰å¤šçº¿ç¨‹ç¼–ç¨‹ã€ç½‘ç»œç¼–ç¨‹ã€HTTPåè®®ç›¸å…³ å¼€å‘è¿‡å®Œæ•´çˆ¬è™«é¡¹ç›®ï¼ˆæœ€å¥½æœ‰å…¨ç«™çˆ¬è™«ç»éªŒï¼Œè¿™ä¸ªä¸‹é¢ä¼šè¯´åˆ°ï¼‰ åçˆ¬ç›¸å…³ï¼Œcookieã€ipæ± ã€éªŒè¯ç ç­‰ç­‰ ç†Ÿç»ƒä½¿ç”¨åˆ†å¸ƒå¼ ï¼ˆéå¿…è¦ï¼Œå»ºè®®ï¼‰ äº†è§£æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚RabbitMQã€Kafkaã€Redisç­‰ å…·æœ‰æ•°æ®æŒ–æ˜ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€ä¿¡æ¯æ£€ç´¢ã€æœºå™¨å­¦ä¹ ç»éªŒ ç†Ÿæ‚‰APPæ•°æ®é‡‡é›†ã€ä¸­é—´äººä»£ç† å¤§æ•°æ®å¤„ç†ï¼ˆHive/MR/Spark/Stormï¼‰ æ•°æ®åº“Mysqlï¼Œredisï¼Œmongdb ç†Ÿæ‚‰Gitæ“ä½œã€linuxç¯å¢ƒå¼€å‘ è¯»æ‡‚jsä»£ç ï¼Œè¿™ä¸ªçœŸçš„å¾ˆé‡è¦ å¦‚ä½•æå‡éšä¾¿çœ‹çœ‹çŸ¥ä¹ä¸Šçš„æ•™ç¨‹å°±å¯ä»¥å…¥é—¨äº†ï¼Œå°±Pythonè€Œè¨€ï¼Œä¼šrequestså½“ç„¶æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦äº†è§£scrapyå’Œpyspiderè¿™ä¸¤ä¸ªæ¡†æ¶ï¼Œscrapy_redisä¹Ÿæ˜¯éœ€è¦ç†è§£åŸç†çš„ã€‚ åˆ†å¸ƒå¼å¦‚ä½•æ­å»ºã€å¦‚ä½•è§£å†³å…¶ä¸­é‡åˆ°å†…å­˜ã€é€Ÿåº¦é—®é¢˜ã€‚ å‚è€ƒ scrapy-redis å’Œ scrapy æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä»€ä¹ˆå«å…¨ç«™çˆ¬å–æœ€ç®€å•çš„æ‹¿æ‹‰é’©æ¥ä¸¾ä¾‹ï¼Œæœç´¢å…³é”®è¯ï¼Œæœ‰30é¡µï¼Œä¸è¦ä»¥ä¸ºæŠŠè¿™30é¡µçˆ¬å®Œå°±æ˜¯å…¨ç«™çˆ¬å–äº†ï¼Œä½ åº”è¯¥æƒ³æ–¹æ³•æŠŠæ‰€æœ‰æ•°æ®å…¨éƒ¨çˆ¬ä¸‹æ¥ã€‚ ä»€ä¹ˆåŠæ³•ï¼Œé€šè¿‡ç­›é€‰ç¼©å°èŒƒå›´ï¼Œæ…¢æ…¢æ¥å°±OKäº†ã€‚ åŒæ—¶ï¼Œæ¯ä¸ªèŒä½è¿˜ä¼šæœ‰æ¨èèŒä½ï¼Œå†å†™ä¸€ä¸ªé‡‡é›†æ¨èçš„çˆ¬è™«ã€‚ è¿™ä¸ªè¿‡ç¨‹éœ€è¦æ³¨æ„çš„æ˜¯å¦‚ä½•å»é‡ï¼ŒMongoå¯ä»¥ã€redisä¹Ÿå¯ä»¥ å‚è€ƒ Scrapyä¸­å¦‚ä½•æé«˜æ•°æ®çš„æ’å…¥é€Ÿåº¦ å®é™…é¡¹ç›®ç»éªŒè¿™ä¸ªé¢è¯•ä¸­è‚¯å®šä¼šè¢«äººé—®é“ï¼Œå¦‚ï¼š ä½ çˆ¬è¿‡å“ªäº›ç½‘ç«™ æ—¥å‡æœ€å¤§é‡‡é›†é‡æ˜¯å¤šå°‘ ä½ é‡åˆ°å“ªäº›æ£˜æ‰‹é—®é¢˜ï¼Œå¦‚ä½•è§£å†³ ç­‰ç­‰ é‚£ä¹ˆæ€ä¹ˆæ‰¾é¡¹ç›®å‘¢ï¼Ÿæ¯”å¦‚æˆ‘è¦çˆ¬å¾®åšæ•°æ®ï¼Œå»Githubä¸­æœç´¢ä¸‹ï¼Œé¡¹ç›®è¿˜ç®—å°‘å—ï¼Ÿ è¯­è¨€é€‰æ‹©æˆ‘è‡ªå·±å»ºè®®æ˜¯Pythonã€Javaã€Golangæœ€å¥½éƒ½äº†è§£ï¼ŒJavaçˆ¬è™«çš„ä¹Ÿå¾ˆå¤šï¼Œä½†æ˜¯ç½‘ä¸Šæ•™ç¨‹å‡ ä¹éƒ½æ˜¯Pythonçš„ï¼Œæ‚²å“€ã€‚ æœ€åè¯´ä¸‹Golangï¼ŒGolangçœŸçš„å¾ˆç‰›é€¼ï¼Œè¯´ä¸ªæ•°å­—ï¼ŒGolangå¯ä»¥æ¯åˆ†é’Ÿä¸‹è½½ç½‘é¡µæ•°é‡ 2W ï¼ŒPythonå¯ä»¥å—~~ å®£ä¼ ä¸‹è‡ªå·±çš„åˆ·é¢˜é¡¹ç›® Leetcode Solutions By All Language å…³äºåçˆ¬å¸¸è§çš„ UAã€Referç­‰éœ€è¦äº†è§£æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œæœ‰äº›éªŒè¯çš„IDå¦‚ä½•äº§ç”Ÿçš„ï¼Œæ˜¯å¦å¿…è¦ï¼›å…³äºIPæ± è¿™å—æˆ‘ä¸äº†è§£ï¼Œä¸å¤šè¯´ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¦‚ä½•è®¾è®¡æ‹‰é»‘æœºåˆ¶ï¼›æ¨¡æ‹Ÿç™»é™†ä¹Ÿæ˜¯å¿…è¦çš„ï¼Œfuck-login å¯ä»¥ç ”ç©¶ä¸‹ä»£ç ï¼Œæˆ–è€…æPRã€‚ æ¨¡æ‹Ÿç™»é™†å…¶å®å°±æ˜¯ä¸€æ­¥æ­¥çš„è¯·æ±‚ï¼Œä¿å­˜cookieä¼šè¯ å¦‚ä½•åˆ¤æ–­èƒ½åŠ›è¶³å¤Ÿå¾ˆç®€å•ï¼Œç»™ä¸ªä»»åŠ¡ï¼Œçˆ¬å–çŸ¥ä¹ä¸Šæ‰€æœ‰é—®é¢˜ã€‚ ä½ ä¼šå¦‚ä½•æ€è€ƒå¹¶è®¾è®¡è¿™ä¸ªé¡¹ç›®ï¼Ÿ æ¬¢è¿ç•™è¨€æŒ‡å‡º ä»¥ä¸Šä»…ä¸ºä¸ªäººçœ‹æ³•ï¼Œè‹¥æœ‰ä¸è¶³ä¹‹å¤„è¯·æŒ‡å‡ºã€‚å¸Œæœ›å¯ä»¥å¸®åŠ©ä½ ","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"}]},{"title":"ä½ å†™è¿‡å“ªäº›è®©ä½ ç¡ä¸å¥½è§‰çš„BUG","date":"2018-05-28T15:38:35.000Z","path":"2018/05/28/ä½ å†™è¿‡å“ªäº›è®©ä½ ç¡ä¸å¥½è§‰çš„BUG/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”åç¯‡åŸåˆ›æ–‡ç«  ä½ å†™è¿‡ä»€ä¹ˆæœ‰è¶£çš„BUGï¼Ÿ (à¹‘â€¢ . â€¢à¹‘) ä»Šå¤©ï¼ŒèŠèŠ BUGã€‚ ä»Šå¤©ä¸‹åˆå‘ç°ç¨‹åºä¸­ä¸€ä¸ªBUGï¼Œç´§æ€¥ä¿®å¤ä¹‹åé‡æ–°ä¸Šçº¿ï¼Œdebugä¸Šæµ‹è¯•æ²¡æ¯›ç—…ï¼ŒOKä¸Šæ­£å¼ç¯å¢ƒã€‚buildå®Œä¹‹åï¼Œç¨‹åºä¸€ç›´æœ‰é—®é¢˜ï¼Œæ²¡æ³•è¯»æ•°æ®ï¼Œå¤´ç–¼å•Šï¼Œè‡ªå·±çœ‹çš„çœ¼ç›éƒ½è¦çäº†ï¼Œæ‰¾ä¸åˆ°åŸå› ã€‚ å¢åŠ æ›´å¤šæ—¥å¿—ï¼Œç»™å‡ºé”™çš„åœ°æ–¹æ¯ä¸€æ¡éƒ½æ‰“å°å‡ºæ—¥å¿—æ¥ï¼Œçœ‹çœ‹åˆ°åº•æ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚æ”¹å®Œï¼Œä¸Šdebugï¼Œå¥½çš„æ²¡æ¯›ç—…ï¼Œä¸Šæ­£å¼ç¯å¢ƒï¼Œæ ¹æ®æ—¥å¿—æˆ‘å¤§æ¦‚åˆ¤æ–­å‡ºæ˜¯é‚£é‡Œçš„é—®é¢˜äº†ï¼Œæ”¹ï¼Œçº¿ä¸‹æµ‹è¯•ï¼Œdebugæµ‹è¯•ï¼Œéƒ½æ²¡é—®é¢˜ï¼Œå†ä¸Šæ­£å¼ç‰ˆï¼Œè¿˜æ˜¯ä¸è¡Œã€‚ è¿™ä¸ªæ—¶å€™å·²ç»ç²¾ç–²åŠ›ç«­äº†ï¼Œæƒ³ç ¸ç”µè„‘ï¼ï¼ï¼ ä¸ºä»€ä¹ˆdebugç¯å¢ƒå¯ä»¥ï¼Œæ­£å¼ç¯å¢ƒä¸è¡Œå•Šï¼Ÿï¼Ÿ ç„¶åç¨‹åºå°±è·‘èµ·æ¥äº†ï¼Œæ˜¯çš„ï¼Œå°±è·‘èµ·æ¥äº†ã€‚ä¸‹ç­ï¼Œå›å®¶ã€‚ï¼ˆå·²ç»å¿«10ç‚¹äº†ï¼‰ å›åˆ°å®¶ï¼Œæ´—å®Œæ¾¡ï¼Œå†™å®Œè¿™ç¯‡æ–‡ç« ï¼Œå†å»æ£€æŸ¥æ—¥å¿—ï¼Œso far so goodï¼ï¼å¼€å¿ƒ~ ç°åœ¨æˆ‘å†ä»”ç»†æƒ³äº†æƒ³ï¼Œå¯èƒ½æ˜¯è¿™æ ·ï¼šçº¿ä¸ŠæœåŠ¡å™¨å’Œæ•°æ®åº“å‹åŠ›æ¯”è¾ƒå¤§ï¼Œç¨‹åºå­çº¿ç¨‹æ²¡æœ‰è·‘èµ·æ¥ã€æˆ–è€…æ•°æ®åº“æ²¡å»ºç´¢å¼•ã€æŸ¥è¯¢æ—¶é—´è¿‡ä¹…ï¼ˆæ˜å¤©å»éªŒè¯ä¸‹ï¼Œå› ä¸ºä¹‹å‰ä¸€ç›´æ²¡é‡åˆ°ç±»ä¼¼é—®é¢˜ï¼‰ ä¸ç®¡äº†ï¼Œæˆ‘è¦ç¡è§‰äº†ã€‚ æ¥è®¨è®ºä¸‹ï¼Œä½ å†™è¿‡ä»€ä¹ˆè®©ä½ ç¡ä¸å¥½è§‰çš„BUGï¼Ÿ","tags":[{"name":"BUG","slug":"BUG","permalink":"https://zhangslob.github.io/tags/BUG/"}]},{"title":"gitå¤§æ³•å¥½ï¼Œpushéœ€è°¨æ…","date":"2018-05-26T07:38:28.000Z","path":"2018/05/26/gitå¤§æ³•å¥½ï¼Œpushéœ€è°¨æ…/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åä¹ç¯‡åŸåˆ›æ–‡ç«  æ³¨æ„è‡ªå·±çš„è´¦å·å®‰å…¨ (à¹‘â€¢ . â€¢à¹‘) åœ¨æ¯æ¬¡git pushå‰ï¼Œè¯·æ£€æŸ¥ä½ çš„æäº¤æ–‡ä»¶ æ•…äº‹æ˜¯è¿™æ ·æ¥çš„ã€‚ï¼ˆæˆ‘åˆå¼€å§‹è®²æ•…äº‹äº†ï¼‰ å‰å‡ å¤©åœ¨ Githubä¸Šæ‰¾ä¸€äº›èµ„æ–™ï¼Œç¢°å·§çœ‹åˆ°ä¸€ä¸ªåˆé€‚çš„ï¼Œå°±æŠŠä»– clone ä¸‹æ¥ï¼Œå‡†å¤‡åœ¨æœ¬åœ°è·‘ç€è¯•è¯•çœ‹æ•ˆæœï¼Œä½†æ˜¯åœ¨è¿è¡Œçš„æ—¶å€™å´å‘ç°æç¤ºé”™è¯¯ï¼Œæ ¹ç»é”™è¯¯æç¤ºåŸå› æˆ‘å‘ç°æ˜¯ç¼ºå°‘äº†ä¸€ä¸ªåä¸ºconfig.pyçš„æ–‡ä»¶ã€‚ ç»éªŒå‘Šè¯‰æˆ‘ï¼Œè¿™åº”è¯¥æ˜¯ä¸€ä¸ªå†™æœ‰ç›¸å…³é…ç½®çš„æ–‡ä»¶ã€‚ç°åœ¨ç¼ºå°‘äº†è¿™ä¸ªæ–‡ä»¶ï¼Œæ•´ä¸ªç¨‹åºå°±æ²¡æ³•è¿è¡Œï¼Œè‡ªå·±å†™çš„è¯åˆä¸çŸ¥é“æ ¼å¼ä»€ä¹ˆçš„ã€‚ é‚£æˆ‘è¯¥æ€ä¹ˆåŠï¼Ÿ æœ€åæˆ‘è¿˜æ˜¯æ‰¾åˆ°äº†ï¼Œåœ¨Githubä¸Šã€‚æˆ‘å»è¯¥é¡¹ç›®ä¸Šçœ‹åˆ°ä½œè€…æäº¤äº†å¾ˆå¤šæ¬¡çš„commitï¼Œä»å†å²çš„æäº¤ä¸­æˆ‘æ‰¾åˆ°äº†ç›¸å…³ä¿¡æ¯ã€‚è¿™æ˜¯ä¸€ä¸ªåŒ…å«æœ‰ä½œè€…ç›¸å…³æ•°æ®åº“çš„æ–‡ä»¶ï¼Œæˆ‘å·²ç»é€šçŸ¥ä½œè€…ï¼Œè®©ä»–å»åˆ é™¤æ­¤é¡¹ç›®ã€‚ çœ‹ä¸‹å›¾ï¼Œæ¯ä¸ªå¼€æºé¡¹ç›®éƒ½ä¼šæ˜¾ç¤ºæ‰€æœ‰çš„commitsï¼Œæ¯æ¬¡æäº¤éƒ½ä¼šæŠŠgitå·¥ä½œç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶æäº¤ï¼ˆå½“ç„¶ä½ å¯ä»¥æŒ‡å®šå…·ä½“çš„æ–‡ä»¶ï¼Œæˆ‘ä¹ æƒ¯git add .ï¼‰ã€‚å³ä½¿ä½ ä¸‹ä»Šå¤©æŠŠå¯†ç åˆ é™¤äº†ï¼Œä½†æ˜¯ä½ æ˜¨å¤©æäº¤çš„å¯†ç è¿˜æ˜¯ä¼šä¿å­˜åˆ°commitsä¸­ï¼Œåˆ«äººè¿˜æ˜¯å¯ä»¥æ‰¾åˆ°ã€‚ ä¾‹å¦‚ä½ ç°åœ¨çœ‹åˆ°çš„é¡¹ç›® Leetcode-Solutions ï¼Œä½ å¯ä»¥ä»commitä¸­è¿›å…¥ï¼ŒæŸ¥çœ‹åˆ°å†å²contributorsçš„æ¯ä¸€æ¬¡æäº¤çš„å®Œæ•´æ–‡ä»¶ï¼Œ å¦‚ï¼šå¾ˆä¹…ä¹‹å‰çš„æäº¤ æ‰€ä»¥çœ‹åˆ°è¿™é‡Œï¼Œä½ å°±æœ‰å¿…è¦æƒ³æƒ³è‡ªå·±æœ‰æ²¡æœ‰æŠŠä»»ä½•ä¸ªäººéšç§æ•°æ®æäº¤åˆ° Github ä¸Šï¼Œå¦‚æœæœ‰ï¼Œå»ºè®®è¿˜æ˜¯åˆ é™¤é¡¹ç›®å§ã€‚ å½“ç„¶ï¼Œè¿™æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ä½ çš„é¡¹ç›®æ˜¯å…¬å¼€çš„ï¼ˆPublicï¼‰ï¼Œå¦‚æœæ˜¯ç§æœ‰çš„ï¼ˆPrivateï¼‰ï¼Œå°±ä¸ç”¨è€ƒè™‘äº†ã€‚ åˆ›å»ºç§æœ‰é¡¹ç›®æ˜¯æ”¶è´¹çš„ï¼Œä¸€èˆ¬é€‚åˆå…¬å¸å’Œç»„ç»‡ã€‚ æœ€åé¦–å°¾å‘¼åº”ï¼š gitå¤§æ³•å¥½ï¼Œpushéœ€è°¨æ…","tags":[{"name":"Git","slug":"Git","permalink":"https://zhangslob.github.io/tags/Git/"}]},{"title":"Pythonæœ€å‡çš„åº“ï¼šFaker","date":"2018-05-22T13:14:35.000Z","path":"2018/05/22/Pythonæœ€å‡çš„åº“ï¼šFaker/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åå…«ç¯‡åŸåˆ›æ–‡ç«  å¥½å‡å•Š (à¹‘â€¢ . â€¢à¹‘) å…ˆç”³æ˜ä¸‹ï¼Œè¿™é‡Œè¯´çš„Fakerå’ŒLOLçš„å¤§é­”ç‹æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªæ˜¯æ°å¥½é‡åè€Œå·²ã€‚ æ•…äº‹ç”±æ¥æœ€è¿‘åšä¸€ä¸ªé¡¹ç›®æ—¶éœ€è¦éšæœºç”Ÿæˆäººçš„åå­—ï¼Œç™¾åº¦ä¹‹åï¼Œæˆ‘æ˜¯è¿™æ ·å†™çš„ 123456789101112131415def random_first_name(): \"\"\"ç™¾å®¶å§“ä¸­é€‰æ‹©ä¸€ä¸ª\"\"\" name = ['èµµ', 'é’±', 'å­™', 'æ', 'å‘¨', 'å´', 'éƒ‘', 'ç‹', 'å†¯', 'é™ˆ', 'è¤š', 'å«', 'è’‹', 'æ²ˆ', 'éŸ©', 'æ¨', 'æœ±', 'ç§¦', 'å°¤', 'è®¸', 'ä½•', 'å•', 'æ–½', 'å¼ ', 'å­”', 'æ›¹', 'ä¸¥', 'å', 'é‡‘', 'é­', 'é™¶', 'å§œ', 'æˆš', 'è°¢', 'é‚¹', 'å–»', 'æŸ', 'æ°´', 'çª¦', 'ç« ', 'äº‘', 'è‹', 'æ½˜', 'è‘›', 'å¥š', 'èŒƒ', 'å½­', 'éƒ', 'é²', 'éŸ¦', 'æ˜Œ', 'é©¬', 'è‹—', 'å‡¤', 'èŠ±', 'æ–¹', 'ä¿', 'ä»»', 'è¢', 'æŸ³'] return random.choice(name)def random_last_name(): \"\"\"ç”Ÿæˆéšæœºæ±‰è¯­\"\"\" head = random.randint(0xb0, 0xf7) body = random.randint(0xa1, 0xf9) # åœ¨headåŒºå·ä¸º55çš„é‚£ä¸€å—æœ€å5ä¸ªæ±‰å­—æ˜¯ä¹±ç ,ä¸ºäº†æ–¹ä¾¿ç¼©å‡ä¸‹èŒƒå›´ val = f'&#123;head:x&#125;&#123;body:x&#125;' str_ = bytes.fromhex(val).decode('gb2312') return str_name = random_first_name() + random_last_name() å‰è¾ˆåœ¨reviewçš„æ—¶å€™è¯´æ€ä¹ˆè¿™ä¹ˆå¤æ‚ï¼ŒPythonä¸­æœ‰ä¸€ä¸ªä¸“é—¨ç”Ÿæˆå„ç±»å‡æ•°æ®çš„åº“ï¼šFakerï¼Œä½ å»äº†è§£ä¸‹ã€‚ Fakeré¡¹ç›®åœ°å€ï¼šfaker å®‰è£…ï¼špip install Faker ä¸­æ–‡ç”Ÿæˆå‡æ•°æ®ï¼šLanguage zh_CN é‚£ä¹ˆFakerèƒ½ç”Ÿæˆé‚£äº›å‡æ•°æ®äº†ï¼Ÿ 1234from faker import Fakerfake = Faker(locale='zh_CN')# åˆå§‹åŒ– åœ°å€1234567891011121314fake.street_name()# 'å¹¿å·è¡—fake.city_suffix()# 'å¿'fake.street_address()# 'é¦™æ¸¯è·¯Båº§'fake.longitude()# -98.702031fake.district()# 'ç’§å±±' æ±½è½¦12fake.license_plate()# HZL 767 é“¶è¡Œ12345678fake.bban()# 'KLUX5928618542924'fake.bank_country()# 'GB'fake.iban()# 'GB04BPNH0448315286040' æ¡å½¢ç 12345678fake.ean(length=13)# '0994331656275'fake.ean8()# '51309350'fake.ean13()# '8336323543385' å…¬å¸1234567891011fake.company_prefix()# 'é¸¿ç¿æ€åš'fake.bs()# 'embrace strategic schemas'fake.company_suffix()# 'ç§‘æŠ€æœ‰é™å…¬å¸'fake.company()# 'æ˜‚æ­Œä¿¡æ¯ç½‘ç»œæœ‰é™å…¬å¸' ä¿¡ç”¨å¡1234567891011121314fake.credit_card_security_code(card_type=None)# '360'fake.credit_card_full(card_type=None)# 'Diners Club / Carte Blanche\\næ— è˜\\n30311852484679 10/19\\nCVC: 388\\n'fake.credit_card_number(card_type=None)# '30240280288941'fake.credit_card_expire(start=\"now\", end=\"+10y\", date_format=\"%m/%y\")# '11/26'fake.credit_card_provider(card_type=None)# 'Maestro' äº’è”ç½‘1234567891011121314151617181920212223242526fake.domain_word(*args, **kwargs)# 'jin'fake.company_email(*args, **kwargs)# 'zoulei@hou.com'fake.free_email(*args, **kwargs)# 'vxu@yahoo.com'fake.ipv4_private(network=False, address_class=None)# '10.202.214.57'fake.ascii_safe_email(*args, **kwargs)# 'baiyan@example.net'fake.email(*args, **kwargs)# 'minggao@gmail.com'fake.image_url(width=None, height=None)# 'https://www.lorempixel.com/817/102'fake.uri_page()# 'category'fake.ipv4_network_class()# 'c' å§“å1234567891011121314151617181920212223242526272829303132333435363738394041fake.first_name_female()# 'ç§€å'fake.name_male()# 'éƒæ°'fake.suffix_female()# ''fake.first_name()# 'ä¸œ'fake.prefix_female()# ''fake.last_name_male()# 'æ‰¶'fake.last_name()# 'è£'fake.name_female()# 'æ›¹çº¢'fake.suffix_male()# ''fake.last_name_female()# 'è¾›'fake.last_romanized_name()# 'Zhang'fake.first_romanized_name()# 'Min'fake.romanized_name()# 'Xiuying Qiao'fake.name()# 'é’Ÿæƒ³' ç”µè¯12345678fake.phone_number()# '18874465626'fake.msisdn()# '8086764507444'fake.phonenumber_prefix()# 155 user_agentè¿™ä¸ªå¤§å®¶åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œå¸¸ç”¨çš„å°±æ˜¯ fake-useragentè¿™ä¸ªåº“12345678910111213141516171819202122232425262728293031323334353637fake.mac_platform_token()# 'Macintosh; Intel Mac OS X 10_12_1'fake.firefox()# ('Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_9_4; rv:1.9.4.20) '# 'Gecko/2012-05-03 04:16:34 Firefox/3.6.10')fake.windows_platform_token()# 'Windows 95'fake.safari()# ('Mozilla/5.0 (iPod; U; CPU iPhone OS 3_1 like Mac OS X; sat-IN) '# 'AppleWebKit/533.2.4 (KHTML, like Gecko) Version/3.0.5 Mobile/8B113 '# 'Safari/6533.2.4')fake.chrome(version_from=13, version_to=63, build_from=800, build_to=899)# ('Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/5331 (KHTML, like Gecko) '# 'Chrome/52.0.838.0 Safari/5331')fake.opera()# 'Opera/8.83.(X11; Linux i686; ce-RU) Presto/2.9.169 Version/10.00'fake.mac_processor()# 'Intel'fake.user_agent()# ('Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_9 rv:3.0; pa-IN) '# 'AppleWebKit/532.47.6 (KHTML, like Gecko) Version/4.0.1 Safari/532.47.6')fake.linux_platform_token()# 'X11; Linux x86_64'fake.linux_processor()# 'i686'fake.internet_explorer()# 'Mozilla/5.0 (compatible; MSIE 5.0; Windows NT 5.01; Trident/3.1)' è¿™é‡Œä¸¾ä¾‹çš„éƒ½æ˜¯ä¸­æ–‡çš„ï¼Œå½“ç„¶ä¹Ÿæœ‰å…¶ä»–è¯­è¨€çš„ï¼Œå°ä¼™ä¼´å¯ä»¥å»å®˜ç½‘çœ‹çœ‹ã€‚ æœ€è¿‘åœ¨å’Œå°ä¼™ä¼´åˆ·é¢˜ï¼Œæ¬¢è¿åŠ å…¥ Leetcode Solutions By All Language","tags":[{"name":"Faker","slug":"Faker","permalink":"https://zhangslob.github.io/tags/Faker/"}]},{"title":"å¼ºå¤§çš„å¼‚æ­¥çˆ¬è™« with aiohttp","date":"2018-05-16T09:00:07.000Z","path":"2018/05/16/å¼ºå¤§çš„å¼‚æ­¥çˆ¬è™«-aiohttp/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åä¸ƒç¯‡åŸåˆ›æ–‡ç«  å¼‚æ­¥äº†è§£ä¸‹ (à¹‘â€¢ . â€¢à¹‘) çœ‹åˆ°ç°åœ¨ç½‘ç»œä¸Šå¤§å¤šè®²çš„éƒ½æ˜¯requestsã€scrapyï¼Œå´æ²¡æœ‰è¯´åˆ°çˆ¬è™«ä¸­çš„ç¥å™¨ï¼šaiohttp aiohttp ä»‹ç»aiohttpæ˜¯ä»€ä¹ˆï¼Œå®˜ç½‘ä¸Šæœ‰è¿™æ ·ä¸€å¥è¯ä»‹ç»ï¼šAsync HTTP client/server for asyncio and Pythonï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ asyncioå’ŒPythonçš„å¼‚æ­¥HTTPå®¢æˆ·ç«¯/æœåŠ¡å™¨ ä¸»è¦ç‰¹ç‚¹æ˜¯ï¼š æ”¯æŒå®¢æˆ·ç«¯å’ŒHTTPæœåŠ¡å™¨ã€‚ æ— éœ€ä½¿ç”¨Callback Hellå³å¯æ”¯æŒServer WebSocketså’ŒClient WebSocketsã€‚ WebæœåŠ¡å™¨å…·æœ‰ä¸­é—´ä»¶ï¼Œä¿¡å·å’Œå¯æ’æ‹”è·¯ç”±ã€‚ emmmmï¼Œå¥½å§ï¼Œè¿˜æ˜¯æ¥çœ‹ä»£ç å§ Client example: 1234567891011121314import aiohttpimport asyncioasync def fetch(session, url): async with session.get(url) as response: return await response.text()async def main(): async with aiohttp.ClientSession() as session: html = await fetch(session, 'http://httpbin.org/headers') print(html)loop = asyncio.get_event_loop()loop.run_until_complete(main()) output: 1&#123;\"headers\":&#123;\"Accept\":\"*/*\",\"Accept-Encoding\":\"gzip, deflate\",\"Connection\":\"close\",\"Host\":\"httpbin.org\",\"User-Agent\":\"Python/3.6 aiohttp/3.2.1\"&#125;&#125; Server example: 123456789101112from aiohttp import webasync def handle(request): name = request.match_info.get('name', \"Anonymous\") text = \"Hello, \" + name return web.Response(text=text)app = web.Application()app.add_routes([web.get('/', handle), web.get('/&#123;name&#125;', handle)])web.run_app(app) output: 12======== Running on http://0.0.0.0:8080 ========(Press CTRL+C to quit) aiohttp ä¸ requestså»ç¿»ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ Client Quickstartï¼Œè®©æˆ‘æ„Ÿè§‰éå¸¸ç†Ÿæ‚‰ï¼Œå¾ˆå¤šç”¨æ³•å’Œrequestsç›¸ä¼¼ã€‚ 1234async with aiohttp.ClientSession() as session: async with session.get('http://httpbin.org/get') as resp: print(resp.status) print(await resp.text()) é¦–å…ˆï¼Œå®˜æ–¹æ¨èä½¿ç”¨ClientSessionæ¥ç®¡ç†ä¼šè¯ï¼Œè¿™ä¸å°±æ˜¯requestsä¸­çš„sessionå—ï¼Ÿç”¨æ³•ä¹Ÿç±»ä¼¼ï¼Œä½¿ç”¨session.get()å»å‘é€getè¯·æ±‚ï¼Œè¿”å›çš„respä¸­å°±æœ‰æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°æ®äº†ï¼Œç”¨æ³•ä¹Ÿå’Œrequestsä¸€æ ·ï¼Œtextï¼ˆï¼‰æ–‡æœ¬ï¼Œ.json()ç›´æ¥æ‰“å°è¿”å›çš„jsonæ•°æ®ï¼Œheadersä»€ä¹ˆçš„ä¹Ÿä¸€æ ·ï¼Œæ›´å¤šå†…å®¹å‚è€ƒå®˜æ–¹æ–‡æ¡£Response object æ—¢ç„¶å·²ç»æœ‰requestsäº†ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜è¦è¯´aiohttpäº†ï¼Ÿé‡ç‚¹æ¥äº†ï¼Œaiohttpæ˜¯å¼‚æ­¥çš„ã€‚åœ¨python3.5ä¸­ï¼ŒåŠ å…¥äº†asyncio/await å…³é”®å­—ï¼Œä½¿å¾—å›è°ƒçš„å†™æ³•æ›´åŠ ç›´è§‚å’Œäººæ€§åŒ–ã€‚è€Œaiohttpæ˜¯ä¸€ä¸ªæä¾›å¼‚æ­¥webæœåŠ¡çš„åº“ï¼Œasyncioå¯ä»¥å®ç°å•çº¿ç¨‹å¹¶å‘IOæ“ä½œã€‚ requestså†™çˆ¬è™«æ˜¯åŒæ­¥çš„ï¼Œæ˜¯ç­‰å¾…ç½‘é¡µä¸‹è½½å¥½æ‰ä¼šæ‰§è¡Œä¸‹é¢çš„è§£æã€å…¥åº“æ“ä½œï¼Œå¦‚æœåœ¨ä¸‹è½½ç½‘é¡µæ—¶é—´å¤ªé•¿ä¼šå¯¼è‡´é˜»å¡ï¼Œä½¿ç”¨multiprocessingæˆ–è€… threadingåŠ é€Ÿçˆ¬è™«ä¹Ÿæ˜¯ä¸€ç§æ–¹æ³•ã€‚ æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„aiohttpæ˜¯å¼‚æ­¥çš„ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸éœ€è¦ç­‰å¾…ï¼Œä½ å°½ç®¡å»ä¸‹è½½ç½‘é¡µå°±å¥½äº†ï¼Œæˆ‘ä¸ç”¨å‚»å‚»çš„ç­‰å¾…ä½ å®Œæˆæ‰è¿›è¡Œä¸‹ä¸€æ­¥ï¼Œæˆ‘è¿˜æœ‰åˆ«çš„æ´»è¦å¹²ã€‚è¿™æ ·å°±æå¤§çš„æé«˜äº†ä¸‹è½½ç½‘é¡µçš„æ•ˆç‡ã€‚ å¦å¤–ï¼ŒScrapyä¹Ÿæ˜¯å¼‚æ­¥çš„ï¼Œæ˜¯åŸºäºTwistedäº‹ä»¶é©±åŠ¨çš„ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œéƒ½ä¸è¦å†™é˜»å¡çš„ä»£ç ã€‚é˜»å¡çš„ä»£ç åŒ…æ‹¬ï¼š è®¿é—®æ–‡ä»¶ã€æ•°æ®åº“æˆ–è€…Web äº§ç”Ÿæ–°çš„è¿›ç¨‹å¹¶éœ€è¦å¤„ç†æ–°è¿›ç¨‹çš„è¾“å‡ºï¼Œå¦‚è¿è¡Œshellå‘½ä»¤ æ‰§è¡Œç³»ç»Ÿå±‚æ¬¡æ“ä½œçš„ä»£ç ï¼Œå¦‚ç­‰å¾…ç³»ç»Ÿé˜Ÿåˆ— ä»£ç å®ä¾‹è¿™é‡Œæ˜¯ä½¿ç”¨aiohttpçš„ä¸€ä¸ªçˆ¬è™«å®ä¾‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263import asyncioimport aiohttpfrom bs4 import BeautifulSoupimport loggingclass AsnycGrab(object): def __init__(self, url_list, max_threads): self.urls = url_list self.results = &#123;&#125; self.max_threads = max_threads def __parse_results(self, url, html): try: soup = BeautifulSoup(html, 'html.parser') title = soup.find('title').get_text() except Exception as e: raise e if title: self.results[url] = title async def get_body(self, url): async with aiohttp.ClientSession() as session: async with session.get(url, timeout=30) as response: assert response.status == 200 html = await response.read() return response.url, html async def get_results(self, url): url, html = await self.get_body(url) self.__parse_results(url, html) return 'Completed' async def handle_tasks(self, task_id, work_queue): while not work_queue.empty(): current_url = await work_queue.get() try: task_status = await self.get_results(current_url) except Exception as e: logging.exception('Error for &#123;&#125;'.format(current_url), exc_info=True) def eventloop(self): q = asyncio.Queue() [q.put_nowait(url) for url in self.urls] loop = asyncio.get_event_loop() tasks = [self.handle_tasks(task_id, q, ) for task_id in range(self.max_threads)] loop.run_until_complete(asyncio.wait(tasks)) loop.close()if __name__ == '__main__': async_example = AsnycGrab(['http://edmundmartin.com', 'https://www.udemy.com', 'https://github.com/', 'https://zhangslob.github.io/', 'https://www.zhihu.com/'], 5) async_example.eventloop() print(async_example.results) éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ éœ€è¦æ—¶åˆ»åœ¨ä½ çš„ä»£ç ä¸­ä½¿ç”¨å¼‚æ­¥æ“ä½œï¼Œä½ å¦‚æœåœ¨ä»£ç ä¸­ä½¿ç”¨åŒæ­¥æ“ä½œï¼Œçˆ¬è™«å¹¶ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯é€Ÿåº¦å¯èƒ½ä¼šå—å½±å“ã€‚ å…¶ä»–å¼‚æ­¥åº“å› ä¸ºçˆ¬è™«ä¸ä»…ä»…åªæœ‰ä¸‹è½½è¿™å—ï¼Œè¿˜ä¼šæœ‰æ“ä½œæ•°æ®åº“ï¼Œè¿™é‡Œæä¾›ä¸¤ä¸ªå¼‚æ­¥åº“ï¼šaioredisã€motor 123456789101112131415import asyncioimport aioredisloop = asyncio.get_event_loop()async def go(): conn = await aioredis.create_connection( 'redis://localhost', loop=loop) await conn.execute('set', 'my-key', 'value') val = await conn.execute('get', 'my-key') print(val) conn.close() await conn.wait_closed()loop.run_until_complete(go())# will print 'value' æ–‡æ¡£ï¼šaioredis 123456789101112131415import motor.motor_asyncioclient = motor.motor_asyncio.AsyncIOMotorClient('mongodb://localhost:27017')db = client['test_database']collection = db['test_collection']async def do_insert(): document = &#123;'key': 'value'&#125; result = await db.test_collection.insert_one(document) print('result %s' % repr(result.inserted_id)) async def do_find_one(): document = await db.test_collection.find_one(&#123;'i': &#123;'$lt': 1&#125;&#125;) pprint.pprint(document) æ–‡æ¡£ï¼šmotor æœ¬æ–‡ä»…ä»…ä»‹ç»äº†aiohttpä½œä¸ºClientçš„ç”¨æ³•ï¼Œ æœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»ç ”ç©¶ä¸‹ä½œä¸ºServerçš„ç”¨æ³•ï¼ŒåŒæ ·å¾ˆå¼ºå¤§ã€‚","tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://zhangslob.github.io/tags/Leetcode/"}]},{"title":"Leetcode Solutionsï¼ˆä¸€ï¼‰ two-sum","date":"2018-05-15T10:22:26.000Z","path":"2018/05/15/Leetcode Solutionsï¼ˆä¸€ï¼‰/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åå…­ç¯‡åŸåˆ›æ–‡ç«  å¼€å§‹åˆ·é¢˜å’¯ (à¹‘â€¢ . â€¢à¹‘) Two Sum é¢˜ç›®ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œæ‰¾å‡ºæ•°ç»„ä¸­å’Œä¸ºç›®æ ‡å€¼çš„ä¸¤ä¸ªæ•°ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”ä¸€ç§ç­”æ¡ˆï¼Œä¸”åŒæ ·çš„å…ƒç´ ä¸èƒ½è¢«é‡å¤åˆ©ç”¨ã€‚ ç¤ºä¾‹:1234ç»™å®š nums = [2, 7, 11, 15], target = 9å› ä¸º nums[0] + nums[1] = 2 + 7 = 9æ‰€ä»¥è¿”å› [0, 1] è§£é¢˜æ€è·¯Goa + b = target ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ a = target - b åœ¨map[æ•´æ•°]æ•´æ•°çš„åºå·ä¸­ï¼Œå¯ä»¥æŸ¥è¯¢åˆ°açš„åºå·ã€‚è¿™æ ·å°±ä¸ç”¨åµŒå¥—ä¸¤ä¸ªforå¾ªç¯äº†ã€‚ 12345678910func twoSum(nums []int, target int) []int &#123; m := make(map[int]int, len(nums)) for i, b := range nums &#123; if j, ok := m[target-b]; ok &#123; return []int&#123;j, i&#125; &#125; m[nums[i]] = i &#125; return nil&#125; Python ç”±äºè¦æ‰¾åˆ°ç¬¦åˆé¢˜æ„çš„æ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ‰€ä»¥å…ˆè¦å°†åŸæ¥çš„æ•°ç»„æ·±æ‹·è´ä¸€ä»½ï¼Œç„¶åæ’åºã€‚ ç„¶ååœ¨æ’åºåçš„æ•°ç»„ä¸­æ‰¾ä¸¤ä¸ªæ•°ä½¿å®ƒä»¬ç›¸åŠ ä¸ºtargetã€‚è¿™ä¸ªæ€è·¯æ¯”è¾ƒæ˜æ˜¾ï¼šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘å¤´ï¼Œä¸€ä¸ªæŒ‡å‘å°¾ï¼Œä¸¤ä¸ªæŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨å¹¶æ£€æŸ¥ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„æ•°çš„å’Œæ˜¯å¦ä¸ºtargetã€‚å¦‚æœæ‰¾åˆ°äº†è¿™ä¸¤ä¸ªæ•°ï¼Œå†å°†è¿™ä¸¤ä¸ªæ•°åœ¨åŸæ•°ç»„ä¸­çš„ä½ç½®æ‰¾å‡ºæ¥å°±å¯ä»¥äº†ã€‚ è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šåœ¨åŸæ¥æ•°ç»„ä¸­æ‰¾ä¸‹æ ‡æ—¶ï¼Œéœ€è¦ä¸€ä¸ªä»å¤´æ‰¾ï¼Œä¸€ä¸ªä»å°¾æ‰¾ï¼Œè¦ä¸æ— æ³•é€šè¿‡ã€‚å¦‚è¿™ä¸ªä¾‹å­ï¼šnumbers=[0,1,2,0]; target=0ã€‚å¦‚æœéƒ½ä»å¤´å¼€å§‹æ‰¾ï¼Œå°±ä¼šæœ‰é—®é¢˜ã€‚ 12345678910class Solution: def twoSum(self, nums, target): if len(nums) &lt;= 1: return False d = dict() for i in range(len(nums)): if nums[i] in d: return [d[nums[i]], i] else: d[target - nums[i]] = i","tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://zhangslob.github.io/tags/Leetcode/"}]},{"title":"å‘Šåˆ«win10ï¼Œæ‹¥æŠ±linux","date":"2018-05-12T05:49:33.000Z","path":"2018/05/12/å‘Šåˆ«win10ï¼Œæ‹¥æŠ±linux/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åäº”ç¯‡åŸåˆ›æ–‡ç«  å®‰è£…linuxæ“ä½œç³»ç»Ÿ (à¹‘â€¢ . â€¢à¹‘) win10 å‡çº§å…ˆé—®ä½ ä¸€ä¸ªé—®é¢˜ï¼Œä½ è®¨åŒwin10å‡çº§ç³»ç»Ÿå—ï¼Ÿ æˆ‘çš„å›ç­”ï¼šæ˜¯ï¼Œæ˜æ˜å·²ç»æŠŠè‡ªåŠ¨æ›´æ–°å…³é—­äº†ï¼Œå¯æ˜¯è¿˜æ˜¯ä¼šæœ‰â€œæ˜“å‡â€ï¼Œwin10æ˜“å‡ä¸€ç›´å¸è½½ä¸æ‰ã€‚æ‰€ä»¥å°±æƒ³è¯•è¯•åˆ«çš„ç³»ç»Ÿã€‚ linuxæ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚é»‘è‹¹æœæš‚æ—¶ä¸è€ƒè™‘ã€‚ å–œæ¬¢linuxçš„ç†ç”± æ·±åº¦æ¡Œé¢ æ·±åº¦ç»ˆç«¯ï¼ˆé…åˆzshè¶…èµçš„ï¼‰ é™¤äº†é¢œå€¼å¤–ï¼Œç¨‹åºå…¼å®¹æ€§ä¼šæ›´å¥½ï¼Œå®‰è£…å„ç§ä¸œè¥¿ä¼šå¾ˆæ–¹ä¾¿ã€‚ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œç†Ÿæ‚‰linuxä¸‹åŸºæœ¬æ“ä½œä¹Ÿæ˜¯å¿…è¦çš„ã€‚ æˆ‘è‡ªå·±è¯•è¿‡ï¼Œçˆ¬è™«ä¼šè·‘çš„æ›´å¿«ã€‚ æ‰‹åŠ¨æ»‘ç¨½ é€‰æ‹©linuxå“ªä¸ªç‰ˆæœ¬ç›®å‰æˆ‘ä½¿ç”¨è¿‡deepinå’Œubuntu18ï¼Œå¯¹äºå®Œå…¨çš„å°ç™½æ¥è¯´ï¼Œæˆ‘æ¨èdeepinä¹Ÿå°±æ˜¯æ·±åº¦æ“ä½œç³»ç»Ÿï¼Œæ·±åº¦å•†åº—æ”¶å…¥çš„åº”ç”¨å¯ä»¥åŸºæœ¬æ»¡è¶³ï¼Œubuntuå¾ˆå¤šåº”ç”¨å®‰è£…èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œå¦‚æœä½ å–œæ¬¢æŠ˜è…¾ï¼Œé‚£å°±ä¸Šæ‰‹ubuntuå§ã€‚ å¦‚æœä½ å’Œæˆ‘ä¸€æ · å–œæ¬¢xxxï¼Œé‚£å°±è¯•è¯•deepinå’Œubuntu18å…±å­˜ã€‚ æˆ‘ç°åœ¨çš„å¼€æœºç•Œé¢ï¼ˆæ¸£æ¸£åƒç´ ï¼‰ å¦‚ä½•å®‰è£…linuxå®‰è£…deepinä½¿ç”¨Uç›˜å®‰è£… å…ˆå»ä¸‹è½½ï¼š ISOæ–‡ä»¶ æ·±åº¦å¯åŠ¨ç›˜åˆ¶ä½œå·¥å…· ç„¶åå®‰è£…å¯åŠ¨ç›˜åˆ¶ä½œå·¥å…·ï¼Œç„¶åé€‰æ‹©åˆšæ‰ä¸‹è½½çš„ISOæ–‡ä»¶ï¼Œä¸‹ä¸€æ­¥é€‰æ‹©ä½ çš„Uç›˜ï¼Œç„¶åå°±å¼€å§‹å®‰è£…äº†ã€‚ ä¸‹ä¸€æ­¥ï¼Œé‡å¯ç”µè„‘ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”µè„‘é»˜è®¤æ˜¯ä»ç¡¬ç›˜å¯åŠ¨ï¼Œå› æ­¤ï¼Œåœ¨ä½¿ç”¨Uç›˜å®‰è£…ç³»ç»Ÿä¹‹å‰ï¼Œæ‚¨éœ€è¦å…ˆè¿›å…¥ç”µè„‘çš„BIOSç•Œé¢å°†Uç›˜è®¾ç½®ä¸ºç¬¬ä¸€å¯åŠ¨é¡¹ã€‚ å°å¼æœºä¸€èˆ¬ä¸º Delete é”®ã€ç¬”è®°æœ¬ä¸€èˆ¬ä¸º F2 æˆ– F10 æˆ– F12 é”®ï¼Œå³å¯è¿›å…¥ BIOS è®¾ç½®ç•Œé¢ã€‚ å°†æ·±åº¦æ“ä½œç³»ç»Ÿå…‰ç›˜æ’å…¥ç”µè„‘å…‰é©±ä¸­ã€‚ å¯åŠ¨ç”µè„‘ï¼Œå°†å…‰ç›˜è®¾ç½®ä¸ºç¬¬ä¸€å¯åŠ¨é¡¹ã€‚ è¿›å…¥å®‰è£…ç•Œé¢ï¼Œé€‰æ‹©éœ€è¦å®‰è£…çš„è¯­è¨€ã€‚ å¦‚æœè¿˜ä¸ä¼šï¼Œè¿™é‡Œæœ‰å®˜æ–¹å½•åˆ¶çš„è§†é¢‘å“¦ æ·±åº¦å®‰è£…å™¨+æ·±åº¦æ¢ç´¢é¢‘é“ç¬¬ä¸ƒæœŸ+æ·±åº¦æ“ä½œç³»ç»Ÿå®˜æ–¹å‡ºå“ è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€å•çš„æ–¹å¼å°±æ˜¯ä¸‹è½½ æ·±åº¦ç³»ç»Ÿå®‰è£…å™¨ ç„¶åå°±æ˜¯å‚»ç“œæ“ä½œäº†ï¼Œè®°å¾—å…³é—­ä¸‹ å®‰å…¨å¯åŠ¨ å°æ­ªå¹¶ä¸æ¨èä½¿ç”¨ç¬¬äºŒç§æ–¹å¼å®‰è£…ï¼Œåœ¨ç¬”è®°æœ¬ä¸Šæ€ä¹ˆéƒ½æ²¡æœ‰æ•ˆæœï¼Œåœ¨å°å¼ä¸Šä¸€æ¬¡æˆåŠŸã€‚æ‰€ä»¥å¤§å®¶æœ‰Uç›˜çš„å°½é‡ä½¿ç”¨Uç›˜å§ å®‰è£…ubuntuéœ€è¦ç”¨åˆ°ä¸Šé¢æåˆ°è¿‡çš„æ·±åº¦å¯åŠ¨ç›˜åˆ¶ä½œå·¥å…·ï¼Œç„¶åå»ä¸‹è½½ ISOæ–‡ä»¶ï¼Œç„¶åå°±æ˜¯å’Œä¸Šé¢å®‰è£…æ–¹æ³•ä¸€æ ·çš„ï¼Œè¿›è¡Œæ“ä½œå³å¯ã€‚ æœ‰æ²¡æœ‰å¾ˆç®€å•ã€‚ æˆ‘çš„ubuntuç•Œé¢ï¼Œç”¨å¾—å°‘ï¼Œæ‰€ä»¥æ²¡ç¾åŒ– æ„Ÿå—æˆ‘ä½¿ç”¨deepinæœ‰ä¸€ä¸ªæœˆäº†ï¼Œå†™ä»£ç ç”¨deepinï¼Œå®¶é‡Œçš„å°å¼è¿˜æ˜¯win7ï¼Œå› ä¸ºdeepinè™½ç„¶æœ‰steamï¼Œä½†æ˜¯åƒé¸¡ä¸æ”¯æŒåœ¨linuxä¸‹è¿è¡Œã€‚ deepinå®Œå…¨å¯ä»¥æ»¡è¶³æˆ‘çš„åŠå…¬éœ€æ±‚ï¼ŒPycharmã€sublimeã€typoraã€chromeã€ç½‘æ˜“äº‘éŸ³ä¹ç­‰ç­‰éƒ½æœ‰ï¼Œç”¨èµ·æ¥å¾ˆèˆ’æœï¼Œè‡³å°‘ç°åœ¨æ˜¯è¿™æ ·æ„Ÿè§‰ã€‚ä½†æ˜¯æœ‰æ—¶å€™deepinä¹Ÿä¼šå¡æ­»ã€‚ å¼ºçƒˆå»ºè®®ä¸Šæ‰‹linuxï¼Œå¯ä»¥å­¦åˆ°å¾ˆå¤šå‘½ä»¤è¡Œæ“ä½œï¼Œå®‰è£…deepinå°±å¥½ï¼Œåˆ°æ—¶å€™ä½ çš„ç”µè„‘ä¼šWindowsä¸deepinå…±å­˜ï¼Œæ ¹æ®åœºæ™¯é€‰æ‹©ç³»ç»Ÿã€‚ æœ‰æ—¶é—´å†™ä¸€ç¯‡deepinç¾åŒ–ä¸å®‰è£…åº”ç”¨ç›¸å…³çš„ä¸œè¥¿ï¼Œçœ‹åˆ°è¿™ä¸€å®šè¦ç‚¹èµå“¦ã€‚","tags":[{"name":"linux","slug":"linux","permalink":"https://zhangslob.github.io/tags/linux/"}]},{"title":"linuxä¸‹å®‰è£…python3.6","date":"2018-05-11T14:26:54.000Z","path":"2018/05/11/linuxä¸‹å®‰è£…python3-6/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åå››ç¯‡åŸåˆ›æ–‡ç«  linuxæ“ä½œ (à¹‘â€¢ . â€¢à¹‘) 1234567891011121314151617181920212223sudo sed -i 's\\archive.ubuntu.com\\mirrors.aliyun.com\\g' /etc/apt/sources.listsudo apt-get updatecd /home/sudo apt-get install gcc make zlib1g-dev -ysudo apt-get install libbz2-dev libsqlite3-dev libxml2-dev libffi-dev libssl-dev -ysudo apt install wget -ywget http://mirrors.sohu.com/python/3.6.2/Python-3.6.2.tgz # å¯ä»¥æ¢æˆä½ æƒ³è¦çš„ç‰ˆæœ¬tar -xvf Python-3.6.2.tgzcd Python-3.6.2./configure --prefix=/home/usr/python36/sudo makesudo make installcd ../usr/python36/bin/sudo mkdir -p ~/.pip/sudo cat &lt;&lt; EOF &gt; ~/.pip/pip.conf[global]trusted-host=mirrors.aliyun.comindex-url=http://mirrors.aliyun.com/pypi/simple/EOFsudo apt-get install libmysqlclient-dev -yln -s /home/usr/python36/bin/pip3 /usr/bin/pip36ln -s /home/usr/python36/bin/python3 /usr/bin/python36 ä»¥åå°±å¯ä»¥ä½¿ç”¨ pip36 python36æ¥è¿›è¡Œæ“ä½œã€‚ å¦‚æœåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥scrapyæç¤ºæ²¡è¿™ä¸ªå‘½ä»¤ï¼Œå¯ä»¥è¯•è¯•python36 -m scrapy","tags":[{"name":"linux","slug":"linux","permalink":"https://zhangslob.github.io/tags/linux/"}]},{"title":"æŠ¤çœ¼ç¥å™¨äº†è§£ä¸‹","date":"2018-05-08T14:05:24.000Z","path":"2018/05/08/æŠ¤çœ¼ç¥å™¨äº†è§£ä¸‹/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åä¸‰ç¯‡åŸåˆ›æ–‡ç«  ä¿æŠ¤çœ¼ç› (à¹‘â€¢ . â€¢à¹‘) æ•´å¤©é¢å¯¹å±å¹•ï¼ŒæŠ¤çœ¼æ˜¯å¿…é¡»çš„ï¼Œä¸‹é¢æ¨èå‡ æ¬¾å°æ­ªä½¿ç”¨è¿‡çš„è½¯ä»¶ã€‚ fluxå®˜ç½‘ï¼šhttps://justgetflux.com/ ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œæ˜¯æˆ‘ä¹‹å‰éå¸¸å–œæ¬¢çš„ä¸€æ¬¾äº§å“ï¼Œä¼šéšç€ä¸€å¤©ä¹‹å†…å…‰çº¿å¼ºå¼±æ”¹å˜å±å¹•çš„é¢œè‰²ã€‚ä½†æ˜¯åœ¨linuxä¸Šä¼¼ä¹ä¸èµ·ä½œç”¨ï¼Œå®‰è£…ä¹‹åï¼Œå±å¹•é¢œè‰²æ²¡æœ‰å‘ç”Ÿä»»ä½•å˜åŒ–ï¼Œäºæ˜¯æˆ‘æ”¾å¼ƒäº†ï¼Œé€‰æ‹©å¦ä¸€æ¬¾è½¯ä»¶ == redshiftç½‘ç«™ï¼šhttps://github.com/jonls/redshift Ubuntuä¸‹sudo apt-get install redshiftå°±å¯ä»¥å®‰è£…ï¼Œæ‰“å¼€æ–¹å¼æ˜¯åœ¨å‘½ä»¤è¡Œè¾“å…¥redshift -v -t 4500:2500ï¼Œç„¶åé¢œè‰²å°±ä¼šå˜å¾—éå¸¸èˆ’æœã€‚ å¦‚æœåœ¨ä½ çš„ç”µè„‘ä¸Š redshift æœ‰æ—¶ä¸å·¥ä½œï¼Œæ£€æŸ¥æ˜¯å¦å¼€å¯äº†å¤šä¸ª redshiftã€‚ Safe Eyesç½‘ç«™ï¼šhttp://slgobinath.github.io/SafeEyes/ è¿™æ¬¾åº”ç”¨ä¼šè‡ªåŠ¨å…³é—­å±å¹•ï¼Œé—´éš”ä¸€æ®µæ—¶é—´ä¼šæœ‰ä¼‘æ¯ï¼Œè¿™ä¸ªæ˜¯å¦å¥½å¥½æ”¾æ¾ä¸‹è‡ªå·±çš„çœ¼ç›ã€‚ è¿™ä¸ªå¥½åƒåªèƒ½å®‰è£…åœ¨linuxä¸Š å¤§å®¶è¿˜æœ‰ä»€ä¹ˆæ¨èçš„å‘¢ï¼Ÿæ¬¢è¿è¯„è®ºæŒ‡å‡º","tags":[{"name":"æŠ¤çœ¼","slug":"æŠ¤çœ¼","permalink":"https://zhangslob.github.io/tags/æŠ¤çœ¼/"}]},{"title":"awesome_crawl(ä¸€)ï¼šè…¾è®¯æ–°é—»","date":"2018-05-01T13:52:11.000Z","path":"2018/05/01/awesome-crawl-ä¸€-ï¼šè…¾è®¯æ–°é—»/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åäºŒç¯‡åŸåˆ›æ–‡ç«  awesome (à¹‘â€¢ . â€¢à¹‘) é¡¹ç›®åœ°å€ï¼šhttps://github.com/zhangslob/awesome_crawl awesome_crawlï¼ˆä¼˜ç¾çš„çˆ¬è™«ï¼‰1ã€è…¾è®¯æ–°é—»çš„å…¨ç«™çˆ¬è™«é‡‡é›†ç­–ç•¥ ä»ç½‘ç«™åœ°å›¾å‡ºå‘ï¼Œæ‰¾å‡ºæ‰€æœ‰å­åˆ†ç±»ï¼Œä»æ¯ä¸ªå­åˆ†ç±»ä¸­å†å¯»æ‰¾è¯¦æƒ…é¡µé¢çš„é“¾æ¥ã€‚ é¦–å…ˆå¯»æ‰¾æ¯æ¡æ–°é—»çš„IDï¼Œç„¶åç§»åŠ¨ç«¯é‡‡é›†å…·ä½“å†…å®¹ã€‚ å†å»æ‰¾ä¸€äº›æ¨èæ–°é—»çš„æ¥å£ï¼Œåšä¸€ä¸ªâ€œæ³›çˆ¬è™«â€ã€‚ è¯´æ˜ æ•´å¥—ç³»ç»Ÿä¸­åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€å¥—æ˜¯ç”Ÿäº§è€…ï¼Œä¸“é—¨å»é‡‡é›†qqæ–°é—»çš„é“¾æ¥ï¼Œç„¶åå­˜æ”¾åˆ°redisä¸­ï¼Œä¸€å¥—æ˜¯æ¶ˆè´¹è€…ï¼Œä»redisä¸­è¯»å–è¿™äº›é“¾æ¥ï¼Œè§£æè¯¦æƒ…æ•°æ®ã€‚æ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½æ˜¯çˆ¬è™«ä¸­çš„custom_settingsä¸­ï¼Œå¯ä»¥è‡ªå®šä¹‰ã€‚ å¦‚æœéœ€è¦è®¾ç½®ä»£ç†ï¼Œè¯·åœ¨middlewares.ProxyMiddlewareä¸­è®¾ç½®ã€‚ qq_list: è¿™ä¸ªçˆ¬è™«æ˜¯ç”Ÿäº§è€…ã€‚è¿è¡Œä¹‹åï¼Œåœ¨ä½ çš„redisæœåŠ¡å™¨ä¸­ä¼šå‡ºç°qq_detail:start_urlsï¼Œå³ç§å­é“¾æ¥ qq_detail: è¿™ä¸ªçˆ¬è™«æ˜¯ç”Ÿæ¶ˆè´¹è€…ï¼Œè¿è¡Œä¹‹åä¼šæ¶ˆè´¹redisé‡Œé¢çš„æ•°æ®ï¼Œå¦‚ä¸‹å›¾ï¼š ä½ å¯ä»¥è‡ªè¡Œæ·»åŠ æ›´å¤šçˆ¬è™«å»é‡‡é›†ç§å­é“¾æ¥ï¼Œå¦‚ä»é¦–é¡µè¿›å…¥åŒ¹é…ï¼Œä»æ¨èå…¥å£ï¼š 12345678910111213141516171819import requestsurl = \"https://pacaio.match.qq.com/xw/recommend\"querystring = &#123;\"num\":\"10^\",\"callback\":\"__jp0\"&#125;headers = &#123; 'accept-encoding': \"gzip, deflate, br\", 'accept-language': \"zh-CN,zh;q=0.9,en;q=0.8\", 'user-agent': \"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1\", 'accept': \"*/*\", 'referer': \"https://xw.qq.com/m/recommend/\", 'authority': \"pacaio.match.qq.com\", 'cache-control': \"no-cache\", &#125;response = requests.request(\"GET\", url, headers=headers, params=querystring)print(response.text) ç­‰ç­‰ï¼Œä½ æ‰€éœ€è¦åšçš„ä»…ä»…æ˜¯æŠŠè¿™äº›æŠ“åˆ°çš„ç§å­é“¾æ¥å¡åˆ°redisé‡Œé¢ï¼Œä¹Ÿå°±æ˜¯å¯ç”¨qq_news.pipelines.RedisStartUrlsPipelineè¿™ä¸ªä¸­é—´ä»¶ã€‚ TODO å¢åŠ æ›´å¤šæ–°é—»é“¾æ¥çš„åŒ¹é…ï¼Œä»æ¨èæ¥å£å¤„è·å¾—æ›´å¤šç§å­é“¾æ¥ å¢åŠ â€œæ³›çˆ¬è™«â€ï¼Œé‡‡é›†ç§å­é“¾æ¥ æ•°æ®åº“å­—æ®µæ£€éªŒ redisä¸­æ•°æ®ä¸ºç©ºçˆ¬è™«è‡ªåŠ¨å…³é—­ï¼ˆç›®å‰redisæ•°æ®è¢«æ¶ˆè´¹å®Œä¹‹åçˆ¬è™«å¹¶ä¸ä¼šè‡ªåŠ¨å…³é—­ï¼Œå¦‚ä¸‹å›¾ï¼‰","tags":[{"name":"awesome_crawl","slug":"awesome-crawl","permalink":"https://zhangslob.github.io/tags/awesome-crawl/"},{"name":"scrapy","slug":"scrapy","permalink":"https://zhangslob.github.io/tags/scrapy/"}]},{"title":"scrapy-redis å’Œ scrapy æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","date":"2018-04-21T10:03:14.000Z","path":"2018/04/21/æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åä¸€ç¯‡åŸåˆ›æ–‡ç«  åˆ†å¸ƒå¼çˆ¬è™« (à¹‘â€¢ . â€¢à¹‘) æœ€è¿‘åœ¨å·¥ä½œä¸­ä¸€ç›´ä½¿ç”¨ redis æ¥ç®¡ç†åˆ†å‘çˆ¬è™«ä»»åŠ¡ï¼Œè®©æˆ‘å¯¹ scrapy-redis æœ‰å¾ˆæ·±åˆ»çš„ç†è§£ï¼Œä¸‹é¢è®©æˆ‘æ…¢æ…¢è¯´æ¥ã€‚ åœ¨æ‰€æœ‰çš„é—®é¢˜å¼€å§‹ä¹‹å‰ï¼Œè¦å…ˆæœ‰ä¸€ä¸ªå‰æï¼šä½ ä½¿ç”¨ Scrapy æ¡†æ¶åšå¼€å‘ ç»“è®ºscrapy-redis ä¸ Scrapyçš„å…³ç³»å°±åƒç”µè„‘ä¸å›ºæ€ç¡¬ç›˜ä¸€æ ·ï¼Œæ˜¯ç”µè„‘ä¸­çš„ä¸€ä¸ªæ’ä»¶ï¼Œèƒ½è®©ç”µè„‘æ›´å¿«çš„è¿è¡Œã€‚ Scrapy æ˜¯ä¸€ä¸ªçˆ¬è™«æ¡†æ¶ï¼Œscrapy-redis åˆ™æ˜¯è¿™ä¸ªæ¡†æ¶ä¸Šå¯ä»¥é€‰æ‹©çš„æ’ä»¶ï¼Œå®ƒå¯ä»¥è®©çˆ¬è™«è·‘çš„æ›´å¿«ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨ scrapy-redisé¦–å…ˆï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ€»ä¼šå¯¹çˆ¬è™«é€Ÿåº¦è¡¨ç¤ºä¸æ»¡ï¼Œä¸ºå•¥è¿™ä¹ˆæ…¢ï¼Œèƒ½ä¸èƒ½è·‘å¿«ç‚¹ã€‚é™¤äº†çˆ¬è™«æœ¬èº«çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬å°±è¦å¼•å…¥åˆ†å¸ƒå¼çˆ¬è™«çš„æ¦‚å¿µã€‚ æˆ‘è‡ªå·±å¯¹åˆ†å¸ƒå¼çˆ¬è™«çš„ç†è§£å°±æ˜¯ï¼šå¤šä¸ªçˆ¬è™«æ‰§è¡ŒåŒä¸€ä¸ªä»»åŠ¡ è¿™é‡Œè¯´ä¸‹ï¼ŒScrapyæœ¬èº«æ˜¯ä¸æ”¯æŒåˆ†å¸ƒå¼çš„ï¼Œå› ä¸ºå®ƒçš„ä»»åŠ¡ç®¡ç†å’Œå»é‡å…¨éƒ¨æ˜¯åœ¨æœºå™¨å†…å­˜ä¸­å®ç°çš„ã€‚ åœ¨ Scrapy ä¸­æœ€å‡ºåçš„åˆ†å¸ƒå¼æ’ä»¶å°±æ˜¯scrapy-redisäº†ï¼Œscrapy-redisçš„ä½œç”¨å°±æ˜¯è®©ä½ çš„çˆ¬è™«å¿«ã€æ›´å¿«ã€è¶…çº§å¿«ã€‚ scrapy-redis å¦‚ä½•å·¥ä½œæœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨redisæ›¿æ¢æœºå™¨å†…å­˜ï¼Œé‚£ä¹ˆå…·ä½“å¦‚ä½•æ“ä½œå‘¢ï¼Ÿéå¸¸ç®€å•ï¼Œä½ åªéœ€è¦åœ¨ settings.py ä¸­åŠ ä¸Šä¸‰ä»£ç ï¼Œå°±èƒ½è®©ä½ çš„çˆ¬è™«å˜ä¸ºåˆ†å¸ƒå¼ã€‚ 12345SCHEDULER = \"scrapy_redis.scheduler.Scheduler\"DUPEFILTER_CLASS = \"scrapy_redis.dupefilter.RFPDupeFilter\"REDIS_START_URLS_AS_SET = True SCHEDULER æ˜¯ä»»åŠ¡åˆ†å‘ä¸è°ƒåº¦ï¼ŒæŠŠæ‰€æœ‰çš„çˆ¬è™«å¼€å§‹çš„è¯·æ±‚éƒ½æ”¾åœ¨redisé‡Œé¢ï¼Œæ‰€æœ‰çˆ¬è™«éƒ½å»redisé‡Œé¢è¯»å–è¯·æ±‚ã€‚DUPEFILTER_CLASS æ˜¯å»é‡é˜Ÿåˆ—ï¼Œè´Ÿè´£æ‰€æœ‰è¯·æ±‚çš„å»é‡ï¼ŒREDIS_START_URLS_AS_SETæŒ‡çš„æ˜¯ä½¿ç”¨redisé‡Œé¢çš„setç±»å‹ï¼ˆç®€å•å®Œæˆå»é‡ï¼‰ï¼Œå¦‚æœä½ æ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤ä¼šé€‰ç”¨listã€‚ å¦‚æœä½ ç°åœ¨è¿è¡Œä½ çš„çˆ¬è™«ï¼Œä½ å¯ä»¥åœ¨redisä¸­çœ‹åˆ°å‡ºç°äº†è¿™ä¸¤ä¸ªkey: 12spider_name:dupefilterspider_name:requests æ ¼å¼æ˜¯setï¼Œå³ä¸ä¼šæœ‰é‡å¤æ•°æ®ã€‚å‰è€…å°±æ˜¯redisçš„å»é‡é˜Ÿåˆ—ï¼Œå¯¹åº”DUPEFILTER_CLASSï¼Œåè€…æ˜¯redisçš„è¯·æ±‚è°ƒåº¦ï¼ŒæŠŠé‡Œé¢çš„è¯·æ±‚åˆ†å‘ç»™çˆ¬è™«ï¼Œå¯¹åº”SCHEDULERã€‚ï¼ˆé‡Œé¢çš„æ•°æ®ä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œå¦‚æœä½ ç¬¬äºŒæ¬¡è·‘ï¼Œéœ€è¦æå‰æ¸…ç©ºé‡Œé¢çš„æ•°æ®ï¼‰ scrapy-redis ä¼˜ç‚¹é€Ÿåº¦å¿«scrapy-redis ä½¿ç”¨redisè¿™ä¸ªé€Ÿåº¦éå¸¸å¿«çš„éå…³ç³»å‹ï¼ˆNoSQLï¼‰å†…å­˜é”®å€¼æ•°æ®åº“ï¼Œé€Ÿåº¦å¿«æ˜¯æœ€é‡è¦åŸå› ï¼ˆä½†æ˜¯ä¹Ÿä¼šäº§ç”Ÿè´Ÿé¢æƒ³è¿‡ï¼Œä¸‹é¢ä¼šè¯´åˆ°ï¼‰ã€‚ ä¸ºä»€ä¹ˆæ˜¯scrapy-redisè€Œä¸æ˜¯scrapy-mongoå‘¢ï¼Œå¤§å®¶å¯ä»¥ä»”ç»†æƒ³æƒ³ã€‚ ç”¨æ³•ç®€å•å‰äººå·²ç»é€ å¥½è½®å­äº†ï¼Œscrapy-redisã€‚æˆ‘ä»¬ç›´æ¥æ‹¿æ¥ç”¨å°±å¥½ï¼Œè€Œç”¨æ³•ä¹Ÿåƒä¸Šé¢æåˆ°çš„åœ¨ settings.py æ–‡ä»¶ä¸­é…ç½®ã€‚åœ¨æ–‡æ¡£ä¸­è¿˜æœ‰å¦ä¸€ç§ç”¨æ³•ï¼Œå³Feeding a Spider from Redis run the spider:scrapy runspider myspider.py push urls to redis:redis-cli lpush myspider:start_urls http://google.comï¼ˆå»ºè®®æŠŠlpushæ¢ä¸ºzsetï¼‰ å…¶å®è¿™ç§ç”¨æ³•å°±æ˜¯å…ˆæ‰“å¼€ä¸€ä¸ªçˆ¬è™«ï¼Œä»–ä¼šä¸€ç›´åœ¨redisé‡Œé¢å¯»æ‰¾keyä¸º myspider:start_urlsï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±æå–é‡Œé¢çš„urlã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨çˆ¬è™«ä¸­æŒ‡å®šredis_keyï¼Œé»˜è®¤çš„æ˜¯çˆ¬è™«çš„åå­—åŠ ä¸Š:start_urls å»é‡ç®€å•çˆ¬è™«ä¸­å»é‡æ˜¯ä¸€ä»¶å¤§äº‹ï¼Œä½¿ç”¨äº†scrapy-redisåå°±å¾ˆç®€å•äº†ã€‚ä¸Šé¢æåˆ°è¿‡ä½¿ç”¨redisçš„setç±»å‹å°±å¯ä»¥å¾ˆå®¹æ˜“è¾¾åˆ°è¿™ä¸ªç›®æ ‡äº†ï¼Œå³REDIS_START_URLS_AS_SET = Trueã€‚ scrapy-redis ç¼ºç‚¹å†…å­˜é—®é¢˜ä¸ºä»€ä¹ˆä½¿ç”¨åˆ†å¸ƒå¼çˆ¬è™«ï¼Œå½“ç„¶æ˜¯å› ä¸ºä¼šæœ‰å¾ˆå¤šé“¾æ¥éœ€è¦è·‘ï¼Œæˆ–è€…è¯´ä¼šå­˜æ”¾å¾ˆå¤šä¸ªmyspider:start_urlsåˆ°redisä¸­ï¼ŒRedisæ˜¯key-valueæ•°æ®åº“ï¼Œé¢å¯¹keyçš„å†…å­˜æœç´¢ï¼Œä¼˜åŠ¿æ˜æ˜¾ï¼Œä½†æ˜¯Redisåƒçš„æ˜¯çº¯å†…å­˜ï¼Œmyspider:start_urlsæ˜¯ä¸€ä¸ªæœ‰ä¸€ä¸ªåƒhttps://www.zhihu.com/people/cuishiteçš„é“¾æ¥ï¼Œä¼šå ç”¨å¤§é‡çš„å†…å­˜ç©ºé—´ã€‚ä¹‹å‰å°±å› ä¸ºè¿™ä¸ªåŸå› rediså´©æºƒè¿‡æ— æ•°æ¬¡ï¼Œé‚£ä¹ˆå¦‚ä½•ä¼˜åŒ–ï¼Ÿ ç½‘ç»œä¸Šæœ‰çš„æ–¹æ³•æ˜¯ scrapy_rediså»é‡ä¼˜åŒ–ï¼ˆå·²æœ‰7äº¿æ¡æ•°æ®ï¼‰ï¼Œé™„Demoç¦åˆ©ï¼Œå¯ä»¥å‚è€ƒä¸‹ã€‚å¦‚æœä½ æœ‰å¥½çš„è§£å†³æ–¹æ³•ï¼Œæ¬¢è¿ç§ä¿¡å‘Šè¯‰æˆ‘ã€‚ï¼ˆä¿å¯†åŸå› å°±ä¸ä»‹ç»æˆ‘ä»¬çš„å¤„ç†æ–¹æ³•äº†ï¼‰ Usageè¿™ä¸ªå…¶å®ä¸ç®—åšé—®é¢˜ï¼Œåªæ˜¯å®˜æ–¹æ–‡æ¡£ä¸Šæˆ‘è§‰å¾—çš„å°BUGï¼Œåœ¨è¿™é‡Œ Usage 1234# Store scraped item in redis for post-processing.ITEM_PIPELINES = &#123; 'scrapy_redis.pipelines.RedisPipeline': 300&#125; Pipelineæ˜¯è¿™æ ·å†™çš„1234567891011121314def _process_item(self, item, spider): key = self.item_key(item, spider) data = self.serialize(item) self.server.rpush(key, data) return itemdef item_key(self, item, spider): \"\"\"Returns redis key based on given spider. Override this function to use a different key depending on the item and/or spider. \"\"\" return self.key % &#123;'spider': spider.name&#125; çœ‹ä¸æ‡‚ä¸ºä»€ä¹ˆè¦æŠŠæ•°æ®å‚¨å­˜åœ¨redisé‡Œé¢ï¼Œè¿™ä¸åˆåŠ å¤§rediså‚¨å­˜è´Ÿæ‹…å—ï¼Ÿå¯¹äºæ–°æ‰‹æ¥è¯´çœŸçš„ä¸å‹å¥½ï¼Œæˆ–è®¸å¯ä»¥è€ƒè™‘æä¸€ä¸ªprã€‚ rediså¯è§†åŒ–å·¥å…·æœ€åä»‹ç»ä¸¤ä¸ªrediså¯è§†åŒ–å·¥å…· RedisDesktopManager æ¯”è¾ƒå‡ºåçš„å·¥å…·ï¼Œä½†æ˜¯ç»å¸¸ä¼šå´©æºƒ kedis å›½äººå¼€å‘çš„å…è´¹å·¥å…·ï¼Œè¿™ä¸ªç•Œé¢è¿˜æ˜¯å¯ä»¥çš„","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"scrapy","slug":"scrapy","permalink":"https://zhangslob.github.io/tags/scrapy/"}]},{"title":"æ¥codewarsä¸æˆ‘ä¸€èµ·ç©è€å§","date":"2018-04-12T13:25:13.000Z","path":"2018/04/12/æ¥codewarsä¸æˆ‘ä¸€èµ·ç©è€å§/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››åç¯‡åŸåˆ›æ–‡ç«  å¹¶è‚©ä½œæˆ˜ (à¹‘â€¢ . â€¢à¹‘) å…ˆçœ‹ä¸€é“é¢˜ç›®å¦‚ä½•ä½¿ç”¨ä»£ç è¡¨ç¤ºâ€œçŸ³å¤´ã€å‰ªåˆ€ã€å¸ƒâ€ä¹‹é—´çš„å…³ç³»ã€‚ å³ï¼šçŸ³å¤´ &gt; å‰ªåˆ€ï¼Œå‰ªåˆ€ &gt; å¸ƒï¼Œ å‰ªåˆ€ &gt; å¸ƒ å½“æ—¶æˆ‘æƒ³äº†å¾ˆå¤šï¼Œæ„é€ ä¸€ä¸ªå­—å…¸ï¼Œå’Œæ•°å­—å¯¹åº”ï¼Œä½†æ˜¯åº”è¯¥å¦‚ä½•è¡¨ç¤ºâ€œå¤§å°â€å…³ç³»å‘¢ï¼Ÿæƒ³ç ´è„‘è¢‹éƒ½æƒ³ä¸å‡ºæ¥ï¼Œæœ€åçœ‹äº†ç­”æ¡ˆï¼Œå½¢å¦‚ dict = {&#39;a&#39;: &#39;b&#39;, &#39;b&#39;: &#39;c&#39;, &#39;c&#39;: &#39;a&#39;} ç®€ç›´æ˜¯å¦™å•Šï¼ï¼ï¼ åŸé¢˜åœ¨è¿™é‡Œï¼ŒRock Paper Scissors!ï¼Œå¯ä»¥è‡ªå·±è¯•è¯•çœ‹ã€‚ æˆ‘è§‰å¾—å¾ˆå¦™çš„è§£æ³• CodeWarsè¿™æ˜¯CodeWarsä¸Šçš„ä¸€é¢˜ï¼Œæˆ‘è§‰å¾—æŒºæœ‰æ„æ€çš„ã€‚CodeWarså…¶å®å’Œleetcodeå·®ä¸å¤šï¼Œä½†æ˜¯æˆ‘æ›´å–œæ¬¢æœ‰è¿™å‡ ç‚¹ã€‚ ç•Œé¢ çœ‹ç€æŒºèˆ’æœçš„ï¼ŒåŒæ—¶æä¾›äº†æµ‹è¯•ä»£ç ã€‚ å¤Ÿç®€å•çœŸçš„ï¼ŒCodeWarsä¸Šæœ‰äº›é¢˜ç›®çœŸçš„å¾ˆç®€å•ï¼Œé€‚åˆæˆ‘è¿™ç§æ–°æ‰‹ï¼Œå“ˆå“ˆï¼Œæ¯”å¦‚ï¼š 123456# Complete the solution so that it reverses the string value passed into it.## solution('world') # returns 'dlrow'def solution(string): return string[::-1] è¿˜å¯ä»¥é€‰æ‹©é—®é¢˜ç±»å‹ã€‚ å¯ä»¥è‡ªå·±å‡ºé¢˜ï¼Œè¿˜å¯ä»¥é‚€è¯·é˜Ÿå‹www.codewars.com/r/UsAiUQcodewars ç‚¹ä¸€ä¸‹ï¼Œå°±å¯ä»¥æˆä¸ºæˆ‘çš„ç›Ÿå‹ã€‚ ç‚¹ä¸€ä¸‹ï¼Œç©ä¸€å¹´ï¼Œè£…é€¼ä¸èŠ±ä¸€åˆ†é’±ï¼ å¯ä»¥ä¸Šæ¦œleaderboard ç¬¬äºŒåç«Ÿç„¶æ˜¯å›½äººå”‰ï¼Œä¸çŸ¥æ˜¯å“ªä½å¤§ä½¬ã€‚å¸Œæœ›æœ‰æ›´å¤šä¸­å›½äººå¯ä»¥å‡ºç°åœ¨ä¸Šé¢ã€‚ åè¯ç›®å‰æˆ‘ä¹Ÿè¿˜æ˜¯ä¸€ä¸ªèŒæ–°ï¼Œå¸Œæœ›å¤§ä½¬èƒ½å¸¦å¸¦æˆ‘ã€‚ æˆ‘åœ¨Githubä¸Šå¼€äº†ä¸€ä¸ªä»“åº“ï¼Œcodewars_python é‡Œé¢éƒ½æ˜¯ç”¨ pythonçš„è§£é¢˜æ–¹æ³•ï¼Œä½†æ˜¯ç°åœ¨è¿˜åªæœ‰å‡ é¢˜è€Œå·²ï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥ä¸€èµ·æ¥å‚ä¸ï¼Œå¤šæprã€‚ 1234567891011121314151617181920212223# -*- coding: utf-8 -*-# ATM machines allow 4 or 6 digit PIN codes and PIN codes cannot contain anything but exactly 4 digits or exactly 6 digits.# If the function is passed a valid PIN string, return true, else return false.# eg:# validate_pin(\"1234\") == True# validate_pin(\"12345\") == False# validate_pin(\"a234\") == False# My Solutiuondef validate_pin(pin): #return true or false return pin.isdigit() if len(pin) == 4 or len(pin) == 6 else False # Wonderful Solutiuon def validate_pin(pin): return len(pin) in (4, 6) and pin.isdigit()","tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://zhangslob.github.io/tags/ç®—æ³•/"},{"name":"codewars","slug":"codewars","permalink":"https://zhangslob.github.io/tags/codewars/"}]},{"title":"Scrapyä¸­å¦‚ä½•æé«˜æ•°æ®çš„æ’å…¥é€Ÿåº¦","date":"2018-03-28T13:18:32.000Z","path":"2018/03/28/Scrapyä¸­å¦‚ä½•æé«˜æ•°æ®çš„æ’å…¥é€Ÿåº¦/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åä¹ç¯‡åŸåˆ›æ–‡ç«  é•¿æœŸæ›´æ–° (à¹‘â€¢ . â€¢à¹‘) é€Ÿåº¦é—®é¢˜æœ€è¿‘å·¥ä½œä¸­é‡åˆ°è¿™ä¹ˆä¸€ä¸ªé—®é¢˜ï¼Œå…¨ç«™æŠ“å–æ—¶é‡‡ç”¨åˆ†å¸ƒå¼ï¼šçˆ¬è™«Aä¸çˆ¬è™«Bï¼Œçˆ¬è™«Aç»™çˆ¬è™«Bå–‚é¥¼ï¼Œçˆ¬è™«Bç”±äºå„ç§åŸå› è¿è¡Œçš„æ¯”è¾ƒæ…¢ï¼Œè¾¾ä¸åˆ°é¢„æœŸæ•ˆæœï¼Œæ‰€ä»¥å¿…é¡»å¯¹çˆ¬è™«Bè¿›è¡Œä¼˜åŒ–ã€‚ æå‡Scrapyè¿è¡Œé€Ÿåº¦æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå›½å¤–æœ‰å¤§ä½¬è¯´è¿‡ Speed up web scraper Hereâ€™s a collection of things to try: use latest scrapy version (if not using already) check if non-standard middlewares are used try to increase CONCURRENT_REQUESTS_PER_DOMAIN, CONCURRENT_REQUESTS settings (docs)turn off logging LOG_ENABLED = False (docs) try yielding an item in a loop instead of collecting items into the items list and returning themuse local cache DNS (see this thread) check if this site is using download threshold and limits your download speed (see this thread)log cpu and memory usage during the spider run - see if there are any problems there try run the same spider under scrapyd service see if grequests + lxml will perform better (ask if you need any help with implementing this solution) try running Scrapy on pypy, see Running Scrapy on PyPy å¤§è‡´çœ‹äº†ä¸‹ï¼Œç¡®å®å¯ä»¥æé«˜çˆ¬è™«è¿è¡Œé€Ÿåº¦ï¼Œä½†æ˜¯å¯¹äºæµ·é‡æ•°æ®ï¼ˆè¿™é‡Œè¯´çš„æ˜¯ç™¾ä¸‡çº§ï¼‰è¿˜éœ€è¦è€ƒè™‘ä¸€ç‚¹çš„å°±æ˜¯æ•°æ®æ’å…¥é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Mongoã€‚ å®˜æ–¹ç¤ºä¾‹è®©æˆ‘ä»¬å…ˆä»å®˜æ–¹æ–‡æ¡£å¼€å§‹ Write items to MongoDB 123456789101112131415161718192021222324252627import pymongoclass MongoPipeline(object): collection_name = 'scrapy_items' def __init__(self, mongo_uri, mongo_db): self.mongo_uri = mongo_uri self.mongo_db = mongo_db @classmethod def from_crawler(cls, crawler): return cls( mongo_uri=crawler.settings.get('MONGO_URI'), mongo_db=crawler.settings.get('MONGO_DATABASE', 'items') ) def open_spider(self, spider): self.client = pymongo.MongoClient(self.mongo_uri) self.db = self.client[self.mongo_db] def close_spider(self, spider): self.client.close() def process_item(self, item, spider): self.db[self.collection_name].insert_one(dict(item)) return item æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œæ’å…¥ä½¿ç”¨çš„æ–¹æ³•æ˜¯ insert_oneï¼Œç»§ç»­æ–‡æ¡£ï¼š insert_one(document, bypass_document_validation=False, session=None) Insert a single document.1234567&gt;&gt;&gt; db.test.count(&#123;'x': 1&#125;)0&gt;&gt;&gt; result = db.test.insert_one(&#123;'x': 1&#125;)&gt;&gt;&gt; result.inserted_idObjectId('54f112defba522406c9cc208')&gt;&gt;&gt; db.test.find_one(&#123;'x': 1&#125;)&#123;u'x': 1, u'_id': ObjectId('54f112defba522406c9cc208')&#125; ä»¥å‰ç»å¸¸ä½¿ç”¨çš„ insert æ–¹æ³•ï¼Œå·²ç»ä¸è¢«èµåŒ insert(doc_or_docs, manipulate=True, check_keys=True, continue_on_error=False, **kwargs) Insert a document(s) into this collection.123DEPRECATED - Use insert_one() or insert_many() instead.Changed in version 3.0: Removed the safe parameter. Pass w=0 for unacknowledged write operations. insert ç®€å•ç†è§£å°±æ˜¯æ’å…¥ï¼ŒæŠŠæˆ‘ä»¬é‡‡é›†åˆ°çš„ item æ’å…¥åˆ°æ•°æ®åº“ï¼Œè¿™æ ·å­˜åœ¨ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œå°±æ˜¯å»é‡ å»é‡æ™šä¸Šæœ‰ä¸€ç§å¾ˆæµè¡Œçš„å†™æ³•ï¼Œä½¿ç”¨ updateå‘½ä»¤ï¼Œå¦‚ï¼š self.db[self.collection_name].update({&#39;id&#39;: item[&#39;id&#39;]}, {&#39;$set&#39;: dict(item)}, True) è§£é‡Šä¸ºï¼š æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹å°±åœ¨äºprocess_itemï¼Œåœ¨è¿™é‡Œä½¿ç”¨äº†updateæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥æŸ¥è¯¢æ¡ä»¶ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯idï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å­—å…¸ç±»å‹çš„å¯¹è±¡ï¼Œå°±æ˜¯æˆ‘ä»¬çš„itemï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥Trueï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯ï¼Œå¦‚æœæŸ¥è¯¢æ•°æ®å­˜åœ¨çš„è¯å°±æ›´æ–°ï¼Œä¸å­˜åœ¨çš„è¯å°±æ’å…¥ã€‚è¿™æ ·å°±å¯ä»¥ä¿è¯å»é‡äº†ã€‚ è¿™ç¡®å®æ˜¯ä¸€ç§å¾ˆç®€å•çš„æ–¹æ³•ï¼Œå…¶å®åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ¯æ¬¡æ’å…¥æ•°æ®å‰ï¼Œå¯¹æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œæ˜¯å¦æœ‰è¯¥ IDï¼Œå¦‚æœæ²¡æœ‰å°±æ’å…¥ï¼Œå¦‚æœæœ‰å°±æ”¾å¼ƒã€‚ å¯¹äºæ•°æ®é‡æ¯”è¾ƒå°‘çš„é¡¹ç›®ï¼Œè¿™ç¡®å®æ˜¯ä¸€ç§å¾ˆç®€å•çš„æ–¹æ³•ï¼Œå¾ˆç®€å•å°±å®Œæˆäº†ç›®æ ‡ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨è¯´çš„æ˜¯ç™¾ä¸‡çº§æ•°æ®ï¼Œå¦‚æœæ¯ä¸€æ¡æ•°æ®åœ¨æ’å…¥å‰ï¼Œéƒ½éœ€è¦å»æŸ¥è¯¢è¯¥æ•°æ®æ˜¯å¦åœ¨æ•°æ®åº“ï¼Œé‚£ä¼šå¤šä¹ˆè€—æ—¶ï¼Œæ•ˆç‡ä¼šå¤§å¤§è¾ƒä½ï¼Œé‚£ä¹ˆè¿˜æœ‰ä»€ä¹ˆå¥½åŠæ³•å‘¢ï¼Ÿ ç´¢å¼•MongoDB ç´¢å¼•ç´¢å¼•èƒ½å¤Ÿå®ç°é«˜æ•ˆåœ°æŸ¥è¯¢ã€‚æ²¡æœ‰ç´¢å¼•ï¼ŒMongoDB å°±å¿…é¡»æ‰«æé›†åˆä¸­çš„æ‰€æœ‰æ–‡æ¡£ï¼Œæ‰èƒ½æ‰¾åˆ°åŒ¹é…æŸ¥è¯¢è¯­å¥çš„æ–‡æ¡£ã€‚è¿™ç§æ‰«ææ¯«æ— æ•ˆç‡å¯è¨€ï¼Œéœ€è¦å¤„ç†å¤§é‡çš„æ•°æ®ã€‚ ç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œå°†ä¸€å°å—æ•°æ®é›†ä¿å­˜ä¸ºå®¹æ˜“éå†çš„å½¢å¼ã€‚ç´¢å¼•èƒ½å¤Ÿå­˜å‚¨æŸç§ç‰¹æ®Šå­—æ®µæˆ–å­—æ®µé›†çš„å€¼ï¼Œå¹¶æŒ‰ç…§ç´¢å¼•æŒ‡å®šçš„æ–¹å¼å°†å­—æ®µå€¼è¿›è¡Œæ’åºã€‚ æˆ‘ä»¬å¯ä»¥å€ŸåŠ©ç´¢å¼•ï¼Œä½¿ç”¨ insert_oneæ–¹æ³•æé«˜æ•ˆç‡ã€‚ä»£ç å®ç°ï¼š 123456789101112131415161718class MongoDBPipeline(object): def open_spider(self, spider): self.client = mongodb_client self.db = self.client.get_database() self.collection = self.db['test'] # æ·»åŠ å”¯ä¸€ç´¢å¼• self.collection.create_index('id', unique=True) def close_spider(self, spider): self.client.close() def process_item(self, item, spider): try: self.collection.insert_one(dict(item)) return item except DuplicateKeyError: spider.logger.debug(' duplicate key error collection') return item å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ open_spiderå…ˆåˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼Œç„¶åå†æ’å…¥æ•°æ®ã€‚æ³¨æ„éœ€è¦åœ¨process_itemä¸­ä½¿ç”¨å¼‚å¸¸å¤„ç†ï¼Œå› ä¸ºå¾ˆæœ‰å¯èƒ½æ’å…¥é‡å¤æ•°æ®ï¼Œåˆ°æ—¶å€™å°±ä¼šè¾“å‡ºæ—¥å¿—ã€‚ å…¶ä»–æ–¹æ³•mongo é™¤äº† insert_oneæ–¹æ³•è¿˜æœ‰ä¸€ç§ï¼Œinsert_many insert_many(documents, ordered=True, bypass_document_validation=False, session=None) Insert an iterable of documents.1234567&gt;&gt;&gt; db.test.count()0&gt;&gt;&gt; result = db.test.insert_many([&#123;'x': i&#125; for i in range(2)])&gt;&gt;&gt; result.inserted_ids[ObjectId('54f113fffba522406c9cc20e'), ObjectId('54f113fffba522406c9cc20f')]&gt;&gt;&gt; db.test.count()2 è¿™æ ·æ’å…¥çš„æ•°æ®ä¸å†æ˜¯ä¸€æ¡ï¼Œè€Œæ˜¯å¾ˆå¤šï¼Œ Whatâ€™s the difference between insert(), insertOne() and insertMany() methods on MongoDB å¤§ä½¬æœ‰å†™åˆ°ï¼Œå¯ä»¥å»çœ‹çœ‹ã€‚ åŒæ—¶æ’å…¥å¤šæ¡æ•°æ®ï¼Œå‡è½»æ•°æ®åº“å‹åŠ›ã€‚ä½†æ˜¯è¿™ä¸ªâ€œå¤šâ€åˆ°åº•è¿˜æ˜¯å¤šå°‘ï¼Œç›®å‰ä¸å¾—è€ŒçŸ¥ã€‚ ç»“è¯­é™¤äº†æ›´å¤šæœºå™¨å’Œæ›´å¤šèŠ‚ç‚¹ï¼Œè¿˜æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥æå‡ Scrapyè¿è¡Œé€Ÿåº¦ã€‚ ä»Šå¤©è¯´åˆ°çš„æ˜¯ç®¡é“é˜»å¡é—®é¢˜ï¼Œè¿˜æœ‰å…¶ä»–åœ°æ–¹ä¹Ÿå¯ä»¥ä¼˜åŒ–ï¼Œè¿˜éœ€è¦åŠªåŠ›ã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://zhangslob.github.io/tags/Scrapy/"}]},{"title":"Hiï¼Œè¿™é‡Œæ˜¯æˆ‘çš„çˆ¬è™«ç¬”è®°","date":"2018-03-25T13:37:15.000Z","path":"2018/03/25/Hiï¼Œè¿™é‡Œæ˜¯æˆ‘çš„çˆ¬è™«ç¬”è®°/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åå…«ç¯‡åŸåˆ›æ–‡ç«  é•¿æœŸæ›´æ–° (à¹‘â€¢ . â€¢à¹‘) å¹³æ—¶æœ‰ä¸ªä¹ æƒ¯ï¼Œä¼šæŠŠè‡ªå·±çš„ç¬”è®°å†™åœ¨æœ‰é“äº‘é‡Œé¢ï¼Œç°åœ¨åšä¸ªæ•´ç†ã€‚ä¼šé•¿æœŸæ›´æ–°ï¼Œå› ä¸ºæˆ‘æ˜¯BUGåˆ¶é€ æœºã€‚ è§£æxpathæå–æ‰€æœ‰èŠ‚ç‚¹æ–‡æœ¬1&lt;div id=\"test3\"&gt;æˆ‘å·¦é’é¾™ï¼Œ&lt;span id=\"tiger\"&gt;å³ç™½è™ï¼Œ&lt;ul&gt;ä¸Šæœ±é›€ï¼Œ&lt;li&gt;ä¸‹ç„æ­¦ã€‚&lt;/li&gt;&lt;/ul&gt;è€ç‰›åœ¨å½“ä¸­ï¼Œ&lt;/span&gt;é¾™å¤´åœ¨èƒ¸å£ã€‚&lt;div&gt; ä½¿ç”¨xpathçš„string(.) 123456789101112#!/usr/bin/env python# -*- coding: utf-8 -*-from scrapy.selector import Selectortext = '&lt;div id=\"test3\"&gt;æˆ‘å·¦é’é¾™ï¼Œ&lt;span id=\"tiger\"&gt;å³ç™½è™ï¼Œ&lt;ul&gt;ä¸Šæœ±é›€ï¼Œ&lt;li&gt;ä¸‹ç„æ­¦ã€‚&lt;/li&gt;&lt;/ul&gt;è€ç‰›åœ¨å½“ä¸­ï¼Œ&lt;/span&gt;é¾™å¤´åœ¨èƒ¸å£ã€‚&lt;div&gt;'s = Selector(text=text)data = s.xpath('//div[@id=\"test3\"]')info = data.xpath('string(.)').extract()[0]print(info)# output: æˆ‘å·¦é’é¾™ï¼Œå³ç™½è™ï¼Œä¸Šæœ±é›€ï¼Œä¸‹ç„æ­¦ã€‚è€ç‰›åœ¨å½“ä¸­ï¼Œé¾™å¤´åœ¨èƒ¸å£ã€‚ å¦‚ä½•è§£å†³è¯¦æƒ…é¡µé¢å…ƒç´ æ”¹å˜è¿™ä¸ªé—®é¢˜æ˜¯è¿™æ ·äº§ç”Ÿçš„ï¼Œåœ¨å¾ˆå¤šPCç«™ï¼Œæ¯”å¦‚é“¾å®¶ï¼Œè¿™ä¸ªé¡µé¢æœ‰è¿™äº›å­—æ®µAï¼Œä½†æ˜¯ä¸‹ä¸ªé¡µé¢è¿™ä¸ªå­—æ®µAæ²¡äº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å­—æ®µBï¼Œåœ¨xpathå®šä½æ—¶å°±å¤±æ•ˆäº†ã€‚è¿™ä¸ªé—®é¢˜å¾ˆå¸¸è§ï¼Œå¤§ä½“æ€è·¯æ˜¯è¿™æ ·çš„ã€‚ åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å­—æ®µçš„dict: data = {}.fromkeys((&#39;url&#39;, &#39;price&#39;, &#39;address&#39;)) ç„¶åæ ¹æ®ç½‘é¡µä¸­æ˜¯å¦æœ‰å­—æ®µæ¥å–å€¼ï¼Œä¾‹å¦‚ï¼Œæœ‰â€™urlâ€™å°±å–å¯¹åº”çš„valueï¼Œæ²¡æœ‰åˆ™ä¸ºç©º è¿™æ ·å°±å¯ä»¥å®Œç¾è§£å†³åŒ¹é…ä¸å…¨é—®é¢˜ Scrapy ç›¸å…³æ–‡ä»¶ç¼–å†™é€»è¾‘æ–‡ä»¶å’Œè§£æéƒ¨åˆ†åˆ†å¼€å†™ï¼ŒåŒ¹é…æ–‡ä»¶ç›®å½•æ˜¯utils/parse/ï¼Œçˆ¬è™«æ–‡ä»¶ç›®å½•æ˜¯spiders/ Scrapy ä¸­æ–‡ä¹±ç åœ¨ setting æ–‡ä»¶ä¸­è®¾ç½®ï¼šFEED_EXPORT_ENCODING = &#39;utf-8&#39; Scrapy ä½¿ç”¨Mongopipelines.py é¦–å…ˆæˆ‘ä»¬è¦ä»settingsæ–‡ä»¶ä¸­è¯»å–æ•°æ®çš„åœ°å€ã€ç«¯å£ã€æ•°æ®åº“åç§°ã€‚ æ‹¿åˆ°æ•°æ®åº“çš„åŸºæœ¬ä¿¡æ¯åè¿›è¡Œè¿æ¥ã€‚ å°†æ•°æ®å†™å…¥æ•°æ®åº“ï¼ˆupdateåˆ¶å®šå”¯ä¸€é”®ï¼‰ å…³é—­æ•°æ®åº“ æ³¨æ„ï¼šåªæœ‰æ‰“å¼€å’Œå…³é—­æ˜¯åªæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œå†™å…¥æ“ä½œä¼šæ ¹æ®å…·ä½“çš„å†™å…¥æ¬¡æ•°è€Œå®šã€‚Redis æ— éœ€å…³é—­12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758import pymongo class MongoDBPipeline(object): \"\"\" 1ã€è¿æ¥æ•°æ®åº“æ“ä½œ \"\"\" def __init__(self,mongourl,mongoport,mongodb): ''' åˆå§‹åŒ–mongodbæ•°æ®çš„urlã€ç«¯å£å·ã€æ•°æ®åº“åç§° :param mongourl: :param mongoport: :param mongodb: ''' self.mongourl = mongourl self.mongoport = mongoport self.mongodb = mongodb @classmethod def from_crawler(cls,crawler): \"\"\" 1ã€è¯»å–settingsé‡Œé¢çš„mongodbæ•°æ®çš„urlã€portã€DBã€‚ :param crawler: :return: \"\"\" return cls( mongourl = crawler.settings.get(\"MONGO_URL\"), mongoport = crawler.settings.get(\"MONGO_PORT\"), mongodb = crawler.settings.get(\"MONGO_DB\") ) def open_spider(self,spider): ''' 1ã€è¿æ¥mongodbæ•°æ® :param spider: :return: ''' self.client = pymongo.MongoClient(self.mongourl,self.mongoport) self.db = self.client[self.mongodb] def process_item(self,item,spider): ''' 1ã€å°†æ•°æ®å†™å…¥æ•°æ®åº“ :param item: :param spider: :return: ''' name = item.__class__.__name__ # self.db[name].insert(dict(item)) self.db['user'].update(&#123;'url_token':item['url_token']&#125;,&#123;'$set':item&#125;,True) return item def close_spider(self,spider): ''' 1ã€å…³é—­æ•°æ®åº“è¿æ¥ :param spider: :return: ''' self.client.close() scrapyå›¾ç‰‡ä¸‹è½½12345678910111213141516import scrapyfrom scrapy.pipelines.images import ImagesPipelinefrom scrapy.exceptions import DropItemclass MyImagesPipeline(ImagesPipeline): def get_media_requests(self, item, info): for image_url in item['image_urls']: yield scrapy.Request(image_url) def item_completed(self, results, item, info): image_paths = [x['path'] for ok, x in results if ok] if not image_paths: raise DropItem(\"Item contains no images\") item['image_paths'] = image_paths return item scrapy æš‚åœçˆ¬è™«scrapy crawl somespider -s JOBDIR=crawls/somespider-1 scrapy_redis åˆ†å¸ƒå¼ä½¿ç”¨é˜Ÿåˆ—ä¸å»é‡å³å¯å®Œæˆåˆ†å¸ƒå¼éœ€æ±‚ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ Redis æ ¼å¼ï¼Œé»˜è®¤é‡‡ç”¨çš„æ˜¯ listï¼Œ å¯ä»¥åœ¨ settings.py æ–‡ä»¶ä¸­è®¾ç½® REDIS_START_URLS_AS_SET = Trueï¼Œä½¿ç”¨ Redisçš„ setç±»å‹ï¼ˆå»é‡ç§å­é“¾æ¥ï¼‰ å®‰è£…è¶…æ—¶é—®é¢˜è‡ªå®šä¹‰è¶…æ—¶æ—¶é—´ sudo pip3 --default-timeout=100 install -U scrapy æˆ–è€… ä½¿ç”¨å…¶ä»–æº sudo pip3 install scrapy -i https://pypi.tuna.tsinghua.edu.cn/simple æƒé™é—®é¢˜å®‰è£…æŸæ¨¡å—æ—¶ï¼ŒæŠ¥é”™ï¼šPermissionError: [WinError 5] æ‹’ç»è®¿é—®ã€‚: &#39;c:\\\\program files\\\\python35\\\\Lib\\\\sit e-packages\\\\lxml&#39; æœ€ç®€å•æ–¹æ³•ï¼špip install --user lxml Pycharm ç›¸å…³.gitignore æ–‡ä»¶å®‰è£…æ’ä»¶ï¼š Preferences &gt; Plugins &gt; Browse repositories... &gt; Search for &quot;.ignore&quot; &gt; Install Plugin ç„¶åå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ·»åŠ åˆ° .gitignore æ˜¾ç¤ºå‡½æ•° ç‚¹å‡» Show Membersï¼ŒæŸ¥çœ‹ç›®å½•ï¼Œä¼šæ˜¾ç¤ºç›¸åº”çš„ç±»å’Œå‡½æ•° æ¿€æ´»ç  http://idea.liyang.io http://xidea.online æ•°æ®Mongoå¯¼å‡ºå‘½ä»¤Î» mongoexport -d test -c set --type=csv -f name,age -o set.csv Î» mongoexport -h 10.10.10.11 -d test -c test --type=csv -f url,id,title -o data.csv å…¶ä»–requirements.txt æ–‡ä»¶å°æç¤ºï¼šä½¿ç”¨ pigar å¯ä»¥ä¸€é”®ç”Ÿæˆ requirements.txt æ–‡ä»¶ Installationï¼špip install pigar Usageï¼špigar å¥½äº†ï¼Œä»Šå¤©å…ˆå†™è¿™ç‚¹ï¼Œä»¥åå†è¡¥ä¸Šã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"}]},{"title":"å­¦ä¹ Gitï¼ˆäºŒï¼‰åŸºæœ¬æ“ä½œ","date":"2018-03-19T13:11:39.000Z","path":"2018/03/19/å­¦ä¹ Gitï¼ˆäºŒï¼‰åŸºæœ¬æ“ä½œ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åä¸ƒç¯‡åŸåˆ›æ–‡ç«  ç»§ç»­è¡¥åŸºç¡€ (à¹‘â€¢ . â€¢à¹‘) Git åŸºç¡€æ“ä½œ1. åˆ›å»ºç‰ˆæœ¬åº“ä»€ä¹ˆæ˜¯ç‰ˆæœ¬åº“å‘¢ï¼Ÿç‰ˆæœ¬åº“åˆåä»“åº“ï¼Œè‹±æ–‡å repositoryï¼Œä½ å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥è¢« Git ç®¡ç†èµ·æ¥ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ä¿®æ”¹ã€åˆ é™¤ï¼ŒGit éƒ½èƒ½è·Ÿè¸ªï¼Œä»¥ä¾¿ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥è¿½è¸ªå†å²ï¼Œæˆ–è€…åœ¨å°†æ¥æŸä¸ªæ—¶åˆ»å¯ä»¥â€œè¿˜åŸâ€ã€‚ æ‰€ä»¥ï¼Œåˆ›å»ºä¸€ä¸ªç‰ˆæœ¬åº“éå¸¸ç®€å•ï¼Œé¦–å…ˆï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„åœ°æ–¹ï¼Œåˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼š 1234$ mkdir learngit$ cd learngit$ pwd/Users/learngit pwdå‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰ç›®å½•ã€‚ å¦‚æœä½ ä½¿ç”¨ Windows ç³»ç»Ÿï¼Œä¸ºäº†é¿å…é‡åˆ°å„ç§è«åå…¶å¦™çš„é—®é¢˜ï¼Œè¯·ç¡®ä¿ç›®å½•åï¼ˆåŒ…æ‹¬çˆ¶ç›®å½•ï¼‰ä¸åŒ…å«ä¸­æ–‡ã€‚ ç¬¬äºŒæ­¥ï¼Œé€šè¿‡git initå‘½ä»¤æŠŠè¿™ä¸ªç›®å½•å˜æˆ Git å¯ä»¥ç®¡ç†çš„ä»“åº“ï¼š 12$ git initInitialized empty Git repository in /Users/learngit/.git/ ç¬é—´ Git å°±æŠŠä»“åº“å»ºå¥½äº†ï¼Œè€Œä¸”å‘Šè¯‰ä½ æ˜¯ä¸€ä¸ªç©ºçš„ä»“åº“ï¼ˆempty Git repositoryï¼‰ ç”¨ls -ahå‘½ä»¤å°±å¯ä»¥çœ‹è§å½“å‰ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª.gitçš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯ Git æ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“çš„ï¼Œæ²¡äº‹åƒä¸‡ä¸è¦æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªç›®å½•é‡Œé¢çš„æ–‡ä»¶ï¼Œä¸ç„¶æ”¹ä¹±äº†ï¼Œå°±æŠŠ Git ä»“åº“ç»™ç ´åäº†ã€‚ ä¸€å®šè¦æ”¾åˆ° learngit ç›®å½•ä¸‹æˆ–å­ç›®å½•ä¸‹ 1$ git status # éšæ—¶ç”¨git status æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ ä¸€ä¸ªæ–‡ä»¶æ”¾åˆ° Git ä»“åº“åªéœ€è¦ä¸¤æ­¥ã€‚ ç”¨å‘½ä»¤git addå‘Šè¯‰ Gitï¼ŒæŠŠæ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ï¼š 1$ git add . # æŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ·»åŠ åˆ°ä»“åº“ æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œæ²¡æœ‰ä»»ä½•æ˜¾ç¤ºï¼Œè¿™å°±å¯¹äº†ï¼ŒUnix çš„å“²å­¦æ˜¯â€œæ²¡æœ‰æ¶ˆæ¯å°±æ˜¯å¥½æ¶ˆæ¯â€ï¼Œè¯´æ˜æ·»åŠ æˆåŠŸã€‚ï¼ˆå› ä¸ºæ²¡æœ‰æ·»åŠ ä»»ä½•æ–‡ä»¶ï¼Œå¦‚æœæ·»åŠ ç»“æœä¸åŒï¼Œå¯ä»¥ä½¿ç”¨ git status éšæ—¶æŸ¥çœ‹ Git çŠ¶æ€ï¼‰ ç”¨å‘½ä»¤git commitå‘Šè¯‰ Gitï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ï¼š 1234$ git commit abc/aaa.py -m\"chore:wrote a readme file\"[master (root-commit) cb926e7] wrote a readme file 1 file changed, 2 insertions(+) create mode 100644 aaa.py commit å¿…é¡»éµå¾ªcommitè§„èŒƒ123456789**git commitè§„èŒƒ**- featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰- fixï¼šä¿®è¡¥bug- docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰- styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰- refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰- testï¼šå¢åŠ æµ‹è¯•- choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ 2. æ–°æœºå™¨é…ç½® Git åˆ›å»º SSH Keyã€‚åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰.sshç›®å½•ï¼Œå¦‚æœæœ‰ï¼Œå†çœ‹çœ‹è¿™ä¸ªç›®å½•ä¸‹æœ‰æ²¡æœ‰id_rsaå’Œid_rsa.pubè¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚æœå·²ç»æœ‰äº†ï¼Œå¯ç›´æ¥è·³åˆ°ç¬¬2æ­¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ‰“å¼€ Shellï¼ˆWindows ä¸‹æ‰“å¼€ Git Bashï¼‰ï¼Œåˆ›å»º SSH Keyï¼š 1$ ssh-keygen -t rsa -C \"ä½ çš„githubé‚®ç®±\" æŠŠé‚®ä»¶åœ°å€æ¢æˆä½ è‡ªå·±çš„é‚®ä»¶åœ°å€ï¼Œä¸€è·¯å›è½¦ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼Œæ— éœ€è®¾ç½®å¯†ç ã€‚ å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•é‡Œæ‰¾åˆ°.sshç›®å½•ï¼Œé‡Œé¢æœ‰ id_rsa å’Œ id_rsa.pub ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯ SSH Key çš„ç§˜é’¥å¯¹ï¼Œid_rsaæ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œid_rsa.pubæ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚ ç™»é™† GitHubï¼Œæ‰“å¼€â€œAccount settingsâ€ï¼Œâ€œSSH Keysâ€é¡µé¢ï¼š ç„¶åï¼Œç‚¹â€œAdd SSH Keyâ€ï¼Œå¡«ä¸Šä»»æ„ Titleï¼Œåœ¨ Key æ–‡æœ¬æ¡†é‡Œç²˜è´´id_rsa.pubæ–‡ä»¶çš„å†…å®¹ï¼š ç‚¹â€œAdd Keyâ€ï¼Œä½ å°±åº”è¯¥çœ‹åˆ°å·²ç»æ·»åŠ çš„ Key å½“ç„¶ï¼ŒGitHub å…è®¸ä½ æ·»åŠ å¤šä¸ª Keyã€‚å‡å®šä½ æœ‰è‹¥å¹²ç”µè„‘ï¼Œä½ ä¸€ä¼šå„¿åœ¨å…¬å¸æäº¤ï¼Œä¸€ä¼šå„¿åœ¨å®¶é‡Œæäº¤ï¼Œåªè¦æŠŠæ¯å°ç”µè„‘çš„ Key éƒ½æ·»åŠ åˆ° GitHubï¼Œå°±å¯ä»¥åœ¨æ¯å°ç”µè„‘ä¸Šå¾€ GitHub æ¨é€äº†ã€‚ 3. å…³è”è¿œç¨‹åº“ å¦‚æœå…¬å¸å·²åˆ›å»ºè¯¥é¡¹ç›®çš„è¿œç¨‹åº“ï¼Œæœ¬åœ°è¿˜æ²¡æœ‰ï¼Œclone è¯¥é¡¹ç›®åœ°å€: clone with ssh 1$ git clone git@github.com:xxxx/xxx.git SSH è­¦å‘Š å½“ä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨ Git çš„ clone æˆ–è€… push å‘½ä»¤è¿æ¥ GitHub æ—¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Šï¼š 123The authenticity of host 'github.com (xx.xx.xx.xx)' can't be established.RSA key fingerprint is xx.xx.xx.xx.xx.Are you sure you want to continue connecting (yes/no)? è¿™æ˜¯å› ä¸º Git ä½¿ç”¨ SSH è¿æ¥ï¼Œè€Œ SSH è¿æ¥åœ¨ç¬¬ä¸€æ¬¡éªŒè¯ GitHub æœåŠ¡å™¨çš„ Key æ—¶ï¼Œéœ€è¦ä½ ç¡®è®¤ GitHub çš„ Key çš„æŒ‡çº¹ä¿¡æ¯æ˜¯å¦çœŸçš„æ¥è‡ª GitHub çš„æœåŠ¡å™¨ï¼Œè¾“å…¥ yes å›è½¦å³å¯ã€‚ Git ä¼šè¾“å‡ºä¸€ä¸ªè­¦å‘Šï¼Œå‘Šè¯‰ä½ å·²ç»æŠŠ GitHub çš„ Key æ·»åŠ åˆ°æœ¬æœºçš„ä¸€ä¸ªä¿¡ä»»åˆ—è¡¨é‡Œäº†ï¼š 1Warning: Permanently added 'github.com' (RSA) to the list of known hosts. è¿™ä¸ªè­¦å‘Šåªä¼šå‡ºç°ä¸€æ¬¡ï¼Œåé¢çš„æ“ä½œå°±ä¸ä¼šæœ‰ä»»ä½•è­¦å‘Šäº†ã€‚ â€‹ å¦‚æœå·²ç»åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ª Git ä»“åº“åï¼Œå…¬å¸ä¹Ÿå·²åœ¨ GitHub åˆ›å»ºä¸€ä¸ª Git ä»“åº“ï¼Œ å®ç°è®©è¿™ä¸¤ä¸ªä»“åº“è¿›è¡Œè¿œç¨‹åŒæ­¥ 1$ git remote add origin git@github.com:xxxx/xxxx.git ä¸‹ä¸€æ­¥ï¼Œå°±å¯ä»¥æŠŠæœ¬åœ°åº“çš„æ‰€æœ‰å†…å®¹æ¨é€åˆ°è¿œç¨‹åº“ä¸Š 1$ git push -u origin master æŠŠæœ¬åœ°åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ï¼Œç”¨git pushå‘½ä»¤ï¼Œå®é™…ä¸Šæ˜¯æŠŠå½“å‰åˆ†æ”¯ master æ¨é€åˆ°è¿œç¨‹ã€‚ ç”±äºè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¨é€ master åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šäº†-uå‚æ•°ï¼ŒGit ä¸ä½†ä¼šæŠŠæœ¬åœ°çš„ master åˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„ master åˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°çš„ master åˆ†æ”¯å’Œè¿œç¨‹çš„ master åˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚ æ¨é€æˆåŠŸåï¼Œå¯ä»¥ç«‹åˆ»åœ¨ GitHub é¡µé¢ä¸­çœ‹åˆ°è¿œç¨‹åº“çš„å†…å®¹å·²ç»å’Œæœ¬åœ°ä¸€æ¨¡ä¸€æ · ä»ç°åœ¨èµ·ï¼Œåªè¦æœ¬åœ°ä½œäº†æäº¤ï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤ï¼š $ git push origin master æŠŠæœ¬åœ°masteråˆ†æ”¯çš„æœ€æ–°ä¿®æ”¹æ¨é€è‡³GitHub ä¸€èˆ¬æˆ‘ä»¬åœ¨developåˆ†æ”¯å¼€å‘ å¦‚æœgithubä¸Šæ²¡æœ‰developåˆ†æ”¯ é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°åˆ›å»º develop åˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢åˆ° develop åˆ†æ”¯ï¼š 12$ git checkout -b developSwitched to a new branch 'develop' git checkoutå‘½ä»¤åŠ ä¸Š-bå‚æ•°è¡¨ç¤ºåˆ›å»ºå¹¶åˆ‡æ¢ï¼Œç›¸å½“äºä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š 123$ git branch develop$ git checkout developSwitched to branch 'develop' ç„¶åï¼Œç”¨git branchå‘½ä»¤æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼š 123$ git branch* develop master git branchå‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª*å· å‘å¸ƒdevelopåˆ†æ”¯ å‘å¸ƒdevåˆ†æ”¯æŒ‡çš„æ˜¯åŒæ­¥developåˆ†æ”¯çš„ä»£ç åˆ°è¿œç¨‹æœåŠ¡å™¨ 12git push origin develop:develop # è¿™æ ·è¿œç¨‹ä»“åº“ä¹Ÿæœ‰ä¸€ä¸ªdevelopåˆ†æ”¯äº† æˆ–è€…git push origin develop # è¿™ä¸¤ç§åº”è¯¥éƒ½å¯ä»¥ å¦‚æœgithubå·²ç»æœ‰masteråˆ†æ”¯å’Œdevelopåˆ†æ”¯ åœ¨æœ¬åœ° git checkout -b develop æ–°å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°developåˆ†æ”¯ git pull origin develop æœ¬åœ°developåˆ†æ”¯ä¸è¿œç¨‹developåˆ†æ”¯ç›¸å…³è” Git æ€»ç»“1234567891011121314151617git add . # æ·»åŠ æ‰€æœ‰æ”¹åŠ¨çš„æ–‡ä»¶åˆ°ä»“åº“git commit æ–‡ä»¶è·¯å¾„ -m'fix:ä¿®å¤xx bug'# githubä¸Šå·²ç»æœ‰masteråˆ†æ”¯ å’Œdevåˆ†æ”¯åœ¨æœ¬åœ°git checkout -b dev # åˆ›å»º+åˆ‡æ¢åˆ†æ”¯devgit pull origin dev # æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ç›¸å…³è”dev# githubæ— devåˆ†æ”¯ï¼Œåœ¨æœ¬åœ°æ–°å»ºåˆ†æ”¯å¹¶æ¨é€åˆ°è¿œç¨‹git checkout -b devgit push origin dev:dev # è¿™æ ·è¿œç¨‹ä»“åº“ä¸­ä¹Ÿå°±åˆ›å»ºäº†ä¸€ä¸ªdevåˆ†æ”¯git branch # æŸ¥çœ‹æœ¬åœ°æœ‰å¤šå°‘åˆ†æ”¯git branch åˆ†æ”¯åå­— # åˆ›å»ºåˆ†æ”¯git checkout dev # åˆ‡æ¢åˆ°devåˆ†æ”¯è¿›è¡Œå¼€å‘git push # æäº¤åˆ°è¿œç¨‹git branch -d dev # åˆ é™¤æœ¬åœ°devåˆ†æ”¯git merge dev # åˆå¹¶devåˆ°å½“å‰åˆ†æ”¯(master) git remote æ·±å…¥ç ”ç©¶ git-remote - Manage set of tracked repositories 12345678910111213git remote [-v | --verbose]git remote add [-t &lt;branch&gt;] [-m &lt;master&gt;] [-f] [--[no-]tags] [--mirror=&lt;fetch|push&gt;] &lt;name&gt; &lt;url&gt;git remote rename &lt;old&gt; &lt;new&gt;git remote remove &lt;name&gt;git remote set-head &lt;name&gt; (-a | --auto | -d | --delete | &lt;branch&gt;)git remote set-branches [--add] &lt;name&gt; &lt;branch&gt;â€¦â€‹git remote get-url [--push] [--all] &lt;name&gt;git remote set-url [--push] &lt;name&gt; &lt;newurl&gt; [&lt;oldurl&gt;]git remote set-url --add [--push] &lt;name&gt; &lt;newurl&gt;git remote set-url --delete [--push] &lt;name&gt; &lt;url&gt;git remote [-v | --verbose] show [-n] &lt;name&gt;â€¦â€‹git remote prune [-n | --dry-run] &lt;name&gt;â€¦â€‹git remote [-v | --verbose] update [-p | --prune] [(&lt;group&gt; | &lt;remote&gt;)â€¦â€‹] æŸ¥çœ‹è¿œç¨‹ä»“åº“å¦‚æœæƒ³æŸ¥çœ‹ä½ å·²ç»é…ç½®çš„è¿œç¨‹ä»“åº“æœåŠ¡å™¨ï¼Œå¯ä»¥è¿è¡Œ git remote å‘½ä»¤ã€‚ å®ƒä¼šåˆ—å‡ºä½ æŒ‡å®šçš„æ¯ä¸€ä¸ªè¿œç¨‹æœåŠ¡å™¨çš„ç®€å†™ã€‚ å¦‚æœä½ å·²ç»å…‹éš†äº†è‡ªå·±çš„ä»“åº“ï¼Œé‚£ä¹ˆè‡³å°‘åº”è¯¥èƒ½çœ‹åˆ° origin - è¿™æ˜¯ Git ç»™ä½ å…‹éš†çš„ä»“åº“æœåŠ¡å™¨çš„é»˜è®¤åå­—ï¼š 12345678910$ git clone https://github.com/schacon/ticgitCloning into 'ticgit'...remote: Reusing existing pack: 1857, done.remote: Total 1857 (delta 0), reused 0 (delta 0)Receiving objects: 100% (1857/1857), 374.35 KiB | 268.00 KiB/s, done.Resolving deltas: 100% (772/772), done.Checking connectivity... done.$ cd ticgit$ git remoteorigin ä½ ä¹Ÿå¯ä»¥æŒ‡å®šé€‰é¡¹ -vï¼Œä¼šæ˜¾ç¤ºéœ€è¦è¯»å†™è¿œç¨‹ä»“åº“ä½¿ç”¨çš„ Git ä¿å­˜çš„ç®€å†™ä¸å…¶å¯¹åº”çš„ URLã€‚123$ git remote -vorigin https://github.com/schacon/ticgit (fetch)origin https://github.com/schacon/ticgit (push) å¦‚æœä½ çš„è¿œç¨‹ä»“åº“ä¸æ­¢ä¸€ä¸ªï¼Œè¯¥å‘½ä»¤ä¼šå°†å®ƒä»¬å…¨éƒ¨åˆ—å‡ºã€‚ ä¾‹å¦‚ï¼Œä¸å‡ ä¸ªåä½œè€…åˆä½œçš„ï¼Œæ‹¥æœ‰å¤šä¸ªè¿œç¨‹ä»“åº“çš„ä»“åº“çœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼š 123456789101112$ cd grit$ git remote -vbakkdoor https://github.com/bakkdoor/grit (fetch)bakkdoor https://github.com/bakkdoor/grit (push)cho45 https://github.com/cho45/grit (fetch)cho45 https://github.com/cho45/grit (push)defunkt https://github.com/defunkt/grit (fetch)defunkt https://github.com/defunkt/grit (push)koke git://github.com/koke/grit.git (fetch)koke git://github.com/koke/grit.git (push)origin git@github.com:mojombo/grit.git (fetch)origin git@github.com:mojombo/grit.git (push) è¿™æ ·æˆ‘ä»¬å¯ä»¥è½»æ¾æ‹‰å–å…¶ä¸­ä»»ä½•ä¸€ä¸ªç”¨æˆ·çš„è´¡çŒ®ã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬å¤§æ¦‚è¿˜ä¼šæœ‰æŸäº›è¿œç¨‹ä»“åº“çš„æ¨é€æƒé™ï¼Œè™½ç„¶æˆ‘ä»¬ç›®å‰è¿˜ä¸ä¼šåœ¨æ­¤ä»‹ç»ã€‚ æ³¨æ„è¿™äº›è¿œç¨‹ä»“åº“ä½¿ç”¨äº†ä¸åŒçš„åè®®ï¼›æˆ‘ä»¬å°†ä¼šåœ¨ åœ¨æœåŠ¡å™¨ä¸Šæ­å»º Git ä¸­äº†è§£å…³äºå®ƒä»¬çš„æ›´å¤šä¿¡æ¯ã€‚ æ·»åŠ è¿œç¨‹ä»“åº“è¿è¡Œ git remote add &lt;shortname&gt; &lt;url&gt; æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ Git ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®šä¸€ä¸ªä½ å¯ä»¥è½»æ¾å¼•ç”¨çš„ç®€å†™ï¼š12345678$ git remoteorigin$ git remote add pb https://github.com/paulboone/ticgit$ git remote -vorigin https://github.com/schacon/ticgit (fetch)origin https://github.com/schacon/ticgit (push)pb https://github.com/paulboone/ticgit (fetch)pb https://github.com/paulboone/ticgit (push) ç°åœ¨ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨å­—ç¬¦ä¸² pb æ¥ä»£æ›¿æ•´ä¸ª URLã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³æ‹‰å– Paul çš„ä»“åº“ä¸­æœ‰ä½†ä½ æ²¡æœ‰çš„ä¿¡æ¯ï¼Œå¯ä»¥è¿è¡Œ git fetch pbï¼š12345678$ git fetch pbremote: Counting objects: 43, done.remote: Compressing objects: 100% (36/36), done.remote: Total 43 (delta 10), reused 31 (delta 5)Unpacking objects: 100% (43/43), done.From https://github.com/paulboone/ticgit * [new branch] master -&gt; pb/master * [new branch] ticgit -&gt; pb/ticgit ç°åœ¨ Paul çš„ master åˆ†æ”¯å¯ä»¥åœ¨æœ¬åœ°é€šè¿‡ pb/master è®¿é—®åˆ° - ä½ å¯ä»¥å°†å®ƒåˆå¹¶åˆ°è‡ªå·±çš„æŸä¸ªåˆ†æ”¯ä¸­ï¼Œæˆ–è€…å¦‚æœä½ æƒ³è¦æŸ¥çœ‹å®ƒçš„è¯ï¼Œå¯ä»¥æ£€å‡ºä¸€ä¸ªæŒ‡å‘è¯¥ç‚¹çš„æœ¬åœ°åˆ†æ”¯ã€‚ ##ä»è¿œç¨‹ä»“åº“ä¸­æŠ“å–ä¸æ‹‰å–å°±å¦‚åˆšæ‰æ‰€è§ï¼Œä»è¿œç¨‹ä»“åº“ä¸­è·å¾—æ•°æ®ï¼Œå¯ä»¥æ‰§è¡Œï¼š $ git fetch [remote-name]è¿™ä¸ªå‘½ä»¤ä¼šè®¿é—®è¿œç¨‹ä»“åº“ï¼Œä»ä¸­æ‹‰å–æ‰€æœ‰ä½ è¿˜æ²¡æœ‰çš„æ•°æ®ã€‚ æ‰§è¡Œå®Œæˆåï¼Œä½ å°†ä¼šæ‹¥æœ‰é‚£ä¸ªè¿œç¨‹ä»“åº“ä¸­æ‰€æœ‰åˆ†æ”¯çš„å¼•ç”¨ï¼Œå¯ä»¥éšæ—¶åˆå¹¶æˆ–æŸ¥çœ‹ã€‚ å¦‚æœä½ ä½¿ç”¨ clone å‘½ä»¤å…‹éš†äº†ä¸€ä¸ªä»“åº“ï¼Œå‘½ä»¤ä¼šè‡ªåŠ¨å°†å…¶æ·»åŠ ä¸ºè¿œç¨‹ä»“åº“å¹¶é»˜è®¤ä»¥ â€œoriginâ€ ä¸ºç®€å†™ã€‚ æ‰€ä»¥ï¼Œgit fetch origin ä¼šæŠ“å–å…‹éš†ï¼ˆæˆ–ä¸Šä¸€æ¬¡æŠ“å–ï¼‰åæ–°æ¨é€çš„æ‰€æœ‰å·¥ä½œã€‚ å¿…é¡»æ³¨æ„ git fetch å‘½ä»¤ä¼šå°†æ•°æ®æ‹‰å–åˆ°ä½ çš„æœ¬åœ°ä»“åº“ - å®ƒå¹¶ä¸ä¼šè‡ªåŠ¨åˆå¹¶æˆ–ä¿®æ”¹ä½ å½“å‰çš„å·¥ä½œã€‚ å½“å‡†å¤‡å¥½æ—¶ä½ å¿…é¡»æ‰‹åŠ¨å°†å…¶åˆå¹¶å…¥ä½ çš„å·¥ä½œã€‚ å¦‚æœä½ æœ‰ä¸€ä¸ªåˆ†æ”¯è®¾ç½®ä¸ºè·Ÿè¸ªä¸€ä¸ªè¿œç¨‹åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ git pull å‘½ä»¤æ¥è‡ªåŠ¨çš„æŠ“å–ç„¶ååˆå¹¶è¿œç¨‹åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ã€‚ è¿™å¯¹ä½ æ¥è¯´å¯èƒ½æ˜¯ä¸€ä¸ªæ›´ç®€å•æˆ–æ›´èˆ’æœçš„å·¥ä½œæµç¨‹ï¼›é»˜è®¤æƒ…å†µä¸‹ï¼Œgit clone å‘½ä»¤ä¼šè‡ªåŠ¨è®¾ç½®æœ¬åœ° master åˆ†æ”¯è·Ÿè¸ªå…‹éš†çš„è¿œç¨‹ä»“åº“çš„ master åˆ†æ”¯ï¼ˆæˆ–ä¸ç®¡æ˜¯ä»€ä¹ˆåå­—çš„é»˜è®¤åˆ†æ”¯ï¼‰ã€‚ è¿è¡Œ git pull é€šå¸¸ä¼šä»æœ€åˆå…‹éš†çš„æœåŠ¡å™¨ä¸ŠæŠ“å–æ•°æ®å¹¶è‡ªåŠ¨å°è¯•åˆå¹¶åˆ°å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ã€‚ æ¨é€åˆ°è¿œç¨‹ä»“åº“å½“ä½ æƒ³åˆ†äº«ä½ çš„é¡¹ç›®æ—¶ï¼Œå¿…é¡»å°†å…¶æ¨é€åˆ°ä¸Šæ¸¸ã€‚ è¿™ä¸ªå‘½ä»¤å¾ˆç®€å•ï¼šgit push [remote-name] [branch-name]ã€‚ å½“ä½ æƒ³è¦å°† master åˆ†æ”¯æ¨é€åˆ° origin æœåŠ¡å™¨æ—¶ï¼ˆå†æ¬¡è¯´æ˜ï¼Œå…‹éš†æ—¶é€šå¸¸ä¼šè‡ªåŠ¨å¸®ä½ è®¾ç½®å¥½é‚£ä¸¤ä¸ªåå­—ï¼‰ï¼Œé‚£ä¹ˆè¿è¡Œè¿™ä¸ªå‘½ä»¤å°±å¯ä»¥å°†ä½ æ‰€åšçš„å¤‡ä»½åˆ°æœåŠ¡å™¨ï¼š $ git push origin masteråªæœ‰å½“ä½ æœ‰æ‰€å…‹éš†æœåŠ¡å™¨çš„å†™å…¥æƒé™ï¼Œå¹¶ä¸”ä¹‹å‰æ²¡æœ‰äººæ¨é€è¿‡æ—¶ï¼Œè¿™æ¡å‘½ä»¤æ‰èƒ½ç”Ÿæ•ˆã€‚ å½“ä½ å’Œå…¶ä»–äººåœ¨åŒä¸€æ—¶é—´å…‹éš†ï¼Œä»–ä»¬å…ˆæ¨é€åˆ°ä¸Šæ¸¸ç„¶åä½ å†æ¨é€åˆ°ä¸Šæ¸¸ï¼Œä½ çš„æ¨é€å°±ä¼šæ¯«æ— ç–‘é—®åœ°è¢«æ‹’ç»ã€‚ ä½ å¿…é¡»å…ˆå°†ä»–ä»¬çš„å·¥ä½œæ‹‰å–ä¸‹æ¥å¹¶å°†å…¶åˆå¹¶è¿›ä½ çš„å·¥ä½œåæ‰èƒ½æ¨é€ã€‚ æŸ¥çœ‹è¿œç¨‹ä»“åº“å¦‚æœæƒ³è¦æŸ¥çœ‹æŸä¸€ä¸ªè¿œç¨‹ä»“åº“çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ git remote show [remote-name] å‘½ä»¤ã€‚ å¦‚æœæƒ³ä»¥ä¸€ä¸ªç‰¹å®šçš„ç¼©å†™åè¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œä¾‹å¦‚ originï¼Œä¼šå¾—åˆ°åƒä¸‹é¢ç±»ä¼¼çš„ä¿¡æ¯ï¼š123456789101112$ git remote show origin* remote origin Fetch URL: https://github.com/schacon/ticgit Push URL: https://github.com/schacon/ticgit HEAD branch: master Remote branches: master tracked dev-branch tracked Local branch configured for 'git pull': master merges with remote master Local ref configured for 'git push': master pushes to master (up to date) å®ƒåŒæ ·ä¼šåˆ—å‡ºè¿œç¨‹ä»“åº“çš„ URL ä¸è·Ÿè¸ªåˆ†æ”¯çš„ä¿¡æ¯ã€‚ è¿™äº›ä¿¡æ¯éå¸¸æœ‰ç”¨ï¼Œå®ƒå‘Šè¯‰ä½ æ­£å¤„äº master åˆ†æ”¯ï¼Œå¹¶ä¸”å¦‚æœè¿è¡Œ git pullï¼Œå°±ä¼šæŠ“å–æ‰€æœ‰çš„è¿œç¨‹å¼•ç”¨ï¼Œç„¶åå°†è¿œç¨‹ master åˆ†æ”¯åˆå¹¶åˆ°æœ¬åœ° master åˆ†æ”¯ã€‚ å®ƒä¹Ÿä¼šåˆ—å‡ºæ‹‰å–åˆ°çš„æ‰€æœ‰è¿œç¨‹å¼•ç”¨ã€‚ è¿™æ˜¯ä¸€ä¸ªç»å¸¸é‡åˆ°çš„ç®€å•ä¾‹å­ã€‚ å¦‚æœä½ æ˜¯ Git çš„é‡åº¦ä½¿ç”¨è€…ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥é€šè¿‡ git remote show çœ‹åˆ°æ›´å¤šçš„ä¿¡æ¯ã€‚1234567891011121314151617181920$ git remote show origin* remote origin URL: https://github.com/my-org/complex-project Fetch URL: https://github.com/my-org/complex-project Push URL: https://github.com/my-org/complex-project HEAD branch: master Remote branches: master tracked dev-branch tracked markdown-strip tracked issue-43 new (next fetch will store in remotes/origin) issue-45 new (next fetch will store in remotes/origin) refs/remotes/origin/issue-11 stale (use 'git remote prune' to remove) Local branches configured for 'git pull': dev-branch merges with remote dev-branch master merges with remote master Local refs configured for 'git push': dev-branch pushes to dev-branch (up to date) markdown-strip pushes to markdown-strip (up to date) master pushes to master (up to date) è¿™ä¸ªå‘½ä»¤åˆ—å‡ºäº†å½“ä½ åœ¨ç‰¹å®šçš„åˆ†æ”¯ä¸Šæ‰§è¡Œ git push ä¼šè‡ªåŠ¨åœ°æ¨é€åˆ°å“ªä¸€ä¸ªè¿œç¨‹åˆ†æ”¯ã€‚ å®ƒä¹ŸåŒæ ·åœ°åˆ—å‡ºäº†å“ªäº›è¿œç¨‹åˆ†æ”¯ä¸åœ¨ä½ çš„æœ¬åœ°ï¼Œå“ªäº›è¿œç¨‹åˆ†æ”¯å·²ç»ä»æœåŠ¡å™¨ä¸Šç§»é™¤äº†ï¼Œè¿˜æœ‰å½“ä½ æ‰§è¡Œ git pull æ—¶å“ªäº›åˆ†æ”¯ä¼šè‡ªåŠ¨åˆå¹¶ã€‚ è¿œç¨‹ä»“åº“çš„ç§»é™¤ä¸é‡å‘½åå¦‚æœæƒ³è¦é‡å‘½åå¼•ç”¨çš„åå­—å¯ä»¥è¿è¡Œ git remote rename å»ä¿®æ”¹ä¸€ä¸ªè¿œç¨‹ä»“åº“çš„ç®€å†™åã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å°† pb é‡å‘½åä¸º paulï¼Œå¯ä»¥ç”¨ git remote rename è¿™æ ·åšï¼š1234$ git remote rename pb paul$ git remoteoriginpaul å€¼å¾—æ³¨æ„çš„æ˜¯è¿™åŒæ ·ä¹Ÿä¼šä¿®æ”¹ä½ çš„è¿œç¨‹åˆ†æ”¯åå­—ã€‚ é‚£äº›è¿‡å»å¼•ç”¨ pb/master çš„ç°åœ¨ä¼šå¼•ç”¨ paul/masterã€‚ å¦‚æœå› ä¸ºä¸€äº›åŸå› æƒ³è¦ç§»é™¤ä¸€ä¸ªè¿œç¨‹ä»“åº“ - ä½ å·²ç»ä»æœåŠ¡å™¨ä¸Šæ¬èµ°äº†æˆ–ä¸å†æƒ³ä½¿ç”¨æŸä¸€ä¸ªç‰¹å®šçš„é•œåƒäº†ï¼Œåˆæˆ–è€…æŸä¸€ä¸ªè´¡çŒ®è€…ä¸å†è´¡çŒ®äº† - å¯ä»¥ä½¿ç”¨ git remote rm ï¼š123$ git remote rm paul$ git remoteorigin å›é¡¾ï¼šå­¦ä¹ Gitï¼ˆä¸€ï¼‰èµ·æ­¥","tags":[{"name":"Git","slug":"Git","permalink":"https://zhangslob.github.io/tags/Git/"}]},{"title":"å­¦ä¹ Gitï¼ˆä¸€ï¼‰èµ·æ­¥","date":"2018-03-14T14:52:36.000Z","path":"2018/03/14/å­¦ä¹ Gitï¼ˆä¸€ï¼‰èµ·æ­¥/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åå…­ç¯‡åŸåˆ›æ–‡ç«  å¼€å§‹è¡¥åŸºç¡€ (à¹‘â€¢ . â€¢à¹‘) ä»€ä¹ˆæ˜¯Gitåœ¨Gitå®˜ç½‘ä¸Šæ‰¾åˆ°è¿™æ ·ä¸€æ®µæè¿° Git is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency. é‡ç‚¹æ˜¯ version control system (VCS)ï¼Œç¿»è¯‘è¿‡æ¥ä¹Ÿå°±æ˜¯ ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚ï¼ˆPycharmä¸­æœ‰ä¸€ä¸ªï¼‰ å…³äºç‰ˆæœ¬æ§åˆ¶ç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§è®°å½•ä¸€ä¸ªæˆ–è‹¥å¹²æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿã€‚ ï¼ˆæˆ‘çš„ç†è§£å°±æ˜¯ä¸€ä¸ªä¸œè¥¿ä¼šæœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼Œå°±åƒåƒé¸¡ï¼Œå¸¸å¸¸æ›´æ–°ï¼Œæ¯æ›´æ–°ä¸€æ¬¡å°±æ˜¯ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œå¦‚æœåˆšå‘è¡Œçš„ç‰ˆæœ¬å‡ºç°æ¯’åœˆä¸æ‰è¡€ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç‰ˆæœ¬å›é€€ã€‚ã€‚ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå°±ä½“ç°ä½œç”¨äº†ï¼‰ ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿåˆåˆ†ä¸ºï¼šæœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚ æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ é›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ æ›´å¤šä»‹ç»å¯ä»¥æ¥çœ‹ 1.1 èµ·æ­¥ - å…³äºç‰ˆæœ¬æ§åˆ¶ è°å¼€å‘äº† Git2002 å¹´ï¼ŒLinux å†…æ ¸å¼€æºé¡¹ç›®ç»„å¼€å§‹å¯ç”¨ä¸€ä¸ªä¸“æœ‰çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ BitKeeper æ¥ç®¡ç†å’Œç»´æŠ¤ä»£ç ã€‚ ä½†æ˜¯åˆ°äº† 2005 å¹´ï¼Œå¼€å‘ BitKeeper çš„å•†ä¸šå…¬å¸åŒ Linux å†…æ ¸å¼€æºç¤¾åŒºçš„åˆä½œå…³ç³»ç»“æŸï¼Œä»–ä»¬æ”¶å›äº† Linux å†…æ ¸ç¤¾åŒºå…è´¹ä½¿ç”¨ BitKeeper çš„æƒåŠ›ã€‚ è¿™å°±è¿«ä½¿ Linux å¼€æºç¤¾åŒºï¼ˆç‰¹åˆ«æ˜¯ Linux çš„ç¼”é€ è€… Linus Torvaldsï¼‰åŸºäºä½¿ç”¨ BitKeeper æ—¶çš„ç»éªŒæ•™è®­ï¼Œå¼€å‘å‡ºè‡ªå·±çš„ç‰ˆæœ¬ç³»ç»Ÿã€‚ ä»–ä»¬å¯¹æ–°çš„ç³»ç»Ÿåˆ¶è®¢äº†è‹¥å¹²ç›®æ ‡ï¼š é€Ÿåº¦ ç®€å•çš„è®¾è®¡ å¯¹éçº¿æ€§å¼€å‘æ¨¡å¼çš„å¼ºåŠ›æ”¯æŒï¼ˆå…è®¸æˆåƒä¸Šä¸‡ä¸ªå¹¶è¡Œå¼€å‘çš„åˆ†æ”¯ï¼‰ å®Œå…¨åˆ†å¸ƒå¼ æœ‰èƒ½åŠ›é«˜æ•ˆç®¡ç†ç±»ä¼¼ Linux å†…æ ¸ä¸€æ ·çš„è¶…å¤§è§„æ¨¡é¡¹ç›®ï¼ˆé€Ÿåº¦å’Œæ•°æ®é‡ï¼‰ Git ç‰¹ç‚¹Git å·¥ä½œæµåŸºæœ¬çš„ Git å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š å…‹éš† Git èµ„æºä½œä¸ºå·¥ä½œç›®å½•ã€‚ åœ¨å…‹éš†çš„èµ„æºä¸Šæ·»åŠ æˆ–ä¿®æ”¹æ–‡ä»¶ã€‚ å¦‚æœå…¶ä»–äººä¿®æ”¹äº†ï¼Œä½ å¯ä»¥æ›´æ–°èµ„æºã€‚ åœ¨æäº¤å‰æŸ¥çœ‹ä¿®æ”¹ã€‚ æäº¤ä¿®æ”¹ã€‚ åœ¨ä¿®æ”¹å®Œæˆåï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œå¯ä»¥æ’¤å›æäº¤å¹¶å†æ¬¡ä¿®æ”¹å¹¶æäº¤ã€‚ è¿‘ä¹æ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ¬åœ°æ‰§è¡Œåœ¨ Git ä¸­çš„ç»å¤§å¤šæ•°æ“ä½œéƒ½åªéœ€è¦è®¿é—®æœ¬åœ°æ–‡ä»¶å’Œèµ„æºï¼Œä¸€èˆ¬ä¸éœ€è¦æ¥è‡ªç½‘ç»œä¸Šå…¶å®ƒè®¡ç®—æœºçš„ä¿¡æ¯ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œè¦æµè§ˆé¡¹ç›®çš„å†å²ï¼ŒGit ä¸éœ€å¤–è¿åˆ°æœåŠ¡å™¨å»è·å–å†å²ï¼Œç„¶åå†æ˜¾ç¤ºå‡ºæ¥â€”â€”å®ƒåªéœ€ç›´æ¥ä»æœ¬åœ°æ•°æ®åº“ä¸­è¯»å–ã€‚ ä½ èƒ½ç«‹å³çœ‹åˆ°é¡¹ç›®å†å²ã€‚ å¦‚æœä½ æƒ³æŸ¥çœ‹å½“å‰ç‰ˆæœ¬ä¸ä¸€ä¸ªæœˆå‰çš„ç‰ˆæœ¬ä¹‹é—´å¼•å…¥çš„ä¿®æ”¹ï¼ŒGit ä¼šæŸ¥æ‰¾åˆ°ä¸€ä¸ªæœˆå‰çš„æ–‡ä»¶åšä¸€æ¬¡æœ¬åœ°çš„å·®å¼‚è®¡ç®—ï¼Œè€Œä¸æ˜¯ç”±è¿œç¨‹æœåŠ¡å™¨å¤„ç†æˆ–ä»è¿œç¨‹æœåŠ¡å™¨æ‹‰å›æ—§ç‰ˆæœ¬æ–‡ä»¶å†æ¥æœ¬åœ°å¤„ç†ã€‚ Git ä¿è¯å®Œæ•´æ€§Git ä¸­æ‰€æœ‰æ•°æ®åœ¨å­˜å‚¨å‰éƒ½è®¡ç®—æ ¡éªŒå’Œï¼Œç„¶åä»¥æ ¡éªŒå’Œæ¥å¼•ç”¨ã€‚ è¿™æ„å‘³ç€ä¸å¯èƒ½åœ¨ Git ä¸çŸ¥æƒ…æ—¶æ›´æ”¹ä»»ä½•æ–‡ä»¶å†…å®¹æˆ–ç›®å½•å†…å®¹ã€‚ è¿™ä¸ªåŠŸèƒ½å»ºæ„åœ¨ Git åº•å±‚ï¼Œæ˜¯æ„æˆ Git å“²å­¦ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ã€‚ è‹¥ä½ åœ¨ä¼ é€è¿‡ç¨‹ä¸­ä¸¢å¤±ä¿¡æ¯æˆ–æŸåæ–‡ä»¶ï¼ŒGit å°±èƒ½å‘ç°ã€‚ Git ç”¨ä»¥è®¡ç®—æ ¡éªŒå’Œçš„æœºåˆ¶å«åš SHA-1 æ•£åˆ—ï¼ˆhashï¼Œå“ˆå¸Œï¼‰ã€‚ è¿™æ˜¯ä¸€ä¸ªç”± 40 ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ï¼ˆ0-9 å’Œ a-fï¼‰ç»„æˆå­—ç¬¦ä¸²ï¼ŒåŸºäº Git ä¸­æ–‡ä»¶çš„å†…å®¹æˆ–ç›®å½•ç»“æ„è®¡ç®—å‡ºæ¥ã€‚ SHA-1 å“ˆå¸Œçœ‹èµ·æ¥æ˜¯è¿™æ ·ï¼š 24b9da6552252987aa493b52f8696cd6d3b00373 Git ä¸­ä½¿ç”¨è¿™ç§å“ˆå¸Œå€¼çš„æƒ…å†µå¾ˆå¤šï¼Œä½ å°†ç»å¸¸çœ‹åˆ°è¿™ç§å“ˆå¸Œå€¼ã€‚ å®é™…ä¸Šï¼ŒGit æ•°æ®åº“ä¸­ä¿å­˜çš„ä¿¡æ¯éƒ½æ˜¯ä»¥æ–‡ä»¶å†…å®¹çš„å“ˆå¸Œå€¼æ¥ç´¢å¼•ï¼Œè€Œä¸æ˜¯æ–‡ä»¶åã€‚ Git ä¸€èˆ¬åªæ·»åŠ æ•°æ®ä½ æ‰§è¡Œçš„ Git æ“ä½œï¼Œå‡ ä¹åªå¾€ Git æ•°æ®åº“ä¸­å¢åŠ æ•°æ®ã€‚ å¾ˆéš¾è®© Git æ‰§è¡Œä»»ä½•ä¸å¯é€†æ“ä½œï¼Œæˆ–è€…è®©å®ƒä»¥ä»»ä½•æ–¹å¼æ¸…é™¤æ•°æ®ã€‚ åŒåˆ«çš„ VCS ä¸€æ ·ï¼Œæœªæäº¤æ›´æ–°æ—¶æœ‰å¯èƒ½ä¸¢å¤±æˆ–å¼„ä¹±ä¿®æ”¹çš„å†…å®¹ï¼›ä½†æ˜¯ä¸€æ—¦ä½ æäº¤å¿«ç…§åˆ° Git ä¸­ï¼Œå°±éš¾ä»¥å†ä¸¢å¤±æ•°æ®ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ å®šæœŸçš„æ¨é€æ•°æ®åº“åˆ°å…¶å®ƒä»“åº“çš„è¯ã€‚ Git çš„ä¸‰ç§çŠ¶æ€ å·²æäº¤ï¼ˆcommittedï¼‰ï¼šæ•°æ®å·²ç»å®‰å…¨çš„ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ä¸­ã€‚ å·²ä¿®æ”¹ï¼ˆmodifiedï¼‰ ï¼šä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚ å·²æš‚å­˜ï¼ˆstagedï¼‰ ï¼šå¯¹ä¸€ä¸ªå·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å«åœ¨ä¸‹æ¬¡æäº¤çš„å¿«ç…§ä¸­ã€‚ ç”±æ­¤å¼•å…¥ Git é¡¹ç›®çš„ä¸‰ä¸ªå·¥ä½œåŒºåŸŸçš„æ¦‚å¿µï¼šGit ä»“åº“ã€å·¥ä½œç›®å½•ä»¥åŠæš‚å­˜åŒºåŸŸã€‚ å®‰è£… Gitè¯´äº†é‚£ä¹ˆå¤šï¼Œç°åœ¨å¼€å§‹åŠ¨æ‰‹ï¼Œå®‰è£…Gitã€‚ Linux$ sudo yum install git æˆ–è€… $ sudo apt-get install git Macä¸‹è½½å®‰è£…åŒ… Downloading Git æˆ–è€… $ brew install git Windowsç›´æ¥ä¸‹è½½æ–‡ä»¶ Downloading Git æˆ–è€… å®‰è£… GitHub for Windows åˆæ¬¡è¿è¡Œ Git å‰çš„é…ç½®ç”¨æˆ·ä¿¡æ¯12$ git config --global user.name &quot;name&quot;$ git config --global user.email example@example.com å¦‚æœä½¿ç”¨äº† --global é€‰é¡¹ï¼Œé‚£ä¹ˆè¯¥å‘½ä»¤åªéœ€è¦è¿è¡Œä¸€æ¬¡ï¼Œå› ä¸ºä¹‹åæ— è®ºä½ åœ¨è¯¥ç³»ç»Ÿä¸Šåšä»»ä½•äº‹æƒ…ï¼Œ Git éƒ½ä¼šä½¿ç”¨é‚£äº›ä¿¡æ¯ã€‚ æ£€æŸ¥é…ç½®ä¿¡æ¯12345678$ git config --listuser.name=nameuser.email=example@example.comcolor.status=autocolor.branch=autocolor.interactive=autocolor.diff=auto... è·å–å¸®åŠ©è‹¥ä½ ä½¿ç”¨ Git æ—¶éœ€è¦è·å–å¸®åŠ©ï¼Œæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥æ‰¾åˆ° Git å‘½ä»¤çš„ä½¿ç”¨æ‰‹å†Œï¼š123$ git help &lt;verb&gt;$ git &lt;verb&gt; --help$ man git-&lt;verb&gt; ä¾‹å¦‚ï¼Œè¦æƒ³è·å¾— config å‘½ä»¤çš„æ‰‹å†Œï¼Œæ‰§è¡Œ $ git help config æ€»ç»“ä»¥å‰åªæ˜¯äº†è§£ Gitå¸¸è§çš„pushã€commitç­‰å‘½ä»¤ï¼Œä»æ²¡æœ‰å¯¹ Gitè¿›æ€§è¿‡ç³»ç»Ÿå­¦ä¹ ï¼ŒæŠ“ç´§æ—¶é—´å­¦ä¹ ã€‚ ç›®æ ‡ï¼šä¸¤å‘¨åï¼Œä¹Ÿå°±æ˜¯3æœˆ28æ—¥ï¼Œèƒ½ç†Ÿç»ƒä½¿ç”¨ Gitè¿›æ€§å¼€å‘ã€‚ è¿™ä¸€ç¯‡ä¸»è¦è®²äº†äº›èƒŒæ™¯çŸ¥è¯†å§ï¼Œä¸‹ä¸€ç¯‡å°±æ˜¯å®é™…çš„æ“ä½œäº†ã€‚ ä¸»è¦ä»Gitæ–‡æ¡£ä¸Šæˆªå–è‡ªå·±è®¤ä¸ºé‡è¦çš„éƒ¨åˆ†ï¼Œæœ‰æ¡ä»¶å¯ä»¥å»ä»”ç»†é˜…è¯»ã€‚","tags":[{"name":"Git","slug":"Git","permalink":"https://zhangslob.github.io/tags/Git/"}]},{"title":"å¤§ä½¬ï¼Œæˆ‘ä»£ç å“ªé”™äº†ï¼Ÿ","date":"2018-03-13T13:30:03.000Z","path":"2018/03/13/å¤§ä½¬ï¼Œæˆ‘ä»£ç å“ªé”™äº†ï¼Ÿ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åäº”ç¯‡åŸåˆ›æ–‡ç«  åˆ°åº•å“ªé”™äº† (à¹‘â€¢ . â€¢à¹‘) é—®é¢˜æ— å¤„ä¸åœ¨æˆ‘ï¼š â€œå¤§ä½¬ï¼Œå¸®æˆ‘çœ‹çœ‹è¿™ä¸ªé—®é¢˜é”™åœ¨å“ªäº†ï¼Ÿâ€ å¤§ä½¬ï¼š â€œä½ çš„ä»£ç å‘¢ã€ä½ çš„é”™è¯¯æç¤ºå‘¢ï¼Ÿâ€ æˆ‘ï¼š â€œå¥½çš„ï¼Œæˆ‘å‘ç»™ä½ â€ å¤§ä½¬ï¼š â€œã€‚ã€‚ã€‚ å†è§â€ ç•™ä¸‹ä¸€è„¸æ‡µé€¼çš„æˆ‘ å¦‚ä½•è§£å†³é—®é¢˜æœ€ç®€å•çš„æ–¹æ³•æ˜¯æ ¹æ®é”™è¯¯æç¤ºï¼ŒæŸ¥çœ‹å¯¹åº”ä½ç½®çš„ä»£ç ï¼ŒPycharmä¼šæç¤ºå…·ä½“æ˜¯å“ªä¸€è¡Œä»£ç æœ‰é—®é¢˜ï¼Œå¹¶æŠ›å‡ºé”™è¯¯ã€‚ æ‰¾åˆ°é”™è¯¯é¦–å…ˆåº”è‡ªå·±æƒ³åŠæ³•è§£å†³ï¼Œè‡ªå·±è§£å†³åˆåˆ†ä¸ºå‡ ç§ï¼šæœ‰ç»éªŒçš„å¤§ä½¬çœ‹åˆ°Errorå°±çŸ¥é“æ˜¯å“ªé‡Œæœ‰é—®é¢˜äº†ï¼Œæ²¡ç»éªŒæ€ä¹ˆåŠï¼Œé‚£å°±è‡ªå·±å»æœç´¢äº†ã€‚ ä¸‹ä¸ªç»“è®ºï¼Œä½ é‡åˆ°çš„é—®é¢˜ï¼Œå‰äººä¸€å®šé‡åˆ°è¿‡ã€‚ æ‰€ä»¥ä½ åªéœ€è¦æŠŠä½ çš„é”™è¯¯æç¤ºæœç´¢å°±å¥½äº†ã€‚ æ³¨æ„ä¸‹é¢ï¼Œä½ æ‡‚çš„ã€‚ï¼ˆç»™è‡ªå·±ä¸€ä¸ªå¥½ç‚¹çš„ç¯å¢ƒï¼‰ Google &gt; ç™¾åº¦ stackoverflow &gt; çŸ¥ä¹ github &gt; CSDN Githubä¸Šæœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„ trending ï¼Œå¯ä»¥æ˜¾ç¤ºä»Šå¤©æˆ–æœ¬å‘¨æˆ–æœ¬æœˆæœ€ç«çš„é¡¹ç›®ï¼Œä¾‹å¦‚ï¼š techGay/91porn Github ä½œä¸ºå…¨çƒæœ€å¤§çš„åŒæ€§äº¤å‹ç½‘ç«™ï¼Œä¸Šé¢æœ‰å¾ˆå¤šå€¼å¾—æˆ‘ä»¬å¥½å¥½å­¦ä¹ çš„ä¸œè¥¿ã€‚ å¦‚ä½•å‘åˆ«äººæé—®å¦‚æœä½ çœŸçš„åƒä¸Šé¢å“ªæ ·ï¼Œå‘ä¸€å¼ ç…§ç‰‡ï¼Œä¼°è®¡å¤§ä½¬éƒ½è¦åè¡€äº†ã€‚ åœ¨è¿™é‡Œæ¨èå¤§å®¶ä½¿ç”¨Githubä¸Šçš„ gist ï¼Œå¾ˆé€‚åˆåˆ†äº«ä»£ç ç‰‡æ®µã€‚ Instantly share code, notes, and snippets. ä¾‹å¦‚è¿™æ · Issue in FromRequest #3144 è¿™æ ·çœ‹èµ·æ¥æ˜¯ä¸æ˜¯èˆ’æœå¤šäº† å¦‚ä½•æ‰èƒ½ æ°¸æ— bug1ã€ä½›ç¥–ä¿ä½‘ æ°¸æ— bug12345678910111213141516171819202122232425262728293031// _ooOoo_// o8888888o// 88\" . \"88// (| -_- |)// O\\ = /O// ____/`---'\\____// . ' \\\\| |// `.// / \\\\||| : |||// \\// / _||||| -:- |||||- \\// | | \\\\\\ - /// | |// | \\_| ''\\---/'' | |// \\ .-\\__ `-` ___/-. /// ___`. .' /--.--\\ `. . __// .\"\" '&lt; `.___\\_&lt;|&gt;_/___.' &gt;'\"\".// | | : `- \\`.;`\\ _ /`;.`/ - ` : | |// \\ \\ `-. \\_ __\\ /__ _/ .-` / /// ======`-.____`-.___\\_____/___.-`____.-'======// `=---='//// .............................................// ä½›ç¥–é•‡æ¥¼ BUGè¾Ÿæ˜“// ä½›æ›°:// å†™å­—æ¥¼é‡Œå†™å­—é—´ï¼Œå†™å­—é—´é‡Œç¨‹åºå‘˜ï¼›// ç¨‹åºäººå‘˜å†™ç¨‹åºï¼Œåˆæ‹¿ç¨‹åºæ¢é…’é’±ã€‚// é…’é†’åªåœ¨ç½‘ä¸Šåï¼Œé…’é†‰è¿˜æ¥ç½‘ä¸‹çœ ï¼›// é…’é†‰é…’é†’æ—¥å¤æ—¥ï¼Œç½‘ä¸Šç½‘ä¸‹å¹´å¤å¹´ã€‚// ä½†æ„¿è€æ­»ç”µè„‘é—´ï¼Œä¸æ„¿é èº¬è€æ¿å‰ï¼›// å¥”é©°å®é©¬è´µè€…è¶£ï¼Œå…¬äº¤è‡ªè¡Œç¨‹åºå‘˜ã€‚// åˆ«äººç¬‘æˆ‘å¿’ç–¯ç™«ï¼Œæˆ‘ç¬‘è‡ªå·±å‘½å¤ªè´±ï¼›// ä¸è§æ»¡è¡—æ¼‚äº®å¦¹ï¼Œå“ªä¸ªå½’å¾—ç¨‹åºå‘˜ï¼Ÿ 2ã€ä½›ç³»ç¼–ç¨‹ æ°¸æ— bugNo CodeNo code is the best way to write secure and reliable applications. Write nothing; deploy nowhere. Getting StartedStart by not writing any code. 12 This is just an example application, but imagine it doing anything you want. Adding new features is easy too: 12 The possibilities are endless. Building the ApplicationNow that you have not done anything itâ€™s time to build your application: 12 Yep. Thatâ€™s it. You should see the following output: 12 DeployingWhile you still have not done anything itâ€™s time to deploy your application. By running the following command you can deploy your application absolutely nowhere. 12 Itâ€™s that simple. And when it comes time to scale the application, all you have to do is: 12 I know right? ContributingYou donâ€™t.","tags":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"https://zhangslob.github.io/tags/ç¼–ç¨‹/"}]},{"title":"å­¦ç‚¹ç®—æ³•ä¹‹é˜Ÿåˆ—çš„å­¦ä¹ åŠåº”ç”¨","date":"2018-03-06T12:54:00.000Z","path":"2018/03/06/å­¦ç‚¹ç®—æ³•ä¹‹é˜Ÿåˆ—çš„å­¦ä¹ åŠåº”ç”¨/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åå››ç¯‡åŸåˆ›æ–‡ç«  ä»çº¦ç‘Ÿå¤«é—®é¢˜å¼€å§‹è¯´èµ· (à¹‘â€¢ . â€¢à¹‘) çº¦ç‘Ÿå¤«é—®é¢˜çº¦ç‘Ÿå¤«é—®é¢˜ æœ‰ n ä¸ªå›šçŠ¯ç«™æˆä¸€ä¸ªåœ†åœˆï¼Œå‡†å¤‡å¤„å†³ã€‚é¦–å…ˆä»ä¸€ä¸ªäººå¼€å§‹ï¼Œè¶Šè¿‡k-2ä¸ªäººï¼ˆå› ä¸ºç¬¬ä¸€ä¸ªäººå·²ç»è¢«è¶Šè¿‡ï¼‰ï¼Œå¹¶æ€æ‰ç¬¬kä¸ªäººã€‚æ¥ç€ï¼Œå†è¶Šè¿‡ k-1ä¸ªäººï¼Œå¹¶æ€æ‰ç¬¬kä¸ªäººã€‚è¿™ä¸ªè¿‡ç¨‹æ²¿ç€åœ†åœˆä¸€ç›´è¿›è¡Œï¼Œç›´åˆ°æœ€ç»ˆåªå‰©ä¸‹ä¸€ä¸ªäººç•™ä¸‹ï¼Œè¿™ä¸ªäººå°±å¯ä»¥ç»§ç»­æ´»ç€ã€‚ é—®é¢˜æ˜¯ï¼Œç»™å®šäº†nå’Œkï¼Œä¸€å¼€å§‹è¦ç«™åœ¨ä»€ä¹ˆåœ°æ–¹æ‰èƒ½é¿å…è¢«å¤„å†³ï¼Ÿ è¿™ä¸ªé—®é¢˜æ˜¯ä»¥å¼—æ‹‰ç»´å¥¥Â·çº¦ç‘Ÿå¤«å‘½åçš„ï¼Œå®ƒæ˜¯1ä¸–çºªçš„ä¸€åçŠ¹å¤ªå†å²å­¦å®¶ã€‚ä»–åœ¨è‡ªå·±çš„æ—¥è®°ä¸­å†™é“ï¼Œä»–å’Œä»–çš„40ä¸ªæˆ˜å‹è¢«ç½—é©¬å†›é˜ŸåŒ…å›´åœ¨æ´ä¸­ã€‚ä»–ä»¬è®¨è®ºæ˜¯è‡ªæ€è¿˜æ˜¯è¢«ä¿˜ï¼Œæœ€ç»ˆå†³å®šè‡ªæ€ï¼Œå¹¶ä»¥æŠ½ç­¾çš„æ–¹å¼å†³å®šè°æ€æ‰è°ã€‚çº¦ç‘Ÿå¤«æ–¯å’Œå¦å¤–ä¸€ä¸ªäººæ˜¯æœ€åä¸¤ä¸ªç•™ä¸‹çš„äººã€‚çº¦ç‘Ÿå¤«æ–¯è¯´æœäº†é‚£ä¸ªäººï¼Œä»–ä»¬å°†å‘ç½—é©¬å†›é˜ŸæŠ•é™ï¼Œä¸å†è‡ªæ€ã€‚çº¦ç‘Ÿå¤«æ–¯æŠŠä»–çš„å­˜æ´»å½’å› äºè¿æ°”æˆ–å¤©æ„ï¼Œä»–ä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ªã€‚ é˜Ÿåˆ—æ˜¯ä»€ä¹ˆè¿™é“é¢˜æœ‰å¤šç§è§£æ³•ï¼Œè¿™é‡Œå…ˆä¸è¯´åˆ«çš„ï¼Œè¦å¼•å‡ºä»Šå¤©çš„ä¸»è§’â€”â€”é˜Ÿåˆ—ã€‚é˜Ÿåˆ—çš„å®šä¹‰å¾ˆå¥½ç†è§£ï¼š é˜Ÿåˆ—æ˜¯é¡¹çš„æœ‰åºç»“åˆï¼Œå…¶ä¸­æ·»åŠ æ–°é¡¹çš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå°¾ï¼Œç§»é™¤é¡¹çš„ä¸€ç«¯ç§°ä¸ºé˜Ÿé¦–ã€‚å½“ä¸€ä¸ªå…ƒç´ ä»é˜Ÿå°¾è¿›å…¥é˜Ÿåˆ—æ—¶ï¼Œä¸€ç›´å‘é˜Ÿé¦–ç§»åŠ¨ï¼Œç›´åˆ°å®ƒæˆä¸ºä¸‹ä¸€ä¸ªéœ€è¦ç§»é™¤çš„å…ƒç´ ä¸ºæ­¢ã€‚ é˜Ÿåˆ—æŠ½è±¡æ•°æ®ç±»å‹ç”±ä»¥ä¸‹ç»“æ„å’Œæ“ä½œå®šä¹‰ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œé˜Ÿåˆ—è¢«æ„é€ ä¸ºåœ¨é˜Ÿå°¾æ·»åŠ é¡¹çš„æœ‰åºé›†åˆï¼Œå¹¶ä¸”ä»é˜Ÿé¦–ç§»é™¤ã€‚é˜Ÿåˆ—ä¿æŒ FIFO æ’åºå±æ€§ã€‚ é˜Ÿåˆ—æ“ä½œå¦‚ä¸‹ã€‚ Queue() åˆ›å»ºä¸€ä¸ªç©ºçš„æ–°é˜Ÿåˆ—ã€‚ å®ƒä¸éœ€è¦å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç©ºé˜Ÿåˆ—ã€‚ enqueue(item) å°†æ–°é¡¹æ·»åŠ åˆ°é˜Ÿå°¾ã€‚ å®ƒéœ€è¦ item ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸è¿”å›ä»»ä½•å†…å®¹ã€‚ dequeue() ä»é˜Ÿé¦–ç§»é™¤é¡¹ã€‚å®ƒä¸éœ€è¦å‚æ•°å¹¶è¿”å› itemã€‚ é˜Ÿåˆ—è¢«ä¿®æ”¹ã€‚ isEmpty() æŸ¥çœ‹é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚å®ƒä¸éœ€è¦å‚æ•°ï¼Œå¹¶è¿”å›å¸ƒå°”å€¼ã€‚ size() è¿”å›é˜Ÿåˆ—ä¸­çš„é¡¹æ•°ã€‚å®ƒä¸éœ€è¦å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚ é˜Ÿåˆ—çš„Pythonç®—æ³•å®ç°ä¸ºäº†å®ç°é˜Ÿåˆ—æŠ½è±¡æ•°æ®ç±»å‹åˆ›å»ºä¸€ä¸ªæ–°ç±» pythonds/basic/queue.py 123456789101112131415class Queue: def __init__(self): self.items = [] def isEmpty(self): return self.items == [] def enqueue(self, item): self.items.insert(0,item) def dequeue(self): return self.items.pop() def size(self): return len(self.items) æƒ³æ˜ç™½äº†å…¶å®å°±æ˜¯å¯¹ list çš„ç®€å•æ“ä½œ å¦‚ä½•æ´»åˆ°æœ€åé‚£æˆ‘ä»¬å›åˆ°ä¸Šé¢çš„é—®é¢˜ï¼Œå¦‚æœæ˜¯ä½ ï¼Œä½ è¦å¦‚ä½•é€‰æ‹©å¹¶æ´»åˆ°æœ€åå‘¢ï¼Ÿ æˆ‘ä»¬çš„ç¨‹åºå°†è¾“å…¥åç§°åˆ—è¡¨å’Œä¸€ä¸ªç§°ä¸º num å¸¸é‡ç”¨äºæŠ¥æ•°ã€‚å®ƒå°†è¿”å›ä»¥ num ä¸ºå•ä½é‡å¤æŠ¥æ•°åå‰©ä½™çš„æœ€åä¸€ä¸ªäººçš„å§“åã€‚ å‡è®¾ç¬¬ä¸€ä¸ªäººæ˜¯aã€‚ä»ä»–å¼€å§‹è®¡æ•°ï¼Œaå°†å…ˆå‡ºåˆ—å†å…¥é˜Ÿåˆ—ï¼ŒæŠŠä»–æ”¾åœ¨é˜Ÿåˆ—çš„æœ€åã€‚ç»è¿‡ num æ¬¡çš„å‡ºé˜Ÿå…¥é˜Ÿåï¼Œå‰é¢çš„äººå°†è¢«æ°¸ä¹…ç§»é™¤é˜Ÿåˆ—ã€‚å¹¶ä¸”å¦ä¸€ä¸ªå‘¨æœŸå¼€å§‹ï¼Œç»§ç»­æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªåå­—ï¼ˆé˜Ÿåˆ—çš„å¤§å°ä¸º 1ï¼‰ã€‚ 12345678910111213141516171819from pythonds.basic.queue import Queuedef hotPotato(namelist, num): simqueue = Queue() for name in namelist: simqueue.enqueue(name) while simqueue.size() &gt; 1: for i in range(num): simqueue.enqueue(simqueue.dequeue()) simqueue.dequeue() return simqueue.dequeue()print(hotPotato(['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j'], 7))# output: f å…¶ä»–è§£æ³•æ¯”è¾ƒç®€å•çš„åšæ³•æ˜¯ç”¨å¾ªç¯å•é“¾è¡¨æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n*m)ã€‚å¦‚æœåªæ˜¯æƒ³æ±‚å¾—æœ€åå‰©ä¸‹çš„äººï¼Œåˆ™å¯ä»¥ç”¨æ•°å­¦æ¨å¯¼çš„æ–¹å¼å¾—å‡ºå…¬å¼ã€‚å…ˆçœ‹çœ‹æ¨¡æ‹Ÿè¿‡ç¨‹çš„è§£æ³•ã€‚ 12345678910111213141516171819202122232425262728293031323334# -*- coding: utf-8 -*- class Node(object): def __init__(self, value): self.value = value self.next = Nonedef create_linkList(n): head = Node(1) pre = head for i in range(2, n+1): newNode = Node(i) pre.next= newNode pre = newNode pre.next = head return headn = 5 #æ€»çš„ä¸ªæ•°m = 2 #æ•°çš„æ•°ç›®if m == 1: #å¦‚æœæ˜¯1çš„è¯ï¼Œç‰¹æ®Šå¤„ç†ï¼Œç›´æ¥è¾“å‡º print(n) else: head = create_linkList(n) pre = None cur = head while cur.next != cur: #ç»ˆæ­¢æ¡ä»¶æ˜¯èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æœ¬èº« for i in range(m-1): pre = cur cur = cur.next print(cur.value) pre.next = cur.next cur.next = None cur = pre.next print(cur.value) ä½œä¸šå‡è®¾å®éªŒå®¤é‡Œæœ‰ä¸€å°æ‰“å°æœºä¾›å­¦ç”Ÿå…±æ€§ã€‚å½“å­¦ç”Ÿå‘å…±äº«æ‰“å°æœºå‘é€æ‰“å°ä»»åŠ¡æ—¶ï¼Œä»»åŠ¡è¢«æ”¾ç½®åœ¨é˜Ÿåˆ—ä¸­ä»¥ä¾¿ä»¥å…ˆæ¥å…ˆæœåŠ¡çš„æ–¹å¼è¢«å¤„ç†ã€‚å¦‚ä½•æ‰èƒ½é€šè¿‡pythonç¨‹åºæ¨¡æ‹Ÿçš„æ–¹å¼å¾—åˆ°æ¯æ¬¡æäº¤ä»»åŠ¡çš„å¹³å‡ç­‰å¾…æ—¶é—´å‘¢ï¼Ÿï¼ˆå¹³å‡ç­‰å¾…æ—¶é—´ä¸åŒ…æ‹¬æ‰“å°æœ¬èº«çš„æ—¶é—´ï¼Œä»…æŒ‡åœ¨é˜Ÿåˆ—ä¸­æ’é˜Ÿçš„æ—¶é—´ã€‚ï¼‰æˆ‘ä»¬å‡å®šï¼š å­¦ç”Ÿä»¬æ¯æ¬¡æ‰“å°çš„é¡µæ•°åœ¨1åˆ°20é¡µä¹‹é—´ã€‚ æ‰“å°æœºå¹³å‡æ¯å°æ—¶ä¼šæ”¶åˆ°20ä¸ªæ‰“å°è¯·æ±‚ï¼Œå³å¹³å‡æ¯180ç§’1ä¸ªè¯·æ±‚ã€‚ æ¯ç§’æ–°å¢ä»»åŠ¡çš„å¯èƒ½æ€§ç›¸ç­‰ï¼Œå³ä»»åŠ¡çš„äº§ç”Ÿä¸ºç‹¬ç«‹åŒåˆ†å¸ƒ æ‰“å°æœºçš„æ‰“å°é€Ÿåº¦æ’å®šã€‚ æŒ–å‘ï¼Œè¦ä¸€èµ·æ¥å¡«å—ï¼Ÿ","tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://zhangslob.github.io/tags/ç®—æ³•/"},{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"https://zhangslob.github.io/tags/é˜Ÿåˆ—/"}]},{"title":"Scrapyæºç ï¼ˆ2ï¼‰â€”â€”çˆ¬è™«å¼€å§‹çš„åœ°æ–¹","date":"2018-02-26T14:48:13.000Z","path":"2018/02/26/Scrapyæºç ï¼ˆ2ï¼‰â€”â€”çˆ¬è™«å¼€å§‹çš„åœ°æ–¹/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åä¸‰ç¯‡åŸåˆ›æ–‡ç«  å¼€å§‹å­¦ä¹ Scrapyæºç  (à¹‘â€¢ . â€¢à¹‘) Scrapyè¿è¡Œå‘½ä»¤ä¸€èˆ¬æ¥è¯´ï¼Œè¿è¡ŒScrapyé¡¹ç›®çš„å†™æ³•æœ‰ï¼Œï¼ˆè¿™é‡Œä¸è€ƒè™‘ä»è„šæœ¬è¿è¡ŒScrapyï¼‰ 1234567Usage examples:$ scrapy crawl myspider[ ... myspider starts crawling ... ]$ scrapy runspider myspider.py[ ... spider starts crawling ... ] ä½†æ˜¯æ›´å¥½çš„å†™æ³•æ˜¯ï¼Œæ–°å»ºä¸€ä¸ªPythonæ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼Œï¼ˆä¾¿äºè°ƒè¯•ï¼‰123from scrapy import cmdlinecmdline.execute(\"scrapy crawl myspider\".split()) å¾ˆå®¹æ˜“å°±å‘ç°ï¼ŒScrapyè¿è¡Œæ–‡ä»¶æ˜¯cmdline.pyæ–‡ä»¶é‡Œé¢çš„execute()å‡½æ•°ï¼Œä¸‹é¢å­¦ä¹ ä¸‹è¿™ä¸ªå‡½æ•°åœ¨åšä»€ä¹ˆã€‚ åˆ†ææºç 12345678910def execute(argv=None, settings=None): if argv is None: argv = sys.argv # --- backwards compatibility for scrapy.conf.settings singleton --- if settings is None and 'scrapy.conf' in sys.modules: from scrapy import conf if hasattr(conf, 'settings'): settings = conf.settings # ------------------------------------------------------------------ å¯»æ‰¾ scrapy.confé…ç½®æ–‡ä»¶ï¼Œargvç›´æ¥å–sys.argv 123456789101112131415161718if settings is None: settings = get_project_settings() # set EDITOR from environment if available try: editor = os.environ['EDITOR'] except KeyError: pass else: settings['EDITOR'] = editorcheck_deprecated_settings(settings)# --- backwards compatibility for scrapy.conf.settings singleton ---import warningsfrom scrapy.exceptions import ScrapyDeprecationWarningwith warnings.catch_warnings(): warnings.simplefilter(\"ignore\", ScrapyDeprecationWarning) from scrapy import conf conf.settings = settings# ------------------------------------------------------------------ set EDITOR from environment if available è¯»å–settingsè®¾ç½®æ–‡ä»¶ï¼Œå¯¼å…¥é¡¹ç›®ï¼Œè°ƒç”¨get_project_settings()å‡½æ•°ï¼Œæ­¤å¤„ä¸ºutilsæ–‡ä»¶å¤¹ä¸‹çš„project.pyæ–‡ä»¶ï¼š 1234def get_project_settings(): if ENVVAR not in os.environ: project = os.environ.get('SCRAPY_PROJECT', 'default') init_env(project) project.py init_env() å‡½æ•°å¦‚ä¸‹ï¼š 12345678910111213def init_env(project='default', set_syspath=True): \"\"\"Initialize environment to use command-line tool from inside a project dir. This sets the Scrapy settings module and modifies the Python path to be able to locate the project module. \"\"\" cfg = get_config() if cfg.has_option('settings', project): os.environ['SCRAPY_SETTINGS_MODULE'] = cfg.get('settings', project) closest = closest_scrapy_cfg() if closest: projdir = os.path.dirname(closest) if set_syspath and projdir not in sys.path: sys.path.append(projdir) conf.py å¦‚æ³¨é‡Šæ‰€è¯´ï¼Œåˆå§‹åŒ–ç¯å¢ƒ,å¾ªç¯é€’å½’æ‰¾åˆ°ç”¨æˆ·é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶settings.py,å¹¶ä¸”å°†å…¶è®¾ç½®åˆ°ç¯å¢ƒå˜é‡Scrapy settings moduleä¸­ã€‚ç„¶åä¿®æ”¹Pythonè·¯å¾„ï¼Œç¡®ä¿èƒ½æ‰¾åˆ°é¡¹ç›®æ¨¡å—ã€‚ 123456789101112131415161718settings = Settings()settings_module_path = os.environ.get(ENVVAR)if settings_module_path: settings.setmodule(settings_module_path, priority='project')# XXX: remove this hackpickled_settings = os.environ.get(\"SCRAPY_PICKLED_SETTINGS_TO_OVERRIDE\")if pickled_settings: settings.setdict(pickle.loads(pickled_settings), priority='project')# XXX: deprecate and remove this functionalityenv_overrides = &#123;k[7:]: v for k, v in os.environ.items() if k.startswith('SCRAPY_')&#125;if env_overrides: settings.setdict(env_overrides, priority='project')return settings project.py è‡³æ­¤ï¼Œget_project_settings()è¯¥å‡½æ•°ç»“æŸï¼Œå¦‚å‡½æ•°åå­—ä¸€æ ·ï¼Œæœ€åè¿”å›é¡¹ç›®é…ç½®ï¼Œåˆ°æ­¤ä¸ºæ­¢ï¼Œæ¥ç€å¾€ä¸‹çœ‹ 1234567891011inproject = inside_project()cmds = _get_commands_dict(settings, inproject)cmdname = _pop_command_name(argv)parser = optparse.OptionParser(formatter=optparse.TitledHelpFormatter(), \\ conflict_handler='resolve')if not cmdname: _print_commands(settings, inproject) sys.exit(0)elif cmdname not in cmds: _print_unknown_command(settings, cmdname, inproject) sys.exit(2) å¯¼å…¥ç›¸åº”çš„moduleçˆ¬è™«æ¨¡å—ï¼ˆinside_projectï¼‰ æ‰§è¡Œç¯å¢ƒæ˜¯å¦åœ¨é¡¹ç›®ä¸­ï¼Œä¸»è¦æ£€æŸ¥scrapy.cfgé…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œè¯»å–commandsæ–‡ä»¶å¤¹ï¼ŒæŠŠæ‰€æœ‰çš„å‘½ä»¤ç±»è½¬æ¢ä¸º{cmd_name: cmd_instance}çš„å­—å…¸ 12345678cmd = cmds[cmdname]parser.usage = \"scrapy %s %s\" % (cmdname, cmd.syntax())parser.description = cmd.long_desc()settings.setdict(cmd.default_settings, priority='command')cmd.settings = settingscmd.add_options(parser)opts, args = parser.parse_args(args=argv[1:])_run_print_help(parser, cmd.process_options, args, opts) æ ¹æ®å‘½ä»¤åç§°æ‰¾åˆ°å¯¹åº”çš„å‘½ä»¤å®ä¾‹ï¼Œè®¾ç½®é¡¹ç›®é…ç½®å’Œçº§åˆ«ä¸ºcommandï¼Œæ·»åŠ è§£æè§„åˆ™ï¼Œè§£æå‘½ä»¤å‚æ•°ï¼Œå¹¶äº¤ç”±Scrapyå‘½ä»¤å®ä¾‹å¤„ç†ã€‚ æœ€åï¼Œçœ‹çœ‹ä¸‹é¢è¿™æ®µä»£ç ã€‚ 123cmd.crawler_process = CrawlerProcess(settings)_run_print_help(parser, _run_command, cmd, args, opts)sys.exit(cmd.exitcode) åˆå§‹åŒ–CrawlerProcesså®ä¾‹ï¼Œå°†å¯¹åº”çš„å‘½ä»¤æ‰§è¡Œï¼Œè¿™é‡Œæ˜¯crawl 12345def _run_command(cmd, args, opts): if opts.profile: _run_command_profiled(cmd, args, opts) else: cmd.run(args, opts) çœ‹åˆ°è¿™ï¼Œæƒ³èµ·äº†æ–‡æ¡£ä¸­çš„ä»‹ç» Run Scrapy from a script 123456789101112131415# Hereâ€™s an example showing how to run a single spider with it.import scrapyfrom scrapy.crawler import CrawlerProcessclass MySpider(scrapy.Spider): # Your spider definition ...process = CrawlerProcess(&#123; 'USER_AGENT': 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)'&#125;)process.crawl(MySpider)process.start() # the script will block here until the crawling is finished æ‰€ä»¥Scrapyçˆ¬è™«è¿è¡Œéƒ½æœ‰ç”¨ä½¿ç”¨åˆ°CrawlerProcessï¼Œæƒ³è¦æ·±å…¥äº†è§£å¯ä»¥å»çœ‹çœ‹æºç  scrapy/scrapy/crawler.py 123456789101112131415161718192021\"\"\"A class to run multiple scrapy crawlers in a process simultaneously.This class extends :class:`~scrapy.crawler.CrawlerRunner` by adding supportfor starting a Twisted `reactor`_ and handling shutdown signals, like thekeyboard interrupt command Ctrl-C. It also configures top-level logging.This utility should be a better fit than:class:`~scrapy.crawler.CrawlerRunner` if you aren't running anotherTwisted `reactor`_ within your application.The CrawlerProcess object must be instantiated with a:class:`~scrapy.settings.Settings` object.:param install_root_handler: whether to install root logging handler (default: True)This class shouldn't be needed (since Scrapy is responsible of using itaccordingly) unless writing scripts that manually handle the crawlingprocess. See :ref:`run-from-script` for an example.\"\"\" æœ€åï¼Œé™„ä¸ŠScrapyçš„è·¯å¾„å›¾ æ€»ç»“ç®€å•æ¥è¯´ï¼Œæœ‰è¿™ä¹ˆå‡ æ­¥ï¼š è¯»å–é…ç½®æ–‡ä»¶ï¼Œåº”ç”¨åˆ°çˆ¬è™«ä¸­ æŠŠæ‰€æœ‰çš„å‘½ä»¤ç±»è½¬æ¢åç§°ä¸å®ä¾‹å­—å…¸ åˆå§‹åŒ–CrawlerProcesså®ä¾‹ï¼Œè¿è¡Œçˆ¬è™« (çœ‹çš„å¤´ç–¼ï¼Œå¥½å¤šå‡½æ•°åè®°ä¸ä½) å›é¡¾ï¼š Scrapyæºç ï¼ˆ1ï¼‰â€”â€”çˆ¬è™«æµç¨‹æ¦‚è§ˆ Scrapyæºç ï¼ˆ2ï¼‰â€”â€”çˆ¬è™«å¼€å§‹çš„åœ°æ–¹","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://zhangslob.github.io/tags/Scrapy/"}]},{"title":"Scrapyæºç ï¼ˆ1ï¼‰â€”â€”çˆ¬è™«æµç¨‹æ¦‚è§ˆ","date":"2018-02-24T13:16:23.000Z","path":"2018/02/24/Scrapyæºç ï¼ˆ1ï¼‰â€”â€”çˆ¬è™«æµç¨‹æ¦‚è§ˆ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åäºŒç¯‡åŸåˆ›æ–‡ç«  å¼€å§‹å­¦ä¹ Scrapyæºç  (à¹‘â€¢ . â€¢à¹‘) å‰è¨€ä½¿ç”¨ Scrapy å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œè§‰å¾—è‡ªå·±æœ‰å¿…è¦å¯¹æºç å¥½å¥½çš„å­¦ä¹ ä¸‹äº†ï¼Œæ‰€ä»¥å†™ä¸‹è®°å½•ï¼Œå¸Œæœ›èƒ½åŠ æ·±è‡ªå·±çš„ç†è§£ã€‚ Scrapy | A Fast and Powerful Scraping and Web Crawling Framework æ¥ä¸‹æ¥è¯´åˆ°çš„æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼š Scrapy 1.5ï¼Œæš‚ä¸”æŠŠ Spider ç§°ä¸º èœ˜è››ï¼Œè€Œä¸æ˜¯çˆ¬è™«ã€‚ ä»‹ç»Scrapyæ˜¯ä¸€ä¸ªå¼€æºçˆ¬è™«æ¡†æ¶ï¼Œç”¨äºæŠ“å–ç½‘ç«™å¹¶æå–æœ‰ç”¨çš„ç»“æ„åŒ–æ•°æ®ï¼Œå¦‚æ•°æ®æŒ–æ˜ï¼Œä¿¡æ¯å¤„ç†æˆ–å†å²æ¡£æ¡ˆã€‚ å°½ç®¡Scrapyæœ€åˆæ˜¯ä¸ºç½‘é¡µæŠ“å–è®¾è®¡çš„ï¼Œä½†å®ƒä¹Ÿå¯ä»¥ç”¨äºä½¿ç”¨APIï¼ˆå¦‚Amazon Associates Web Servicesï¼‰æˆ–ä½œä¸ºé€šç”¨ç½‘ç»œæŠ“å–å·¥å…·æå–æ•°æ®ã€‚ ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œç›¸ä¿¡å¤§å®¶éƒ½å†™è¿‡ 12345678910111213141516171819import scrapyclass QuotesSpider(scrapy.Spider): name = \"quotes\" start_urls = [ 'http://quotes.toscrape.com/tag/humor/', ] def parse(self, response): for quote in response.css('div.quote'): yield &#123; 'text': quote.css('span.text::text').extract_first(), 'author': quote.xpath('span/small/text()').extract_first(), &#125; next_page = response.css('li.next a::attr(\"href\")').extract_first() if next_page is not None: yield response.follow(next_page, self.parse) ä¸€èˆ¬æ¥è¯´ï¼Œåˆ›å»ºä¸€ä¸ªScrapyé¡¹ç›®éœ€è¦å¦‚ä¸‹æµç¨‹ï¼š ä½¿ç”¨scrapy startproject spideråˆ›å»ºçˆ¬è™«æ¨¡æ¿ çˆ¬è™«ç±»ç»§æ‰¿scrapy.Spiderï¼Œé‡å†™parseæ–¹æ³•å’Œé€»è¾‘ parseæ–¹æ³•ä¸­yieldæˆ–returnå­—å…¸ã€Requestã€Item è‡ªå®šä¹‰Itemã€Middlewaresã€Pipelinesç­‰ ä½¿ç”¨scrapy crawl &lt;spider_name&gt;æˆ–æ–°å»ºæ–‡ä»¶cmdline.execute(&quot;scrapy crawl spider_name&quot;.split())è¿è¡Œï¼ˆä¾¿äºè°ƒè¯•ï¼‰ å…¶å®ƒ æ¶æ„æ¦‚è¿° è¿™æ˜¯ä¸€å¼ éå¸¸ç»å…¸çš„å›¾ï¼ŒåŸºæœ¬ä¸Šè¯´åˆ°Scrapyéƒ½ä¼šç”¨åˆ°å®ƒï¼Œæ¥æºäºArchitecture overview æ ¸å¿ƒç»„ä»¶ï¼ˆComponentsï¼‰ Scrapy Engineï¼šå¼•æ“ï¼Œè´Ÿè´£æ§åˆ¶ç³»ç»Ÿæ‰€æœ‰ç»„ä»¶ä¹‹é—´çš„æ•°æ®æµï¼Œå¹¶åœ¨å‘ç”ŸæŸäº›æ“ä½œæ—¶è§¦å‘äº‹ä»¶ï¼› Schedulerï¼šè°ƒåº¦å™¨ï¼Œæ¥æ”¶æ¥è‡ªå¼•æ“çš„è¯·æ±‚ï¼Œå¹¶å°†å®ƒä»¬æ’å…¥é˜Ÿåˆ—ï¼Œä»¥ä¾¿åœ¨å¼•æ“è¯·æ±‚å®ƒä»¬æ—¶å°†å®ƒä»¬æä¾›ç»™å®ƒä»¬ï¼ˆä¹Ÿæä¾›ç»™å¼•æ“ï¼‰ï¼› Downloaderï¼šä¸‹è½½å™¨ï¼Œè´Ÿè´£ä»ç½‘ç»œä¸Šè·å–ç½‘é¡µå¹¶å°†å®ƒä»¬è¿”å›åˆ°å¼•æ“ï¼Œç„¶åå¼•æ“å°†å®ƒä»¬è¿”å›ç»™èœ˜è››/spidersï¼› Spidersï¼šèœ˜è››ï¼Œæ˜¯ç”¨æˆ·ç¼–å†™çš„è‡ªå®šä¹‰ç±»ï¼Œç”¨äºè§£æå“åº”å¹¶ä»ä¸­æå–é¡¹ç›®ï¼ˆä¹Ÿç§°ä¸ºæŠ“å–çš„é¡¹ç›®ï¼‰æˆ–è¿½åŠ å…¶ä»–è¯·æ±‚ï¼› Item Pipelineï¼šç®¡é“ï¼Œè´Ÿè´£è¾“å‡ºç»“æ„åŒ–æ•°æ®ï¼Œå¯è‡ªå®šä¹‰è¾“å‡ºä½ç½®ï¼Œå…¸å‹çš„ä»»åŠ¡åŒ…æ‹¬æ¸…ç†ï¼ŒéªŒè¯å’ŒæŒä¹…æ€§ï¼› Downloader middlewaresï¼šä¸‹è½½ä¸­é—´ä»¶ï¼Œä½äºå¼•æ“å’Œä¸‹è½½å™¨ä¹‹é—´çš„ç‰¹å®šé’©å­/hooksï¼Œå½“å®ƒä»¬ä»å¼•æ“ä¼ é€’åˆ°ä¸‹è½½å™¨æ—¶å¤„ç†è¯·æ±‚ï¼Œä»¥åŠä»ä¸‹è½½å™¨ä¼ é€’åˆ°å¼•æ“çš„å“åº”ï¼Œå¸¸ç”¨äºå¦‚ä¸‹æƒ…å†µï¼š åœ¨å°†è¯·æ±‚å‘é€åˆ°ä¸‹è½½å™¨ä¹‹å‰å¤„ç†è¯·æ±‚ï¼ˆå³åœ¨Scrapyå°†è¯·æ±‚å‘é€åˆ°ç½‘ç«™ä¹‹å‰ï¼‰; åœ¨å°†å…¶ä¼ é€’ç»™èœ˜è››ä¹‹å‰æ”¹å˜æ¥æ”¶åˆ°çš„å“åº”; å‘é€æ–°çš„è¯·æ±‚ï¼Œè€Œä¸æ˜¯å°†æ¥æ”¶åˆ°çš„å“åº”ä¼ é€’ç»™èœ˜è››; å‘èœ˜è››ä¼ é€’å“åº”è€Œä¸éœ€è¦è·å–ç½‘é¡µ; é»˜é»˜åœ°æ”¾ä¸‹ä¸€äº›è¯·æ±‚ã€‚ Spider middlewaresï¼šSpiderä¸­é—´ä»¶ï¼Œç‰¹å®šçš„é’©å­ï¼Œä½äºå¼•æ“å’Œèœ˜è››ä¹‹é—´ï¼Œèƒ½å¤Ÿå¤„ç†èœ˜è››è¾“å…¥ï¼ˆå“åº”ï¼‰å’Œè¾“å‡ºï¼ˆé¡¹ç›®å’Œè¯·æ±‚ï¼‰ï¼Œå¸¸ç”¨äºå¦‚ä¸‹æƒ…å†µï¼š spiderå›è°ƒçš„åå¤„ç†è¾“å‡º æ›´æ”¹/æ·»åŠ /åˆ é™¤è¯·æ±‚æˆ–items; åå¤„ç†start_requests; å¤„ç†èœ˜è››å¼‚å¸¸; æ ¹æ®å“åº”å†…å®¹ä¸ºä¸€äº›è¯·æ±‚è°ƒç”¨errbackè€Œä¸æ˜¯callbackã€‚ Event-driven networkingï¼šäº‹ä»¶é©±åŠ¨çš„ç½‘ç»œï¼ŒScrapyæ˜¯ç”¨Twistedç¼–å†™çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªæµè¡Œçš„äº‹ä»¶é©±åŠ¨çš„Pythonç½‘ç»œæ¡†æ¶ã€‚ å› æ­¤ï¼Œå®ƒä½¿ç”¨éé˜»å¡ï¼ˆåˆç§°å¼‚æ­¥ï¼‰ä»£ç æ¥å®ç°å¹¶å‘ã€‚ Twisted is an event-driven networking engine written in Python and licensed under the open source â€‹MIT license. æ•°æ®æµï¼ˆData flowï¼‰Scrapyä¸­çš„æ•°æ®æµç”±æ‰§è¡Œå¼•æ“æ§åˆ¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å¼•æ“è·å–æœ€åˆçš„è¯·æ±‚ä»èœ˜è››æŠ“å–ï¼ˆstart_urlsï¼‰ã€‚ å¼•æ“åœ¨è°ƒåº¦ç¨‹åºä¸­è°ƒåº¦è¯·æ±‚ï¼Œå¹¶è¦æ±‚ä¸‹ä¸€ä¸ªè¯·æ±‚è¿›è¡Œé‡‡é›†ã€‚ è°ƒåº¦å™¨å°†ä¸‹ä¸€ä¸ªè¯·æ±‚è¿”å›ç»™å¼•æ“ã€‚ å¼•æ“å°†è¯·æ±‚å‘é€åˆ°ä¸‹è½½å™¨ï¼Œé€šè¿‡ä¸‹è½½å™¨ä¸­é—´ä»¶ã€‚ ä¸€æ—¦é¡µé¢å®Œæˆä¸‹è½½ï¼ŒDownloaderä¼šç”Ÿæˆä¸€ä¸ªå“åº”ï¼ˆåŒ…å«è¯¥é¡µé¢ï¼‰å¹¶å°†å…¶å‘é€åˆ°å¼•æ“ï¼Œå¹¶é€šè¿‡Downloader Middlewaresã€‚ å¼•æ“ä»Downloaderæ”¶åˆ°å“åº”å¹¶å°†å…¶å‘é€ç»™Spiderè¿›è¡Œå¤„ç†ï¼Œå¹¶é€šè¿‡Spider Middlewareä¼ é€’ã€‚ Spiderå¤„ç†å“åº”ï¼Œå¹¶é€šè¿‡Spiderä¸­é—´ä»¶å°†æŠ“å–çš„é¡¹ç›®å’Œæ–°çš„è¯·æ±‚ï¼ˆåç»­ï¼‰è¿”å›ç»™å¼•æ“ã€‚ å¼•æ“å°†å¤„ç†åçš„é¡¹ç›®å‘é€åˆ°é¡¹ç›®ç®¡é“ï¼Œç„¶åå°†å¤„ç†åçš„è¯·æ±‚å‘é€åˆ°è°ƒåº¦ç¨‹åºï¼Œå¹¶è¦æ±‚å¯èƒ½çš„ä¸‹ä¸€ä¸ªè¯·æ±‚è¿›è¡Œé‡‡é›†ã€‚ è¯¥è¿‡ç¨‹é‡å¤ï¼ˆä»ç¬¬1æ­¥å¼€å§‹ï¼‰ï¼Œç›´åˆ°è°ƒåº¦å™¨æ²¡æœ‰æ›´å¤šè¯·æ±‚ã€‚ æ‰¾åˆ°ä¸€å¼ å›¾ï¼Œä¾¿äºç†è§£ï¼š ç¬¬ä¸€æœŸå·®ä¸å¤šå°±åˆ°è¿™äº†ï¼Œæ²¡æœ‰è¯´å¾ˆå¤šä»£ç ï¼Œä¸»è¦æ˜¯å®è§‚ä¸Šæ¥è§‚å¯Ÿ Scrapy çš„æ¶æ„ï¼Œæ˜¯å¦‚ä½•è¿è¡Œã€‚ä¹‹åä¼šæ›´å¤šçš„æŸ¥çœ‹Scrapyçš„æºä»£ç ï¼Œå°±è¿‘æ˜¯å¦‚ä½•é‡‡é›†æ•°æ®çš„ã€‚ ï¼ˆå†…å¿ƒæœ‰ç‚¹å°ææ…Œï¼Œä¸çŸ¥é“ä¼šå†™æˆä»€ä¹ˆæ ·å­ã€‚ï¼‰ è¡¥å……å…³äºå¦‚ä½•é˜…è¯»é¡¹ç›®æºä»£ç ï¼Œæ‰¾åˆ°ä¸€ç¯‡ä¸é”™çš„æ–‡ç« ï¼Œå…±äº«ï¼šå¦‚ä½•é˜…è¯»å¼€æºé¡¹ç›® ä¸»è¦æ˜¯è¿™å‡ éƒ¨åˆ†ï¼š çœ‹ï¼šé™æ€å¯¹ä»£ç è¿›è¡Œåˆ†æï¼Œçœ‹ç›¸å…³èµ„æ–™ï¼Œä»£ç é€»è¾‘ã€‚ è·‘ï¼šå°†é¡¹ç›®åœ¨IDEé‡Œé¢è·‘èµ·æ¥ï¼Œé€šè¿‡IDEè°ƒè¯•å‚æ•°ï¼ŒåŠ Logç­‰ã€‚ æŸ¥ï¼šé˜…è¯»è¿‡ç¨‹ä¸­è‚¯å®šä¼šé‡åˆ°ä¸æ‡‚çš„ï¼Œè¿™æ—¶å€™éœ€è¦é€šè¿‡æœç´¢å¼•æ“æ¥è§£å†³ä½ çš„ç–‘æƒ‘ã€‚ å›é¡¾ï¼š Scrapyæºç ï¼ˆ1ï¼‰â€”â€”çˆ¬è™«æµç¨‹æ¦‚è§ˆ Scrapyæºç ï¼ˆ2ï¼‰â€”â€”çˆ¬è™«å¼€å§‹çš„åœ°æ–¹","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://zhangslob.github.io/tags/Scrapy/"}]},{"title":"PEP8è§„åˆ™åŠPycharmåº”ç”¨","date":"2018-02-08T13:06:23.000Z","path":"2018/02/08/PEP8è§„åˆ™åŠPycharmåº”ç”¨/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åä¸€ç¯‡åŸåˆ›æ–‡ç«  å­¦ä¹ ä¸‹ Pythonå¢å¼ºå»ºè®®ä¹¦ (à¹‘â€¢ . â€¢à¹‘) PEP8 PEPæ˜¯ Python Enhancement Proposal çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ Pythonå¢å¼ºå»ºè®®ä¹¦ PEP8 æ˜¯ä»€ä¹ˆå‘¢ï¼Œç®€å•è¯´å°±æ˜¯ä¸€ç§ç¼–ç è§„èŒƒï¼Œæ˜¯ä¸ºäº†è®©ä»£ç â€œæ›´å¥½çœ‹â€ï¼Œæ›´å®¹æ˜“è¢«é˜…è¯»ã€‚ å…·ä½“æœ‰è¿™äº›è§„èŒƒï¼Œå‚è€ƒ PEP 8 â€“ Style Guide for Python Code For example 1234567891011121314151617181920Yes: import os import sysNo: import sys, osYes:i = i + 1submitted += 1x = x*2 - 1hypot2 = x*x + y*yc = (a+b) * (a-b)No:i=i+1submitted +=1x = x * 2 - 1hypot2 = x * x + y * yc = (a + b) * (a - b) å¯¹äºåˆå­¦è€…ï¼ˆä¾‹å¦‚æˆ‘ï¼‰æ¥è¯´ï¼Œè¿™äº›æ ‡å‡†å¤ªå¤šï¼Œåœ¨å®é™…codingä¸­å¯èƒ½å¾ˆéš¾è®°ä½æ‰€æœ‰çš„ã€‚ä¹‹å‰æ‹›è˜çˆ¬è™«å·¥ç¨‹å¸ˆï¼Œä¼šPEP8ä¹Ÿä¼šåŠ åˆ†ï¼Œæ‰€ä»¥å­¦ä¹ ä¸‹PEP8è¿˜æ˜¯æœ‰å¸®åŠ©çš„ã€‚ Pycharm è®¾ç½®PyCharm é…ç½® PEP 8 ä»£ç æç¤º ç›´æ¥åœ¨å³ä¸‹è§’è°ƒæ•´ Highlighting Level ä¸º Inspections å°±èƒ½è‡ªåŠ¨ PEP 8æç¤º (ä¸€èˆ¬é»˜è®¤å°±æ˜¯è¿™ä¸ª) For example é¼ æ ‡ç§»åˆ°ä¸Šæ–¹ä¼šæç¤ºï¼š PEP 8: expected 2 blank lines, found 1ï¼Œæˆ‘ä»¬å†å¢åŠ ä¸€ä¸ªç©ºæ ¼å°±å¥½äº†ï¼Œä½ çš„ä»£ç ä¸­æœ‰ä»»ä½•ä¸ç¬¦åˆ PEP8 è§„èŒƒçš„åœ°æ–¹éƒ½ä¼šæœ‰â€œ~â€æç¤º è¿™æ˜¯ä¸€ä¸ªå›°æ‰°äº†æˆ‘å¾ˆä¹…çš„é—®é¢˜ï¼Œæˆ‘ä¸€ç›´ä¸çŸ¥é“æ˜¯å“ªé‡Œå‡ºäº†é”™ï¼Œçœ‹è‹±æ–‡ä¹Ÿä¸æ‡‚ï¼Œæœ€åå»Googleæ‰çŸ¥é“ï¼Œåˆ›å»ºå­—å…¸çš„å†™æ³•ä¸è§„èŒƒï¼Œåº”è¯¥è¿™æ ·å†™ï¼š item = dict() å…¶ä»–å·¥å…·é™¤äº†Pycharmï¼Œè¿˜æœ‰å…¶ä»–å·¥å…·å¯ä»¥æç¤º Google å¼€æºçš„ Python æ–‡ä»¶æ ¼å¼åŒ–å·¥å…·ï¼šgithub.com/google/yapf pyflakes, pylint ç­‰å·¥å…·åŠå„ç§ç¼–è¾‘å™¨çš„æ’ä»¶ æ­£æ–‡å¥½å§ï¼Œè¿™é‡Œæ‰æ˜¯æ­£æ–‡ï¼Œæ­£ç¡®çš„è§„èŒƒå¦‚ä¸‹ï¼š ç¼©è¿› ä¸è¦ä½¿ç”¨ tab ç¼©è¿› ä½¿ç”¨ä»»ä½•ç¼–è¾‘å™¨å†™ Pythonï¼Œè¯·æŠŠä¸€ä¸ª tab å±•å¼€ä¸º 4 ä¸ªç©ºæ ¼ ç»å¯¹ä¸è¦æ··ç”¨ tab å’Œç©ºæ ¼ï¼Œå¦åˆ™å®¹æ˜“å‡ºç° IndentationError ç©ºæ ¼ åœ¨ list, dict, tuple, set, å‚æ•°åˆ—è¡¨çš„ , åé¢åŠ ä¸€ä¸ªç©ºæ ¼ åœ¨ dict çš„ : åé¢åŠ ä¸€ä¸ªç©ºæ ¼ åœ¨æ³¨é‡Šç¬¦å· # åé¢åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œä½†æ˜¯ #!/usr/bin/python çš„ # åä¸èƒ½æœ‰ç©ºæ ¼ æ“ä½œç¬¦ä¸¤ç«¯åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå¦‚ +, -, *, /, |, &amp;, = æ¥ä¸Šä¸€æ¡ï¼Œåœ¨å‚æ•°åˆ—è¡¨é‡Œçš„ = ä¸¤ç«¯ä¸éœ€è¦ç©ºæ ¼ æ‹¬å·ï¼ˆ(), {}, []ï¼‰å†…çš„ä¸¤ç«¯ä¸éœ€è¦ç©ºæ ¼ ç©ºè¡Œ function å’Œ class é¡¶ä¸Šä¸¤ä¸ªç©ºè¡Œ class çš„ method ä¹‹é—´ä¸€ä¸ªç©ºè¡Œ å‡½æ•°å†…é€»è¾‘æ— å…³çš„æ®µè½ä¹‹é—´ç©ºä¸€è¡Œï¼Œä¸è¦è¿‡åº¦ä½¿ç”¨ç©ºè¡Œ ä¸è¦æŠŠå¤šä¸ªè¯­å¥å†™åœ¨ä¸€è¡Œï¼Œç„¶åç”¨ ; éš”å¼€ if/for/while è¯­å¥ä¸­ï¼Œå³ä½¿æ‰§è¡Œè¯­å¥åªæœ‰ä¸€å¥ï¼Œä¹Ÿè¦å¦èµ·ä¸€è¡Œ æ¢è¡Œ æ¯ä¸€è¡Œä»£ç æ§åˆ¶åœ¨ 80 å­—ç¬¦ä»¥å†… ä½¿ç”¨ \\ æˆ– () æ§åˆ¶æ¢è¡Œï¼Œä¸¾ä¾‹ï¼š12345678def foo(first, second, third, fourth, fifth, sixth, and_some_other_very_long_param): user = User.objects.filter_by(first=first, second=second, third=third) \\ .skip(100).limit(100) \\ .all()text = ('Long strings can be made up ' 'of several shorter strings.') å‘½å ä½¿ç”¨æœ‰æ„ä¹‰çš„ï¼Œè‹±æ–‡å•è¯æˆ–è¯ç»„ï¼Œç»å¯¹ä¸è¦ä½¿ç”¨æ±‰è¯­æ‹¼éŸ³ package/module åä¸­ä¸è¦å‡ºç° - å„ç§ç±»å‹çš„å‘½åè§„èŒƒï¼š import æ‰€æœ‰ import å°½é‡æ”¾åœ¨æ–‡ä»¶å¼€å¤´ï¼Œåœ¨ docstring ä¸‹é¢ï¼Œå…¶ä»–å˜é‡å®šä¹‰çš„ä¸Šé¢ ä¸è¦ä½¿ç”¨ from foo imort * import éœ€è¦åˆ†ç»„ï¼Œæ¯ç»„ä¹‹é—´ä¸€ä¸ªç©ºè¡Œï¼Œæ¯ä¸ªåˆ†ç»„å†…çš„é¡ºåºå°½é‡é‡‡ç”¨å­—å…¸åºï¼Œåˆ†ç»„é¡ºåºæ˜¯ï¼š æ ‡å‡†åº“ ç¬¬ä¸‰æ–¹åº“ æœ¬é¡¹ç›®çš„ package å’Œ module ä¸è¦ä½¿ç”¨éšå¼çš„ç›¸å¯¹å¯¼å…¥ï¼ˆimplicit relative importsï¼‰ï¼Œå¯æ˜¯ä½¿ç”¨æ˜¾ç¤ºçš„ç›¸å¯¹å¯¼å…¥ï¼ˆexplicit relative importsï¼‰ï¼Œå¦‚ from ..utils import parseï¼Œæœ€å¥½ä½¿ç”¨å…¨è·¯å¾„å¯¼å…¥ï¼ˆabsolute importsï¼‰ å¯¹äºä¸åŒçš„ packageï¼Œä¸€ä¸ª import å•ç‹¬ä¸€è¡Œï¼ŒåŒä¸€ä¸ª package/module ä¸‹çš„å†…å®¹å¯ä»¥å†™ä¸€èµ·ï¼š 12345678910# badimport sys, os, time# goodimport osimport sysimport time# okfrom flask import Flask, render_template, jsonify ä¸ºäº†é¿å…å¯èƒ½å‡ºç°çš„å‘½åå†²çªï¼Œå¯ä»¥ä½¿ç”¨ as æˆ–å¯¼å…¥ä¸Šä¸€çº§å‘½åç©ºé—´ ä¸è¦å‡ºç°å¾ªç¯å¯¼å…¥(cyclic import) æ³¨é‡Š æ–‡æ¡£å­—ç¬¦ä¸² docstring, æ˜¯ package, module, class, method, function çº§åˆ«çš„æ³¨é‡Šï¼Œå¯ä»¥é€šè¿‡ doc æˆå‘˜è®¿é—®åˆ°ï¼Œæ³¨é‡Šå†…å®¹åœ¨ä¸€å¯¹ â€œâ€â€ ç¬¦å·ä¹‹é—´ function, method çš„æ–‡æ¡£å­—ç¬¦ä¸²åº”å½“æè¿°å…¶åŠŸèƒ½ã€è¾“å…¥å‚æ•°ã€è¿”å›å€¼ï¼Œå¦‚æœæœ‰å¤æ‚çš„ç®—æ³•å’Œå®ç°ï¼Œä¹Ÿéœ€è¦å†™æ¸…æ¥š ä¸è¦å†™é”™è¯¯çš„æ³¨é‡Šï¼Œä¸è¦æ— è°“çš„æ³¨é‡Š 12345# bad æ— è°“çš„æ³¨é‡Šx = x + 1 # increase x by 1# bad é”™è¯¯çš„æ³¨é‡Šx = x - 1 # increase x by 1 ä¼˜å…ˆä½¿ç”¨è‹±æ–‡å†™æ³¨é‡Šï¼Œè‹±æ–‡ä¸å¥½å…¨éƒ¨å†™ä¸­æ–‡ï¼Œå¦åˆ™æ›´åŠ çœ‹ä¸æ‡‚ å¼‚å¸¸ ä¸è¦è½»æ˜“ä½¿ç”¨ try/except except åé¢éœ€è¦æŒ‡å®šæ•æ‰çš„å¼‚å¸¸ï¼Œè£¸éœ²çš„ except ä¼šæ•æ‰æ‰€æœ‰å¼‚å¸¸ï¼Œæ„å‘³ç€ä¼šéšè—æ½œåœ¨çš„é—®é¢˜ å¯ä»¥æœ‰å¤šä¸ª except è¯­å¥ï¼Œæ•æ‰å¤šç§å¼‚å¸¸ï¼Œåˆ†åˆ«åšå¼‚å¸¸å¤„ç† ä½¿ç”¨ finally å­å¥æ¥å¤„ç†ä¸€äº›æ”¶å°¾æ“ä½œ try/except é‡Œçš„å†…å®¹ä¸è¦å¤ªå¤šï¼Œåªåœ¨å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„åœ°æ–¹ä½¿ç”¨ï¼Œå¦‚ï¼š 123456789101112131415161718192021222324252627282930# badtry: user = User() user.name = \"leon\" user.age = int(age) # å¯èƒ½æŠ›å‡ºå¼‚å¸¸ user.created_at = datetime.datetime.utcnow() db.session.add(user) db.session.commit() # å¯èƒ½æŠ›å‡ºå¼‚å¸¸except: db.session.rollback()# bettertry: age = int(age)except (TypeError, ValueError): return # æˆ–åˆ«çš„æ“ä½œuser = User()user.name = \"leon\"user.age = ageuser.created_at = datetime.datetime.utcnow()db.session.add(user)try: db.session.commit()except sqlalchemy.exc.SQLAlchemyError: # æˆ–è€…æ›´å…·ä½“çš„å¼‚å¸¸ db.session.rollback()finally: db.session.close() ä» Exception è€Œä¸æ˜¯ BaseException ç»§æ‰¿è‡ªå®šä¹‰çš„å¼‚å¸¸ç±» Classï¼ˆç±»ï¼‰ æ˜¾ç¤ºçš„å†™æ˜çˆ¶ç±»ï¼Œå¦‚æœä¸æ˜¯ç»§æ‰¿è‡ªåˆ«çš„ç±»ï¼Œå°±ç»§æ‰¿è‡ª object ç±» ä½¿ç”¨ super è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³• æ”¯æŒå¤šç»§æ‰¿ï¼Œå³åŒæ—¶æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œå»ºè®®ä½¿ç”¨ Mixin ç¼–ç å»ºè®® å­—ç¬¦ä¸² ä½¿ç”¨å­—ç¬¦ä¸²çš„ join æ–¹æ³•æ‹¼æ¥å­—ç¬¦ä¸² ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯ string æ¨¡å—çš„æ–¹æ³• ä½¿ç”¨ startswith å’Œ endswith æ–¹æ³•æ¯”è¾ƒå‰ç¼€å’Œåç¼€ ä½¿ç”¨ format æ–¹æ³•æ ¼å¼åŒ–å­—ç¬¦ä¸² æ¯”è¾ƒ ç©ºçš„ list, str, tuple, set, dict å’Œ 0, 0.0, None éƒ½æ˜¯ False ä½¿ç”¨ if some_list è€Œä¸æ˜¯ if len(some_list) åˆ¤æ–­æŸä¸ª list æ˜¯å¦ä¸ºç©ºï¼Œå…¶ä»–ç±»å‹åŒç† ä½¿ç”¨ is å’Œ is not ä¸å•ä¾‹ï¼ˆå¦‚ Noneï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œè€Œä¸æ˜¯ç”¨ == å’Œ != ä½¿ç”¨ if a is not None è€Œä¸æ˜¯ if not a is None ç”¨ isinstance è€Œä¸æ˜¯ type åˆ¤æ–­ç±»å‹ ä¸è¦ç”¨ == å’Œ != ä¸ True å’Œ False æ¯”è¾ƒï¼ˆé™¤éæœ‰ç‰¹æ®Šæƒ…å†µï¼Œå¦‚åœ¨ sqlalchemy ä¸­å¯èƒ½ç”¨åˆ°ï¼‰ ä½¿ç”¨ in æ“ä½œï¼š ç”¨ key in dict è€Œä¸æ˜¯ dict.has_key() 1234567# badif d.has_key(k): do_something()# goodif k in d: do_something() 2.ç”¨ set åŠ é€Ÿ â€œå­˜åœ¨æ€§â€ æ£€æŸ¥ï¼Œlist çš„æŸ¥æ‰¾æ˜¯çº¿æ€§çš„ï¼Œå¤æ‚åº¦ O(n)ï¼Œset åº•å±‚æ˜¯ hash table, å¤æ‚åº¦ O(1)ï¼Œä½†ç”¨ set éœ€è¦æ¯” list æ›´å¤šå†…å­˜ç©ºé—´ å…¶ä»– ä½¿ç”¨åˆ—è¡¨è¡¨è¾¾å¼ï¼ˆlist comprehensionï¼‰ï¼Œå­—å…¸è¡¨è¾¾å¼(dict comprehension, Python 2.7+) å’Œç”Ÿæˆå™¨(generator) dict çš„ get æ–¹æ³•å¯ä»¥æŒ‡å®šé»˜è®¤å€¼ï¼Œä½†æœ‰äº›æ—¶å€™åº”è¯¥ç”¨ [] æ“ä½œï¼Œä½¿å¾—å¯ä»¥æŠ›å‡º KeyError ä½¿ç”¨ for item in list è¿­ä»£ list, for index, item in enumerate(list) è¿­ä»£ list å¹¶è·å–ä¸‹æ ‡ ä½¿ç”¨å†…å»ºå‡½æ•° sorted å’Œ list.sort è¿›è¡Œæ’åº é€‚é‡ä½¿ç”¨ map, reduce, filter å’Œ lambdaï¼Œä½¿ç”¨å†…å»ºçš„ all, any å¤„ç†å¤šä¸ªæ¡ä»¶çš„åˆ¤æ–­ ä½¿ç”¨ defaultdict (Python 2.5+), Counter(Python 2.7+) ç­‰ â€œå†·é—¨â€ ä½†å¥½ç”¨çš„æ ‡å‡†åº“ç®—æ³•å’Œæ•°æ®ç»“æ„ ä½¿ç”¨è£…é¥°å™¨(decorator) ä½¿ç”¨ with è¯­å¥å¤„ç†ä¸Šä¸‹æ–‡ æœ‰äº›æ—¶å€™ä¸è¦å¯¹ç±»å‹åšå¤ªè¿‡ä¸¥æ ¼çš„é™åˆ¶ï¼Œåˆ©ç”¨ Python çš„é¸­å­ç±»å‹ï¼ˆDuck Typeï¼‰ç‰¹æ€§ ä½¿ç”¨ logging è®°å½•æ—¥å¿—ï¼Œé…ç½®å¥½æ ¼å¼å’Œçº§åˆ« äº†è§£ Python çš„ Magic Methodï¼šA Guide to Pythonâ€™s Magic Methods, Python é­”æœ¯æ–¹æ³•æŒ‡å— é˜…è¯»ä¼˜ç§€çš„å¼€æºä»£ç ï¼Œå¦‚ Flask æ¡†æ¶, Requests for Humans ä¸è¦é‡å¤é€ è½®å­ï¼ŒæŸ¥çœ‹æ ‡å‡†åº“ã€PyPiã€Githubã€Google ç­‰ä½¿ç”¨ç°æœ‰çš„ä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆ åæ€å†™ç¨‹åºçš„å¥½ä¹ æƒ¯åœ¨äºç†è§£ã€åšæŒï¼Œç„¶åå°±æ˜¯è¿ç”¨è‡ªå¦‚ï¼","tags":[{"name":"PEP8","slug":"PEP8","permalink":"https://zhangslob.github.io/tags/PEP8/"},{"name":"Pycharm","slug":"Pycharm","permalink":"https://zhangslob.github.io/tags/Pycharm/"}]},{"title":"å­¦ç‚¹ç®—æ³•ä¹‹æ ˆçš„å­¦ä¹ ä¸åº”ç”¨","date":"2018-02-05T14:08:13.000Z","path":"2018/02/05/å­¦ç‚¹ç®—æ³•ä¹‹æ ˆçš„å­¦ä¹ ä¸åº”ç”¨/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰åç¯‡åŸåˆ›æ–‡ç«  åœ¨å­¦ä¹ æ ˆå‰ï¼Œè„‘æµ·ä¸­å¯¹è¿™ä¸ªè¯åªæœ‰ä¸€ä¸ªå°è±¡ï¼šå®¢æ ˆ (à¹‘â€¢ . â€¢à¹‘) æ ˆæ˜¯ä»€ä¹ˆæ ˆï¼ˆæœ‰æ—¶ç§°ä¸ºâ€œåè¿›å…ˆå‡ºæ ˆâ€ï¼‰æ˜¯ä¸€ä¸ªé¡¹çš„æœ‰åºé›†åˆï¼Œå…¶ä¸­æ·»åŠ ç§»é™¤æ–°é¡¹æ€»å‘ç”Ÿåœ¨åŒä¸€ç«¯ã€‚ è¿™æ®µè¯åˆå­¦è€…æ˜¯æ‡µé€¼çš„ï¼Œåˆ«æ€¥ï¼Œå¾€ä¸‹çœ‹ã€‚ å¯¹æ ˆçš„ä¸€èˆ¬æ“ä½œï¼š Stack() åˆ›å»ºä¸€ä¸ªç©ºçš„æ–°æ ˆã€‚ å®ƒä¸éœ€è¦å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç©ºæ ˆã€‚ push(item)å°†ä¸€ä¸ªæ–°é¡¹æ·»åŠ åˆ°æ ˆçš„é¡¶éƒ¨ã€‚å®ƒéœ€è¦ item åšå‚æ•°å¹¶ä¸è¿”å›ä»»ä½•å†…å®¹ã€‚ pop() ä»æ ˆä¸­åˆ é™¤é¡¶éƒ¨é¡¹ã€‚å®ƒä¸éœ€è¦å‚æ•°å¹¶è¿”å› item ã€‚æ ˆè¢«ä¿®æ”¹ã€‚ peek() ä»æ ˆè¿”å›é¡¶éƒ¨é¡¹ï¼Œä½†ä¸ä¼šåˆ é™¤å®ƒã€‚ä¸éœ€è¦å‚æ•°ã€‚ ä¸ä¿®æ”¹æ ˆã€‚ isEmpty() æµ‹è¯•æ ˆæ˜¯å¦ä¸ºç©ºã€‚ä¸éœ€è¦å‚æ•°ï¼Œå¹¶è¿”å›å¸ƒå°”å€¼ã€‚ size() è¿”å›æ ˆä¸­çš„ item æ•°é‡ã€‚ä¸éœ€è¦å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚ ä¾‹å¦‚ï¼Œs æ˜¯å·²ç»åˆ›å»ºçš„ç©ºæ ˆï¼Œä¸‹å›¾å±•ç¤ºäº†æ ˆæ“ä½œåºåˆ—çš„ç»“æœã€‚æ ˆä¸­ï¼Œé¡¶éƒ¨é¡¹åˆ—åœ¨æœ€å³è¾¹ã€‚ è‡ªå·±åœ¨å¿ƒé‡Œè¿‡ä¸€éå°±å¾ˆå¥½ç†è§£äº† Pythonå®ç°æ ˆå…¶å®çœ‹åˆ°ä¸Šé¢é‚£å¼ å›¾ï¼Œå°±æƒ³èµ·äº†Pythonä¸­ list çš„ä¸€äº›ç”¨æ³•ï¼Œappendã€popç­‰ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ Python æ¥å®ç°æ ˆï¼Œä¹Ÿéå¸¸ç®€å•ï¼š 123456789101112131415161718class Stack: def __init__(self): self.items = [] def isEmpty(self): return self.items == [] def push(self, item): self.items.append(item) def pop(self): return self.items.pop() def peek(self): return self.items[len(self.items)-1] def size(self): return len(self.items) pythonds/basic/stack.py æ ˆçš„åº”ç”¨ï¼šç®€å•æ‹¬å·åŒ¹é…ï¼ˆä¸€ï¼‰æœ‰ä¸€äº›æ­£ç¡®åŒ¹é…çš„æ‹¬å·å­—ç¬¦ä¸²ï¼š 12345(()()()())(((())))(()((())())) å¯¹æ¯”é‚£äº›ä¸åŒ¹é…çš„æ‹¬å·ï¼š12345((((((())()))(()()(() å…·æœ‰æŒ‘æˆ˜çš„æ˜¯å¦‚ä½•ç¼–å†™ä¸€ä¸ªç®—æ³•ï¼Œèƒ½å¤Ÿä»å·¦åˆ°å³è¯»å–ä¸€ä¸²ç¬¦å·ï¼Œå¹¶å†³å®šç¬¦å·æ˜¯å¦å¹³è¡¡ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªé‡è¦çš„è§‚å¯Ÿã€‚ä»å·¦åˆ°å³å¤„ç†ç¬¦å·æ—¶ï¼Œæœ€è¿‘å¼€å§‹ç¬¦å·å¿…é¡»ä¸ä¸‹ä¸€ä¸ªå…³é—­ç¬¦å·ç›¸åŒ¹é…ã€‚æ­¤å¤–ï¼Œå¤„ç†çš„ç¬¬ä¸€ä¸ªå¼€å§‹ç¬¦å·å¿…é¡»ç­‰å¾…ç›´åˆ°å…¶åŒ¹é…æœ€åä¸€ä¸ªç¬¦å·ã€‚ç»“æŸç¬¦å·ä»¥ç›¸åçš„é¡ºåºåŒ¹é…å¼€å§‹ç¬¦å·ã€‚ä»–ä»¬ä»å†…åˆ°å¤–åŒ¹é…ã€‚è¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨æ ˆè§£å†³é—®é¢˜çš„çº¿ç´¢ã€‚ 12345678910111213141516171819202122232425from pythonds.basic.stack import Stackdef parChecker(symbolString): s = Stack() balanced = True index = 0 while index &lt; len(symbolString) and balanced: symbol = symbolString[index] if symbol == \"(\": s.push(symbol) else: if s.isEmpty(): balanced = False else: s.pop() index = index + 1 if balanced and s.isEmpty(): return True else: return Falseprint(parChecker('((()))'))print(parChecker('(()')) output12TrueFalse ä¸€æ—¦ä½ è®¤ä¸ºæ ˆæ˜¯ä¿å­˜æ‹¬å·çš„æ°å½“çš„æ•°æ®ç»“æ„ï¼Œç®—æ³•æ˜¯å¾ˆç›´æ¥çš„ã€‚ ä»ç©ºæ ˆå¼€å§‹ï¼Œä»å·¦åˆ°å³å¤„ç†æ‹¬å·å­—ç¬¦ä¸²ã€‚å¦‚æœä¸€ä¸ªç¬¦å·æ˜¯ä¸€ä¸ªå¼€å§‹ç¬¦å·ï¼Œå°†å…¶ä½œä¸ºä¸€ä¸ªä¿¡å·ï¼Œå¯¹åº”çš„ç»“æŸç¬¦å·ç¨åä¼šå‡ºç°ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœç¬¦å·æ˜¯ç»“æŸç¬¦å·ï¼Œå¼¹å‡ºæ ˆï¼Œåªè¦å¼¹å‡ºæ ˆçš„å¼€å§‹ç¬¦å·å¯ä»¥åŒ¹é…æ¯ä¸ªç»“æŸç¬¦å·ï¼Œåˆ™æ‹¬å·ä¿æŒåŒ¹é…çŠ¶æ€ã€‚å¦‚æœä»»ä½•æ—¶å€™æ ˆä¸Šæ²¡æœ‰å‡ºç°ç¬¦åˆå¼€å§‹ç¬¦å·çš„ç»“æŸç¬¦å·ï¼Œåˆ™å­—ç¬¦ä¸²ä¸åŒ¹é…ã€‚æœ€åï¼Œå½“æ‰€æœ‰ç¬¦å·éƒ½è¢«å¤„ç†åï¼Œæ ˆåº”è¯¥æ˜¯ç©ºçš„ã€‚ å¦‚æœæœ‰å’Œæˆ‘ä¸€æ ·ä¸èƒ½å¾ˆå¥½ç†è§£çš„ï¼Œä½¿ç”¨pycharmçš„debugæ¨¡å¼ï¼Œå¯ä»¥ä¸€æ­¥æ­¥æ¥ï¼Œçœ‹çœ‹ç¨‹åºå°±è¿‘åœ¨åšä»€ä¹ˆã€‚ æ‹¬å·é…å¯¹é—®é¢˜ï¼ˆäºŒï¼‰æ¥çœ‹çœ‹ç¬¬äºŒç§åŒ¹é…é—®é¢˜ã€‚Pythonç¨‹åºé‡Œå­˜åœ¨å¾ˆå¤šæ‹¬å·ï¼šå¦‚åœ†æ‹¬å·ã€æ–¹æ‹¬å·å’ŒèŠ±æ‹¬å·ï¼Œæ¯ç§æ‹¬å·éƒ½æœ‰å¼€æ‹¬å·å’Œé—­æ‹¬å·ã€‚ 123456789101112131415161718192021222324252627282930from pythonds.basic.stack import Stackpares = \"()[]&#123;&#125;\"def pare_theses(text): i, text_len = 0, len(text) while True: while i &lt; text_len and text[i] not in pares: i += 1 if i &gt;= text_len: return yield text[i], i i += 1def check_pares(text): open_pares = \"([&#123;\" opposite = &#123;')': '(', ']': '[', '&#125;': '&#123;'&#125; # è¡¨ç¤ºé…å¯¹å…³ç³»çš„å­—å…¸ s = Stack() for pr, i in pare_theses(text): if pr in open_pares: # å¼€æ‹¬å·ï¼Œå‹è¿›æ ˆå¹¶ç»§ç»­ s.push(pr) elif s.pop() != opposite[pr]: # ä¸åŒ¹é…å°±æ˜¯å¤±è´¥ï¼Œé€€å‡º print('Unmatching is found at', i, 'for', pr) return False # else æ˜¯ä¸€æ¬¡æ‹¬å·é…å¯¹æˆåŠŸï¼Œä»€ä¹ˆä¹Ÿä¸åšï¼Œç»§ç»­ print(\"All paretheses are correctly matched.\") return Truecheck_pares('([]&#123;&#125;]')check_pares('([]&#123;&#125;)') output 12Unmatching is found at 5 for ]All paretheses are correctly matched. ç”Ÿæˆå™¨ï¼ˆå›å¿†ä¸€ä¸‹ï¼‰ï¼š ç”¨ yield è¯­å¥äº§ç”Ÿç»“æœ å¯ä»¥ç”¨åœ¨éœ€è¦è¿­ä»£å™¨çš„åœ°æ–¹ å‡½æ•°ç»“æŸå¯¼è‡´è¿­ä»£ç»“æŸ å‚è€ƒ http://interactivepython.org/runestone/static/pythonds/BasicDS/TheStackAbstractDataType.html http://www.math.pku.edu.cn/teachers/qiuzy/ds_python/courseware/index.htm","tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://zhangslob.github.io/tags/ç®—æ³•/"},{"name":"æ ˆ","slug":"æ ˆ","permalink":"https://zhangslob.github.io/tags/æ ˆ/"}]},{"title":"ä¸ºä»€ä¹ˆä¸æ¨èSeleniumå†™çˆ¬è™«","date":"2018-02-02T12:35:02.000Z","path":"2018/02/02/ä¸ºä»€ä¹ˆä¸æ¨èSeleniumå†™çˆ¬è™«/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåä¹ç¯‡åŸåˆ›æ–‡ç«  å¦‚æœå¯ä»¥ä½¿ç”¨ Requests å®Œæˆçš„ï¼Œåˆ«ç”¨ Selenium (à¹‘â€¢ . â€¢à¹‘) æœ€è¿‘åœ¨ç¾¤é‡Œç»å¸¸ä¼šçœ‹åˆ°æœ‰äº›æœ‹å‹è¯´ï¼Œä½¿ç”¨Seleniumå»é‡‡é›†ç½‘ç«™ï¼Œæˆ‘çœ‹åˆ°å…¶å®å†…å¿ƒæ˜¯å¾ˆéš¾å—çš„ï¼Œå“ï¼ä¸ºä»€ä¹ˆè¦ç”¨Seleniumå‘¢ï¼Ÿ æˆ‘æƒ³è¯´ä¸‹è‡ªå·±çš„çœ‹æ³•ï¼Œæ¬¢è¿å„ä½å¤§ä½¬æ‰¹è¯„ã€‚ è§‚ç‚¹å¦‚æœå¯ä»¥ä½¿ç”¨ Requests å®Œæˆçš„ï¼Œåˆ«ç”¨ Selenium æ•°æ®é‡‡é›†çš„é¡ºåºæ¥åˆ°ä¸€ä¸ªé¡¹ç›®æˆ–è€…æœ‰ä¸€ä¸ªé‡‡é›†éœ€æ±‚æ—¶ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯æ˜ç¡®è‡ªå·±çš„éœ€æ±‚ã€‚ç»å¸¸ä¼šé‡åˆ°åŠè·¯æ”¹éœ€æ±‚çš„äº‹æƒ…ï¼ŒçœŸçš„å¾ˆéš¾å—ã€‚ ç¬¬äºŒæ­¥å°±æ˜¯å»åˆ†æè¿™ä¸ªç½‘ç«™ï¼Œè¿™ä¸ªåœ¨ä¹‹å‰æœ‰æåˆ°è¿‡ é‡‡é›†æ–¹æ¡ˆç­–ç•¥ä¹‹AppæŠ“åŒ… : é¦–å…ˆå¤§çš„åœ°æ–¹ï¼Œæˆ‘ä»¬æƒ³æŠ“å–æŸä¸ªæ•°æ®æºï¼Œæˆ‘ä»¬è¦çŸ¥é“å¤§æ¦‚æœ‰å“ªäº›è·¯å¾„å¯ä»¥è·å–åˆ°æ•°æ®æºï¼ŒåŸºæœ¬ä¸Šæ— å¤–ä¹ä¸‰ç§ï¼šPCç«¯ç½‘ç«™é’ˆå¯¹ç§»åŠ¨è®¾å¤‡å“åº”å¼è®¾è®¡çš„ç½‘ç«™ï¼ˆä¹Ÿå°±æ˜¯å¾ˆå¤šäººè¯´çš„H5, è™½ç„¶ä¸ä¸€å®šæ˜¯H5ï¼‰ï¼›ç§»åŠ¨AppåŸåˆ™æ˜¯èƒ½æŠ“ç§»åŠ¨Appçš„ï¼Œæœ€å¥½æŠ“ç§»åŠ¨Appï¼Œå¦‚æœæœ‰é’ˆå¯¹ç§»åŠ¨è®¾å¤‡ä¼˜åŒ–çš„ç½‘ç«™ï¼Œå°±æŠ“é’ˆå¯¹ç§»åŠ¨è®¾å¤‡ä¼˜åŒ–çš„ç½‘ç«™ï¼Œæœ€åè€ƒè™‘PCç½‘ç«™ã€‚å› ä¸ºç§»åŠ¨AppåŸºæœ¬éƒ½æ˜¯APIå¾ˆç®€å•ï¼Œè€Œç§»åŠ¨è®¾å¤‡è®¿é—®ä¼˜åŒ–çš„ç½‘ç«™ä¸€èˆ¬æ¥è®²éƒ½æ˜¯ç»“æ„ç®€å•æ¸…æ™°çš„HTMLï¼Œè€ŒPCç½‘ç«™è‡ªç„¶æ˜¯æœ€å¤æ‚çš„äº†ï¼›é’ˆå¯¹PCç«¯ç½‘ç«™å’Œç§»åŠ¨ç½‘ç«™çš„åšæ³•ä¸€æ ·ï¼Œåˆ†ææ€è·¯å¯ä»¥ä¸€èµ·è®²ï¼Œç§»åŠ¨Appå•ç‹¬åˆ†æã€‚ è¿™ä¸ªæ—¶å€™å¯ä»¥å€Ÿç”¨ postman æ¥åˆ†æè¯·æ±‚ï¼Œå‚è€ƒ æˆ–è®¸ä½ åº”è¯¥å­¦å­¦ postman ç„¶åä¸‹ä¸€æ­¥å¯èƒ½å°±æ˜¯å·¥ç¨‹å¼€å§‹ï¼Œå„ç§é…ç½®ï¼Œä»¥åŠé€‰æ‹©å“ªç§é‡‡é›†æ–¹å¼ï¼Œä¸€èˆ¬æ¥è¯´ Scrapy æ˜¯æœ€å¥½ç”¨ã€ä¹Ÿæ˜¯æœ€å¸¸è§çš„æ¡†æ¶ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ requests + xpath æˆ–è€… Selenium ã€‚ä¸‹é¢å°±æˆ‘è‡ªå·±çš„çœ‹æ³•æ¥è¯´è¯´è¿™ä¸‰ç§é‡‡é›†æ–¹å¼ã€‚ ä¸‰ç§é‡‡é›†å·®å¼‚Scrapyåœ¨ Scrapy å®˜ç½‘ ä¸Šæ˜¯è¿™æ ·å†™çš„ï¼š Scrapy | A Fast and Powerful Scraping and Web Crawling Framework å…³é”®è¯æ˜¯ Fast å’Œ Powerfulï¼Œä½¿ç”¨è¿‡ç¡®å®æ„Ÿè§‰å¦‚æ­¤ã€‚æˆ‘æ„Ÿè§‰ Scrapy å°±æ˜¯ä¸€ä¸ªå…¨å®¶æ¡¶ï¼Œå®ƒæŠŠçˆ¬è™«æ‰€éœ€è¦çš„å¤§éƒ¨åˆ†ä¸œè¥¿ï¼ˆä¸ºä»€ä¹ˆä¸æ˜¯å…¨éƒ¨ï¼Œä¸‹é¢ä¼šè¯´åˆ°ï¼‰éƒ½é›†æˆåˆ°è¿™ä¸ªæ¡†æ¶ä¸­ï¼Œå¦‚ï¼šä¸‹è½½å™¨ã€ä¸­é—´ä»¶ã€è°ƒåº¦å™¨ã€Spiderã€è°ƒè¯•ã€æ•°æ®æµç­‰ç­‰æ‰€æœ‰åŠŸèƒ½å…¨éƒ¨éƒ½åœ¨è¿™ä¸€ä¸ªæ¡†æ¶ä¸­ï¼Œä½ æ‰€éœ€è¦åšçš„åªæ˜¯åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼šscrapy startproject yourproject Scrapy çš„ç¼ºç‚¹ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼šä¸æ”¯æŒåˆ†å¸ƒå¼ã€‚scrapyä¸­scheduleræ˜¯è¿è¡Œåœ¨é˜Ÿåˆ—ä¸­çš„ï¼Œè€Œé˜Ÿåˆ—æ˜¯åœ¨å•æœºå†…å­˜ä¸­çš„ï¼ŒæœåŠ¡å™¨ä¸Šçˆ¬è™«æ˜¯æ— æ³•åˆ©ç”¨å†…å­˜çš„é˜Ÿåˆ—åšä»»ä½•å¤„ç†ã€‚ä½†æ˜¯ä¹Ÿæœ‰è§£å†³åŠæ³•ï¼Œå‚è§rmax/scrapy-redis Requestsæ¥çœ‹çœ‹ Requestsçš„æ–‡æ¡£ Requests å”¯ä¸€çš„ä¸€ä¸ªéè½¬åŸºå› çš„ Python HTTP åº“ï¼Œäººç±»å¯ä»¥å®‰å…¨äº«ç”¨ã€‚ è­¦å‘Šï¼šéä¸“ä¸šä½¿ç”¨å…¶ä»– HTTP åº“ä¼šå¯¼è‡´å±é™©çš„å‰¯ä½œç”¨ï¼ŒåŒ…æ‹¬ï¼šå®‰å…¨ç¼ºé™·ç—‡ã€å†—ä½™ä»£ç ç—‡ã€é‡æ–°å‘æ˜è½®å­ç—‡ã€å•ƒæ–‡æ¡£ç—‡ã€æŠ‘éƒã€å¤´ç–¼ã€ç”šè‡³æ­»äº¡ã€‚ ä½œè€…çœŸå¹½é»˜ urllib2 VS requests 12345678910111213141516171819202122232425#!/usr/bin/env python# -*- coding: utf-8 -*-import urllib2gh_url = 'https://api.github.com'req = urllib2.Request(gh_url)password_manager = urllib2.HTTPPasswordMgrWithDefaultRealm()password_manager.add_password(None, gh_url, 'user', 'pass')auth_manager = urllib2.HTTPBasicAuthHandler(password_manager)opener = urllib2.build_opener(auth_manager)urllib2.install_opener(opener)handler = urllib2.urlopen(req)print handler.getcode()print handler.headers.getheader('content-type')# ------# 200# 'application/json' 12345678910111213#!/usr/bin/env python# -*- coding: utf-8 -*-import requestsr = requests.get('https://api.github.com', auth=('user', 'pass'))print r.status_codeprint r.headers['content-type']# ------# 200# 'application/json' ç®€å•å¯¹æ¯”å‘ç° requests çš„å¥½ç”¨ä¹‹å¤„äº†ï¼Œåˆšå¼€å§‹å­¦ä¹ çˆ¬è™«çš„æ—¶å€™ä¹Ÿæ˜¯ä» urllib å¼€å§‹ï¼Œå½“çœ‹åˆ° requests æœæ–­æŠ›å¼ƒï¼Œå°±åƒçœ‹åˆ° xpath æŠ›å¼ƒ bs4 ä¸€æ · æ‰€ä»¥å¦‚æœä½ æ˜¯åˆå­¦è€…ï¼Œé‚£ä¹ˆè¯·æ¯«ä¸çŠ¹è±«çš„é€‰æ‹© requests Seleniumæœ€åæ¥åˆ°ä»Šå¤©çš„ä¸»è§’ Seleniumï¼Œ é¦–å…ˆçœ‹çœ‹å®˜æ–¹æ€ä¹ˆè¯´ What is Selenium?Selenium automates browsers. Thatâ€™s it! What you do with that power is entirely up to you. Primarily, it is for automating web applications for testing purposes, but is certainly not limited to just that. Boring web-based administration tasks can (and should!) be automated as well. Selenium has the support of some of the largest browser vendors who have taken (or are taking) steps to make Selenium a native part of their browser. It is also the core technology in countless other browser automation tools, APIs and frameworks. é‡ç‚¹æ˜¯ï¼šit is for automating web applications for testing purposes, but is certainly not limited to just thatï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šå®ƒæ˜¯ç”¨äºè‡ªåŠ¨åŒ–Webåº”ç”¨ç¨‹åºçš„æµ‹è¯•ç›®çš„ï¼Œä½†è‚¯å®šä¸ä»…é™äºæ­¤ï¼Œç®€å•æ¥è¯´ï¼ŒSelenium æ˜¯webè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·é›†ï¼Œå¦‚æœä½ å»Googleä¸Šæœç´¢ Selenium ï¼Œå¤§å¤šç»“æœéƒ½æ˜¯ åˆ©ç”¨Selenium è‡ªåŠ¨åŒ–web æµ‹è¯•ç›¸å…³å†…å®¹ï¼Œæ¯”è¾ƒå‡ºåçš„æœ‰åšå®¢å›­çš„è™«å¸ˆï¼Œå†™çš„ä¸¤æœ¬ä¹¦ä¹Ÿéƒ½æ˜¯å…³äºè‡ªåŠ¨åŒ–æµ‹è¯•æ–¹é¢çš„ è‡³äºä¸ºå•¥çˆ¬è™«è¦ç”¨seleniumï¼Œæˆ‘åœ¨æŸäº›åšå®¢ä¸Šæ‰¾åˆ°æœ‰äººè¿™æ ·è¯´ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆè¯´ å¯¹äºä¸€èˆ¬ç½‘ç«™æ¥è¯´scrapyã€requestsã€beautifulsoupç­‰éƒ½å¯ä»¥çˆ¬å–ï¼Œä½†æ˜¯æœ‰äº›ä¿¡æ¯éœ€è¦æ‰§è¡Œjsæ‰èƒ½æ˜¾ç°ï¼Œè€Œä¸”ä½ è‚‰çœ¼æ‰€èƒ½çœ‹åˆ°çš„åŸºæœ¬éƒ½èƒ½çˆ¬å–ä¸‹æ¥ï¼Œåœ¨å­¦ä¹ ä¸­é‡åˆ°äº†ï¼Œå°±è®°å½•ä¸‹æ¥æ–¹ä¾¿ä»¥åæŸ¥çœ‹ã€‚ webdriveæ˜¯seleniumä¸­ä¸€ä¸ªå‡½æ•°ï¼š from selenium import webdriverdriver = webdriver.Chrome()driver.get(â€˜ç½‘å€â€™) å…¶ä¸­PhantomJSåŒæ—¶å¯ä»¥æ¢æˆChromeã€Firefoxã€Ieç­‰ç­‰ï¼Œä½†æ˜¯PhantomJSæ˜¯ä¸€ä¸ªæ— å¤´çš„æµè§ˆå™¨ï¼Œè¿è¡Œæ˜¯ä¸ä¼šè·³å‡ºç›¸åº”çš„æµè§ˆå™¨ï¼Œè¿è¡Œç›¸å¯¹æ•ˆç‡è¾ƒé«˜ã€‚åœ¨è°ƒè¯•ä¸­å¯ä»¥å…ˆæ¢æˆChromeï¼Œæ–¹ä¾¿è°ƒè¯•ï¼Œæœ€åå†æ¢æˆPhantomJSå³å¯ã€‚ ä¸‹é¢æ˜¯åæ§½æ—¶é—´ï¼Œè¯´ä¸€è¯´ Selenium çš„ç¼ºç‚¹ï¼š é€Ÿåº¦æ…¢ã€‚æ¯æ¬¡è¿è¡Œçˆ¬è™«éƒ½æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œè¿˜ä¼šåŠ è½½å›¾ç‰‡ã€JSç­‰ç­‰ä¸€å¤§å †ä¸œè¥¿ï¼› å ç”¨èµ„æºå¤ªå¤šã€‚æœ‰äººè¯´ï¼ŒæŠŠChromeæ¢æˆæ— å¤´æµè§ˆå™¨PhantomJSï¼ŒåŸç†éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æ‰“å¼€æµè§ˆå™¨ï¼Œè€Œä¸”å¾ˆå¤šç½‘ç«™ä¼šéªŒè¯å‚æ•°ï¼Œå¦‚æœå¯¹æ–¹çœ‹åˆ°ä½ æ˜¯ä»¥PhantomJSå»è®¿é—®ï¼Œä¼šBANæ‰ä½ çš„è¯·æ±‚ï¼Œç„¶åä½ åˆè¦è€ƒè™‘æ›´æ¢è¯·æ±‚å¤´çš„äº‹æƒ…ï¼Œäº‹æƒ…å¤æ‚ç¨‹åº¦ä¸çŸ¥é“å¤šäº†å¤šå°‘ï¼Œä¸ºå•¥å­¦Pythonï¼Ÿå› ä¸ºPythonç®€å•å•Šï¼Œå¦‚æœæœ‰æ›´å¿«ã€æ›´ç®€å•çš„åº“å¯ä»¥å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œä¸ºä»€ä¹ˆä¸å»ä½¿ç”¨å‘¢ï¼Ÿ å¯¹ç½‘ç»œçš„è¦æ±‚ä¼šæ›´é«˜ã€‚ Selenium åŠ è½½äº†å¾ˆå¤šå¯èƒ½å¯¹æ‚¨æ²¡æœ‰ä»·å€¼çš„è¡¥å……æ–‡ä»¶ï¼ˆå¦‚cssï¼Œjså’Œå›¾åƒæ–‡ä»¶ï¼‰ã€‚ ä¸ä»…ä»…è¯·æ±‚æ‚¨çœŸæ­£éœ€è¦çš„èµ„æºï¼ˆä½¿ç”¨å•ç‹¬çš„HTTPè¯·æ±‚ï¼‰ç›¸æ¯”ï¼Œè¿™å¯èƒ½ä¼šäº§ç”Ÿæ›´å¤šçš„æµé‡ã€‚ çˆ¬å–è§„æ¨¡ä¸èƒ½å¤ªå¤§ã€‚ä½ æœ‰çœ‹åˆ°å“ªå®¶å…¬å¸ç”¨Seleniumä½œä¸ºç”Ÿäº§ç¯å¢ƒå—ï¼Ÿ éš¾ã€‚å­¦ä¹ Seleniumçš„æˆæœ¬å¤ªé«˜ï¼Œåªæœ‰æˆ‘ä¸€ä¸ªäººè§‰å¾—Seleniumæ¯”Requestséš¾ä¸€ç™¾å€å—ï¼Ÿ æˆ‘èƒ½æƒ³åˆ°çš„å°±è¿™ä¹ˆå¤šäº†ï¼Œæ¬¢è¿å„ä½å¤§ä½¬è¡¥å……ã€‚æ‰€ä»¥ï¼Œå¦‚æœå¯ä»¥ä½¿ç”¨ Requests å®Œæˆçš„ï¼Œåˆ«ç”¨ Seleniumï¼ŒOKï¼Œæ´—è„‘å®Œæˆã€‚ ä¹‹å‰é¢è¯•çˆ¬è™«å·¥ç¨‹å¸ˆæœ‰ä¸€é¢˜å°±æ˜¯ï¼šå¦‚ä½•å¤„ç†ç½‘ç«™çš„ç™»å½•ç³»ç»Ÿï¼Ÿ A.æµè§ˆå™¨æ¨¡æ‹Ÿ B.HTTPè¯·æ±‚ å¦‚æœä½ æƒ³åšæµ‹è¯•å·¥ç¨‹å¸ˆï¼Œé‚£è‚¯å®šéœ€è¦å­¦ä¼š Seleniumï¼Œå…¬å¸ä¸€ä¸ªå¦¹å­å°±æ˜¯æµ‹è¯•ï¼Œç°åœ¨å­¦äº† Seleniumï¼Œå·¥ä½œè½»æ¾äº†å¥½å¤šã€‚ æœ€åï¼Œæ— è€»çš„æ¥ä¸ªå¹¿å‘Šï¼Œæœ¬å…¬å¸æ‹›è˜çˆ¬è™«å·¥ç¨‹å¸ˆï¼Œå¸Œæœ›å’Œä½ æˆä¸ºé˜Ÿå‹!","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Selenium","slug":"Selenium","permalink":"https://zhangslob.github.io/tags/Selenium/"}]},{"title":"æˆ–è®¸ä½ åº”è¯¥å­¦å­¦ postman","date":"2018-01-31T14:59:36.000Z","path":"2018/01/31/æˆ–è®¸ä½ åº”è¯¥å­¦å­¦-postman/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåå…«ç¯‡åŸåˆ›æ–‡ç«  ç®€å•æ¨¡æ‹Ÿè¯·æ±‚çš„å·¥å…· (à¹‘â€¢ . â€¢à¹‘) ä½¿ç”¨æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­å¤åˆ¶ Copy as cURL ï¼Œç„¶åæŠŠæ•°æ®å¯¼å…¥ postmanï¼Œç„¶å send ï¼Œæ”¶å·¥ã€‚ æˆ‘ä»¬è¿™é‡Œæ‹¿ çŸ¥ä¹é¦–é¡µ ä¸¾ä¾‹ åœ¨å¯¹åº”çš„è¯·æ±‚ä¸‹å¤åˆ¶ cURL æ‰“å¼€ postman ï¼Œ ç‚¹å‡»å·¦ä¸Šè§’çš„ Import ï¼Œ é€‰æ‹©Paste Raw Text ï¼Œæœ€å Importï¼Œç‚¹å‡» sendå‘é€è¯·æ±‚ å‘é€è¯·æ±‚ä¹‹åå°±å¯ä»¥æŸ¥çœ‹äº†ï¼Œå¦‚ä¸‹å›¾ï¼Œæ ‡ç®­å¤´çš„åœ°æ–¹å¯ä»¥æ‰“å¼€çœ‹æ›´å¤šã€‚æ¯”å¦‚å¯ä»¥é¢„è§ˆwebç•Œé¢ï¼ŒæŸ¥çœ‹ Headers ä¿¡æ¯ï¼ŒæŸ¥çœ‹çŠ¶æ€ï¼Œå¤åˆ¶ä»£ç ã€‚ åŒæ—¶å¯ä»¥æ‰“å¼€ Headers ï¼Œç”¨æ¥è°ƒè¯•ï¼Œå“ªäº›æ˜¯éœ€è¦çš„ï¼Œå“ªäº›ä¸éœ€è¦ æœ€æ–¹ä¾¿çš„ä¸€ç‚¹æ˜¯ï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆå¯¹åº”çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶å¤åˆ¶ï¼Œä¾‹å¦‚Pythonçš„requestsæ–¹æ³•ï¼š å¥½äº†ï¼Œåˆ°è¿™é‡Œ postman çš„ç®€å•åŠŸèƒ½å°±è¯´å®Œäº†ï¼Œä»–çš„å…¨éƒ¨åŠŸèƒ½å½“ç„¶ä¸æ­¢è¿™ä¸€ç‚¹ï¼Œæ›´å¤šçš„å°±å»çœ‹ æ–‡æ¡£å•¦ é—®é¢˜åœ¨æˆ‘çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå‘ç°äº† postman çš„ä¸€äº›é—®é¢˜ï¼Œå¦‚ï¼šå¯¼å…¥é”™è¯¯ï¼Œå‚æ•°é”™è¯¯ï¼Œè¯·æ±‚å¤±è¯¯ã€‚ å¯¼å…¥é”™è¯¯ä¾‹å¦‚çŸ¥ä¹è¿™ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬å¤åˆ¶çš„æ˜¯ Copy as cURL (cmd) ï¼Œå¯èƒ½ä½ ä¼šé‡åˆ°ä¸‹é¢çš„é”™è¯¯ è¿™ä¸ªæ—¶å€™é€‰ç”¨ Copy as cURL (bush) å°±å¥½äº†ï¼Œå…·ä½“åŸå› æ˜¯å•¥ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šã€‚æˆ‘åœ¨è¿™é‡Œæ‰¾åˆ°äº†åˆ«äººçš„æè¿° There is no difference between the two cURL command because there is a difference between â€ and â€˜. Refer : Use cURL to get the same results as a web browser å‚æ•°é”™è¯¯ä¸¾ä¸ªä¾‹å­ï¼Œä»Šå¤©åœ¨å¸®æœ‹å‹æŸ¥çœ‹ è¿™ä¸ªç½‘ç«™ çš„ç¿»é¡µï¼Œå¤åˆ¶ç”¨postmanæ‰“å¼€ï¼Œ copy cURL å†…å®¹æ˜¯ 1234567891011121314151617curl \"https://www.crunchbase.com/v4/data/entities/organizations/56e40f50-97c7-2a77-255d-1d97d5f30646/overrides?field_ids=^%^5B^%^22identifier^%^22,^%^22layout_id^%^22,^%^22facet_ids^%^22,^%^22title^%^22,^%^22short_description^%^22,^%^22is_locked^%^22^%^5D^&amp;card_ids=^%^5B^%^22investments_list^%^22^%^5D\" -H \"cookie: _ga=GA1.2.35962729.1517412509; _gid=GA1.2.2072770006.1517412509; _vdl=1; _hp2_ses_props.973801186=^%^7B^%^22ts^%^22^%^3A1517412512548^%^2C^%^22d^%^22^%^3A^%^22www.crunchbase.com^%^22^%^2C^%^22h^%^22^%^3A^%^22^%^2Fsearch^%^2Fprincipal.investors^%^22^%^7D; __qca=P0-1969245879-1517412512628; D_IID=1B7344D2-1C8F-3327-8607-D786306444AE; D_UID=208F925B-3D1C-3491-A532-C82375EE187D; D_ZID=497DB63C-5101-3F49-BE35-1752A80F8DDA; D_ZUID=D89FCBAA-BF79-340C-BF55-B860768D0993; D_HID=57B19D5F-5069-3A82-94CB-D42821D1CD10; D_SID=123.120.141.63:bXaeU41PWi5vyYIflFmiShQiK1qwq/nC4G9IljWo+6A; AMCVS_6B25357E519160E40A490D44^%^40AdobeOrg=1; wcsid=KZbgLoopx4WnyMOW3F6pZ0H92JEzMrBd; hblid=cfw6lOKzm4FpCUou3F6pZ0H92JE6rBWB; s_cc=true; AMCV_6B25357E519160E40A490D44^%^40AdobeOrg=1099438348^%^7CMCMID^%^7C05859477990281579603868663655860142263^%^7CMCAAMLH-1518017313^%^7C11^%^7CMCAAMB-1518017313^%^7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y^%^7CMCOPTOUT-1517419713s^%^7CNONE^%^7CMCAID^%^7CNONE^%^7CMCSYNCSOP^%^7C411-17570^%^7CvVersion^%^7C2.1.0; _okdetect=^%^7B^%^22token^%^22^%^3A^%^2215174125149410^%^22^%^2C^%^22proto^%^22^%^3A^%^22https^%^3A^%^22^%^2C^%^22host^%^22^%^3A^%^22www.crunchbase.com^%^22^%^7D; olfsk=olfsk8562990481377502; _okbk=cd4^%^3Dtrue^%^2Cvi5^%^3D0^%^2Cvi4^%^3D1517412515909^%^2Cvi3^%^3Dactive^%^2Cvi2^%^3Dfalse^%^2Cvi1^%^3Dfalse^%^2Ccd8^%^3Dchat^%^2Ccd6^%^3D0^%^2Ccd5^%^3Daway^%^2Ccd3^%^3Dfalse^%^2Ccd2^%^3D0^%^2Ccd1^%^3D0^%^2C; _ok=1554-355-10-6773; _hp2_props.973801186=^%^7B^%^22Logged^%^20In^%^22^%^3Afalse^%^2C^%^22Pro^%^22^%^3Afalse^%^7D; _hp2_id.973801186=^%^7B^%^22userId^%^22^%^3A^%^228805156096536097^%^22^%^2C^%^22pageviewId^%^22^%^3A^%^221700148784936413^%^22^%^2C^%^22sessionId^%^22^%^3A^%^225929107734453151^%^22^%^2C^%^22identity^%^22^%^3Anull^%^2C^%^22trackerVersion^%^22^%^3A^%^223.0^%^22^%^7D; _oklv=1517412548852^%^2CKZbgLoopx4WnyMOW3F6pZ0H92JEzMrBd; s_pers=^%^20s_nrgvo^%^3DNew^%^7C1580484574965^%^3B\" -H \"origin: https://www.crunchbase.com\" -H \"accept-encoding: gzip, deflate, br\" -H \"x-distil-ajax: dfdvfavtsysazfberrtudvwabwe\" -H \"user-agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36\" -H \"content-type: application/json\" -H \"accept-language: zh-CN,zh;q=0.9,en;q=0.8\" -H \"accept: application/json, text/plain, */*\" -H \"referer: https://www.crunchbase.com/organization/500-startups/investments/investments_list\" -H \"authority: www.crunchbase.com\" -H \"x-requested-with: XMLHttpRequest\" --data-binary ^\"^&#123;^ ^\\^\"card_lookups^\\^\": ^[^ ^&#123;^ ^\\^\"card_id^\\^\": ^\\^\"investments_list^\\^\",^ ^\\^\"limit^\\^\": 100,^ ^\\^\"after_id^\\^\": ^\\^\"07a9c686-4590-fa0f-3ac4-fc7b898c0b7a^\\^\"^ ^&#125;^ ^]^^&#125;^\" --compressed å¯¼å…¥ä¹‹åï¼Œsendï¼Œè¿”å› 400 é”™è¯¯ã€‚ postman è½¬ä¹‰çš„codeæ˜¯ï¼š 1234567891011121314151617181920212223242526import requestsurl = \"https://www.crunchbase.com/v4/data/entities/organizations/56e40f50-97c7-2a77-255d-1d97d5f30646/overrides\"querystring = &#123;\"field_ids\":\"^%^5B^%^22identifier^%^22,^%^22layout_id^%^22,^%^22facet_ids^%^22,^%^22title^%^22,^%^22short_description^%^22,^%^22is_locked^%^22^%^5D^\",\"card_ids\":\"^%^5B^%^22investments_list^%^22^%^5D\"&#125;payload = \"^^&#123;^\\n\\n ^\\\\^card_lookups^^: ^[^\\n\\n ^&#123;^\\n\\n ^\\\\^card_id^^: ^\\\\^investments_list^^,^\\n\\n ^\\\\^limit^^: 100,^\\n\\n ^\\\\^after_id^^: ^\\\\^07a9c686-4590-fa0f-3ac4-fc7b898c0b7a^^^\\n\\n ^&#125;^\\n\\n ^]^\\n\\n^&#125;^\"headers = &#123; 'cookie': \"_ga=GA1.2.35962729.1517412509; _gid=GA1.2.2072770006.1517412509; _vdl=1; _hp2_ses_props.973801186=^%^7B^%^22ts^%^22^%^3A1517412512548^%^2C^%^22d^%^22^%^3A^%^22www.crunchbase.com^%^22^%^2C^%^22h^%^22^%^3A^%^22^%^2Fsearch^%^2Fprincipal.investors^%^22^%^7D; __qca=P0-1969245879-1517412512628; D_IID=1B7344D2-1C8F-3327-8607-D786306444AE; D_UID=208F925B-3D1C-3491-A532-C82375EE187D; D_ZID=497DB63C-5101-3F49-BE35-1752A80F8DDA; D_ZUID=D89FCBAA-BF79-340C-BF55-B860768D0993; D_HID=57B19D5F-5069-3A82-94CB-D42821D1CD10; D_SID=123.120.141.63:bXaeU41PWi5vyYIflFmiShQiK1qwq/nC4G9IljWo+6A; AMCVS_6B25357E519160E40A490D44^%^40AdobeOrg=1; wcsid=KZbgLoopx4WnyMOW3F6pZ0H92JEzMrBd; hblid=cfw6lOKzm4FpCUou3F6pZ0H92JE6rBWB; s_cc=true; AMCV_6B25357E519160E40A490D44^%^40AdobeOrg=1099438348^%^7CMCMID^%^7C05859477990281579603868663655860142263^%^7CMCAAMLH-1518017313^%^7C11^%^7CMCAAMB-1518017313^%^7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y^%^7CMCOPTOUT-1517419713s^%^7CNONE^%^7CMCAID^%^7CNONE^%^7CMCSYNCSOP^%^7C411-17570^%^7CvVersion^%^7C2.1.0; _okdetect=^%^7B^%^22token^%^22^%^3A^%^2215174125149410^%^22^%^2C^%^22proto^%^22^%^3A^%^22https^%^3A^%^22^%^2C^%^22host^%^22^%^3A^%^22www.crunchbase.com^%^22^%^7D; olfsk=olfsk8562990481377502; _okbk=cd4^%^3Dtrue^%^2Cvi5^%^3D0^%^2Cvi4^%^3D1517412515909^%^2Cvi3^%^3Dactive^%^2Cvi2^%^3Dfalse^%^2Cvi1^%^3Dfalse^%^2Ccd8^%^3Dchat^%^2Ccd6^%^3D0^%^2Ccd5^%^3Daway^%^2Ccd3^%^3Dfalse^%^2Ccd2^%^3D0^%^2Ccd1^%^3D0^%^2C; _ok=1554-355-10-6773; _hp2_props.973801186=^%^7B^%^22Logged^%^20In^%^22^%^3Afalse^%^2C^%^22Pro^%^22^%^3Afalse^%^7D; _hp2_id.973801186=^%^7B^%^22userId^%^22^%^3A^%^228805156096536097^%^22^%^2C^%^22pageviewId^%^22^%^3A^%^221700148784936413^%^22^%^2C^%^22sessionId^%^22^%^3A^%^225929107734453151^%^22^%^2C^%^22identity^%^22^%^3Anull^%^2C^%^22trackerVersion^%^22^%^3A^%^223.0^%^22^%^7D; _oklv=1517412548852^%^2CKZbgLoopx4WnyMOW3F6pZ0H92JEzMrBd; s_pers=^%^20s_nrgvo^%^3DNew^%^7C1580484574965^%^3B\", 'origin': \"https://www.crunchbase.com\", 'accept-encoding': \"gzip, deflate, br\", 'x-distil-ajax': \"dfdvfavtsysazfberrtudvwabwe\", 'user-agent': \"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36\", 'content-type': \"application/json\", 'accept-language': \"zh-CN,zh;q=0.9,en;q=0.8\", 'accept': \"application/json, text/plain, */*\", 'referer': \"https://www.crunchbase.com/organization/500-startups/investments/investments_list\", 'authority': \"www.crunchbase.com\", 'x-requested-with': \"XMLHttpRequest\", 'cache-control': \"no-cache\", 'postman-token': \"1df3b2b6-b682-edf7-4804-572ac5a03420\" &#125;response = requests.request(\"POST\", url, data=payload, headers=headers, params=querystring)print(response.text) å¯ä»¥çœ‹åˆ° åŠ å…¥äº†å¤§é‡çš„ ^ ç¬¦å·ï¼Œè¿™ä¸ªåœ¨Pythonä¸­æ˜¯è¿ç®—ç¬¦1^ æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼šå½“ä¸¤å¯¹åº”çš„äºŒè¿›ä½ç›¸å¼‚æ—¶ï¼Œç»“æœä¸º1 (a ^ b) è¾“å‡ºç»“æœ 49 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0011 0001 è¿™ä¹Ÿæ˜¯ postman çš„ä¸€ä¸ªé—®é¢˜ è¯·æ±‚å¤±è¯¯è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ‡‚ï¼Œæœ‰çš„è¯·æ±‚ postman è¿”å›é”™è¯¯ï¼Œä½†æ˜¯å¤åˆ¶ä»£ç åˆ° Python ç¯å¢ƒä¸­è¿è¡Œæ˜¯å¯ä»¥è·å¾—æ•°æ®çš„ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯å¤šæ¬¡éªŒè¯ã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"postman","slug":"postman","permalink":"https://zhangslob.github.io/tags/postman/"}]},{"title":"æœ‰äº†å¥¹ï¼Œè°æ•¢é˜»æ­¢æˆ‘å­¦ä¹ ","date":"2018-01-30T13:31:40.000Z","path":"2018/01/30/æœ‰äº†å¥¹ï¼Œè°æ•¢é˜»æ­¢æˆ‘å­¦ä¹ /","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåä¸ƒç¯‡åŸåˆ›æ–‡ç«  æˆ‘çˆ±å­¦ä¹  (à¹‘â€¢ . â€¢à¹‘) å…¬ä¼—å·Pythonçˆ±å¥½è€…ç¤¾åŒºï¼Œå¾®ä¿¡å·ï¼špython_shequ äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨Pythonã€‚åˆ†äº«Pythonç›¸å…³çš„æŠ€æœ¯æ–‡ç« ã€å·¥å…·èµ„æºã€ç²¾é€‰è¯¾ç¨‹ã€è§†é¢‘æ•™ç¨‹ã€çƒ­ç‚¹èµ„è®¯ã€å­¦ä¹ èµ„æ–™ç­‰ã€‚æ¯å¤©è‡ªåŠ¨æ›´æ–°å’Œæ¨é€ã€‚ Pythonçˆ¬è™«åˆ†äº«ï¼Œå¾®ä¿¡å·ï¼špython_shequ çŸ¥ä¹ä¸“æ â€œçˆ¬è™«ä»å…¥é—¨åˆ°æ”¾å¼ƒâ€ä½œè€…ã€‚ç›®å‰åœ¨çŸ¥ä¹è¿è½½çˆ¬è™«ä»å…¥é—¨åˆ°æ”¾å¼ƒåˆ°ç²¾é€šç³»åˆ—æ–‡ç«  å¼ ä¿Šçº¢ï¼Œå¾®ä¿¡å·ï¼šzhangjunhong0428 ä¸­å›½ç»Ÿè®¡ç½‘ä¸“æ ä½œè€…ï¼Œæ•°æ®åˆ†æè·¯ä¸Šçš„å­¦ä¹ è€…ä¸å®è·µè€…ï¼Œä¸ä½ åˆ†äº«æˆ‘çš„æ‰€è§ã€æ‰€å­¦ã€æ‰€æƒ³ã€‚ æ•°æ®å°é­”æ–¹ï¼Œå¾®ä¿¡å·ï¼šdatamofang ä¸“æ³¨äºæ•°æ®å¯è§†åŒ–åŠå•†åŠ¡æ™ºèƒ½çš„åŸåˆ›æŠ€èƒ½åˆ†äº«å¹³å°ï¼ Pythonçˆ¬è™«ä¸ç®—æ³•è¿›é˜¶ï¼Œå¾®ä¿¡å·ï¼šzhangslob åˆ†äº«PythonçŸ¥è¯†ï¼Œå…³æ³¨çˆ¬è™«ä¸ç®—æ³•,è®©æˆ‘ä»¬ä¸€èµ·ä»èŒæ–°å˜æˆå¤§ç‰›å§! åœ¨çº¿ä¹¦ç± å…³äºPythonçš„é¢è¯•é¢˜ è‰æ ¹å­¦Python pythonæ•°æ®ç»“æ„å’Œç®—æ³• Pythonæœ€ä½³å®è·µæŒ‡å—ï¼ Python Cookbook 3rd Edition Documentation Stackoverflow about Python Pythonè¿›é˜¶ å…è´¹è§†é¢‘ é›¶åŸºç¡€å…¥é—¨å­¦ä¹ Python è¯è¯´æˆ‘å½“æ—¶å°±çœ‹çš„å°ç”²é±¼è§†é¢‘å…¥é—¨çš„ Pythonè¯­è¨€ç¨‹åºè®¾è®¡ åµ©å¤©è€å¸ˆçš„ä¸€ç³»åˆ—è¯¾ç¨‹ Googleæœºå™¨å­¦ä¹  ç®€å•å…¥é—¨ ç®—æ³•åŸºç¡€ åŒ—å¤§åšå£«çš„è¯¾ç¨‹ã€‚ã€‚ å´æ©è¾¾æœºå™¨å­¦ä¹  è¿™ä¸ªå°±ä¸è¯„ä»·äº†ï¼Œéƒ½çŸ¥é“ çˆ¬è™«æ•™ç¨‹ çˆ¬è™«æ•™ç¨‹ æŸä½å¤§ä½¬æ‰€å†™ï¼Œç”±æµ…å…¥æ·± Scrapyåˆ†ç±» è´¨é‡éå¸¸é«˜ Python3ç½‘ç»œçˆ¬è™«å®æˆ˜ å´”å¤§çš„ä¹¦ï¼Œé©¬ä¸Šä¼šå‡ºç‰ˆ å¤§æ•°æ®ä¹‹ç½‘ç»œçˆ¬è™« ä¸»è¦æ˜¯å‚ç›´å‹ç½‘ç»œçˆ¬è™« ä½¿ç”¨Scrapy-rediså®ç°åˆ†å¸ƒå¼çˆ¬å– åˆ†å¸ƒå¼èµ„æ–™ ä½¿ç”¨Dockeréƒ¨ç½²scrapy-redisåˆ†å¸ƒå¼çˆ¬è™« åŒæ ·æ˜¯åˆ†å¸ƒå¼èµ„æ–™ æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼šä¸è¦å…‰æ”¶è—ï¼Œä¸å»çœ‹","tags":[{"name":"Git","slug":"Git","permalink":"https://zhangslob.github.io/tags/Git/"}]},{"title":"çƒ¦äººçš„Git ( Â´â€¢ï¸µâ€¢` )","date":"2018-01-29T13:30:41.000Z","path":"2018/01/29/çƒ¦äººçš„Git ç»ˆäºå­¦ä¼šäº† -Â´â€¢ï¸µâ€¢/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåå…­ç¯‡åŸåˆ›æ–‡ç«  ç»ˆäºä¼šç”¨Gitäº† (à¹‘â€¢ . â€¢à¹‘) Gitå¯¹äºæ–°æ‰‹æ¥è¯´ï¼ŒçœŸçš„å¾ˆçƒ¦äººå“ï¼Œå¥½åœ¨æ‰¾åˆ°äº†å¥½å·¥å…· â€”â€” PyCharm ä½¿ç”¨PyCharmè¿›è¡Œä»£ç ç®¡ç†åœ¨VCSé‡Œæœ‰Gitï¼Œé‡Œé¢æœ‰å¸¸ç”¨çš„æ“ä½œï¼Œcloneã€pullã€pushç­‰ç­‰ã€‚ æ›´æ–¹ä¾¿çš„æ˜¯ï¼Œåœ¨å·¦ä¸‹è§’ï¼Œæœ‰Version Controlï¼Œå¯ä»¥æ¸…æ™°çš„çœ‹åˆ°æ—¥å¿—æ”¹å˜ï¼Œå›¾ä¸­å¦ä¸€ä¸ªæ ‡è®°çš„ä½ç½®å¯ä»¥ç›´æ¥è¿›è¡Œcommitï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º æ›´å¤šå‚è€ƒå®˜æ–¹æ–‡æ¡£ Enabling Version Control æˆ‘ä¿®æ”¹äº†ä¸»é¢˜ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ”¹ Material Theme UI emmmï¼Œç®€å•çš„æ–¹æ³•å°±æ˜¯è¿™æ ·ï¼Œè¿˜æ˜¯éœ€è¦äº†è§£ä¸‹Gitçš„åŸºæœ¬æ“ä½œçš„ åˆ›å»ºæ–°ä»“åº“åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ï¼Œç„¶åæ‰§è¡Œ git init ä»¥åˆ›å»ºæ–°çš„ git ä»“åº“ã€‚ æˆ–è€…æŒ‰ç…§å®˜æ–¹æ¨èçš„ä¾‹å­ 123456789git clone git@github.com:zhangslob/test_test.gitecho \"# test_test\" &gt;&gt; README.mdgit initgit add README.mdgit commit -m \"first commit\"git remote add origin git@github.com:zhangslob/test_test.gitgit push -u origin master# å…¶ä¸­çš„å‘½ä»¤ä¸‹é¢ä¼šè®²åˆ° å…‹éš†ä»“åº“æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“çš„å…‹éš†ç‰ˆæœ¬ï¼š git clone /path/to/repository å¦‚æœæ˜¯è¿œç«¯æœåŠ¡å™¨ä¸Šçš„ä»“åº“ï¼Œä½ çš„å‘½ä»¤ä¼šæ˜¯è¿™ä¸ªæ ·å­ï¼š git clone username@host:/path/to/repository æ·»åŠ å’Œæäº¤ä½ å¯ä»¥æå‡ºæ›´æ”¹ï¼ˆæŠŠå®ƒä»¬æ·»åŠ åˆ°æš‚å­˜åŒºï¼‰ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š git add . è¿™æ˜¯ git åŸºæœ¬å·¥ä½œæµç¨‹çš„ç¬¬ä¸€æ­¥ï¼›ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä»¥å®é™…æäº¤æ”¹åŠ¨ï¼š git commit -m &quot;ä»£ç æäº¤ä¿¡æ¯&quot; ç°åœ¨ï¼Œä½ çš„æ”¹åŠ¨å·²ç»æäº¤åˆ°äº† HEADï¼Œä½†æ˜¯è¿˜æ²¡åˆ°ä½ çš„è¿œç«¯ä»“åº“ã€‚ æ¨é€æ”¹åŠ¨ä½ çš„æ”¹åŠ¨ç°åœ¨å·²ç»åœ¨æœ¬åœ°ä»“åº“çš„ HEAD ä¸­äº†ã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥å°†è¿™äº›æ”¹åŠ¨æäº¤åˆ°è¿œç«¯ä»“åº“ï¼š git push origin master å¯ä»¥æŠŠ master æ¢æˆä½ æƒ³è¦æ¨é€çš„ä»»ä½•åˆ†æ”¯ã€‚ åˆ†æ”¯åˆ†æ”¯æ˜¯ç”¨æ¥å°†ç‰¹æ€§å¼€å‘ç»ç¼˜å¼€æ¥çš„ã€‚åœ¨ä½ åˆ›å»ºä»“åº“çš„æ—¶å€™ï¼Œmaster æ˜¯â€œé»˜è®¤çš„â€åˆ†æ”¯ã€‚åœ¨å…¶ä»–åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œå®Œæˆåå†å°†å®ƒä»¬åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Šã€‚ åˆ›å»ºä¸€ä¸ªå«åšâ€œdevelopâ€çš„åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢è¿‡å»ï¼š git checkout -b develop åˆ‡æ¢å›ä¸»åˆ†æ”¯ï¼š git checkout master å†æŠŠæ–°å»ºçš„åˆ†æ”¯åˆ æ‰ï¼š git branch -d develop é™¤éä½ å°†åˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“ï¼Œä¸ç„¶è¯¥åˆ†æ”¯å°±æ˜¯ ä¸ä¸ºä»–äººæ‰€è§çš„ï¼š git push origin &lt;branch&gt; æ›´æ–°ä¸åˆå¹¶è¦æ›´æ–°ä½ çš„æœ¬åœ°ä»“åº“è‡³æœ€æ–°æ”¹åŠ¨ï¼Œæ‰§è¡Œï¼š git pull ä»¥åœ¨ä½ çš„å·¥ä½œç›®å½•ä¸­ è·å–ï¼ˆfetchï¼‰ å¹¶ åˆå¹¶ï¼ˆmergeï¼‰ è¿œç«¯çš„æ”¹åŠ¨ã€‚ è¦åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°ä½ çš„å½“å‰åˆ†æ”¯ï¼ˆä¾‹å¦‚ masterï¼‰ï¼Œæ‰§è¡Œï¼š git merge &lt;branch&gt; åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œgit éƒ½ä¼šå°è¯•å»è‡ªåŠ¨åˆå¹¶æ”¹åŠ¨ã€‚é—æ†¾çš„æ˜¯ï¼Œè¿™å¯èƒ½å¹¶éæ¯æ¬¡éƒ½æˆåŠŸï¼Œå¹¶å¯èƒ½å‡ºç°å†²çªï¼ˆconflictsï¼‰ã€‚ è¿™æ—¶å€™å°±éœ€è¦ä½ ä¿®æ”¹è¿™äº›æ–‡ä»¶æ¥æ‰‹åŠ¨åˆå¹¶è¿™äº›å†²çªï¼ˆconflictsï¼‰ã€‚æ”¹å®Œä¹‹åï¼Œä½ éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä»¥å°†å®ƒä»¬æ ‡è®°ä¸ºåˆå¹¶æˆåŠŸï¼š git add &lt;filename&gt; åœ¨åˆå¹¶æ”¹åŠ¨ä¹‹å‰ï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é¢„è§ˆå·®å¼‚ï¼š git diff &lt;source_branch&gt; &lt;target_branch&gt; æ›¿æ¢æœ¬åœ°æ”¹åŠ¨å‡å¦‚ä½ æ“ä½œå¤±è¯¯ï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ›¿æ¢æ‰æœ¬åœ°æ”¹åŠ¨ï¼š git checkout -- &lt;filename&gt; æ­¤å‘½ä»¤ä¼šä½¿ç”¨ HEAD ä¸­çš„æœ€æ–°å†…å®¹æ›¿æ¢æ‰ä½ çš„å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚å·²æ·»åŠ åˆ°æš‚å­˜åŒºçš„æ”¹åŠ¨ä»¥åŠæ–°æ–‡ä»¶éƒ½ä¸ä¼šå—åˆ°å½±å“ã€‚ å‡å¦‚ä½ æƒ³ä¸¢å¼ƒä½ åœ¨æœ¬åœ°çš„æ‰€æœ‰æ”¹åŠ¨ä¸æäº¤ï¼Œå¯ä»¥åˆ°æœåŠ¡å™¨ä¸Šè·å–æœ€æ–°çš„ç‰ˆæœ¬å†å²ï¼Œå¹¶å°†ä½ æœ¬åœ°ä¸»åˆ†æ”¯æŒ‡å‘å®ƒï¼š12git fetch origingit reset --hard origin/master å°æŠ€å·§ ä½¿ç”¨ git status å¯ä»¥è¿…é€ŸæŸ¥çœ‹å½“å‰çŠ¶æ€ï¼Œè‹¥æ·»åŠ æ–‡ä»¶ï¼Œä¼šæ˜¾ç¤ºç»¿è‰²çš„æ–‡å­— ä½¿ç”¨Githubçš„å®¢æˆ·ç«¯ï¼Œå¯ä»¥äº‹åŠåŠŸå€ https://desktop.github.com/ æ›´å¤šå¯ä»¥å‚è€ƒ Git æ–‡æ¡£ Git Commit Message æ¨¡ç‰ˆæ¨¡ç‰ˆå‘½åçº¦å®šæ¨¡ç‰ˆåç§°ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆ gitmessage-${è¯­è¨€}[-full] ä»¥ -full ç»“å°¾çš„æ¨¡ç‰ˆåŒ…å«äº† message ç»„æˆåŒºåŸŸçš„è§£é‡Šä»¥åŠä¹¦å†™çš„æŒ‡å¯¼ï¼Œæ¨èæ–°æ‰‹é€‰æ‹©è¯¥æ¨¡ç‰ˆä¸Šæ‰‹ï¼Œåœ¨ç†Ÿæ‚‰ä¹¦å†™è§„èŒƒåæ¢æˆç®€å•ç‰ˆæœ¬ã€‚ 1234567# feat (æ–°åŠŸèƒ½)# fix (é—®é¢˜ä¿®å¤)# refactor (ä»£ç é‡æ„)# style (ä»£ç é£æ ¼æ”¹åŠ¨ã€æ ¼å¼å˜åŒ–ç­‰ï¼Œæ— å®ç°æ”¹åŠ¨)# docs (æ–‡æ¡£æ›´æ–°)# test (å¢åŠ ã€é‡æ„æµ‹è¯•ï¼Œæ— å®ç°æ”¹åŠ¨)# chore (ä¿®æ”¹ä¸€äº›é…ç½®æ–‡ä»¶å¦‚ .gitignore ç­‰ï¼Œæ— å®ç°æ”¹åŠ¨)","tags":[{"name":"Git","slug":"Git","permalink":"https://zhangslob.github.io/tags/Git/"}]},{"title":"å­¦ç‚¹ç®—æ³•ä¹‹å­—ç¬¦ä¸²çš„ä¹±åºæ£€æŸ¥","date":"2018-01-27T10:52:56.000Z","path":"2018/01/27/å­¦ç‚¹ç®—æ³•ä¹‹å­—ç¬¦ä¸²çš„ä¹±åºæ£€æŸ¥/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåäº”ç¯‡åŸåˆ›æ–‡ç«  è€æ¿ï¼Œæˆ‘è¦åšç®—æ³•å·¥ç¨‹å¸ˆï¼ é—®é¢˜å­—ç¬¦ä¸²çš„ä¹±åºæ£€æŸ¥ã€‚ ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¹±åºã€‚å¦‚æœç¬¬äºŒä¸ªå­—ç¬¦ä¸²åªæ˜¯ç¬¬ä¸€ä¸ªçš„é‡æ–°æ’åˆ—ï¼Œä¾‹å¦‚ï¼Œâ€™heartâ€™ å’Œ â€˜earthâ€™ å°±æ˜¯ä¹±åºå­—ç¬¦ä¸²ã€‚â€™pythonâ€™ å’Œ â€˜typhonâ€™ ä¹Ÿæ˜¯ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾æ‰€è®¨è®ºçš„ä¸¤ä¸ªå­—ç¬¦ä¸²å…·æœ‰ç›¸ç­‰çš„é•¿åº¦ï¼Œå¹¶ä¸”ä»–ä»¬ç”± 26 ä¸ªå°å†™å­—æ¯é›†åˆç»„æˆã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å†™ä¸€ä¸ªå¸ƒå°”å‡½æ•°ï¼Œå®ƒå°†ä¸¤ä¸ªå­—ç¬¦ä¸²åšå‚æ•°å¹¶è¿”å›å®ƒä»¬æ˜¯ä¸æ˜¯å›æ–‡ã€‚ è§£æ³•1:æ£€æŸ¥æˆ‘ä»¬å¯¹ä¹±åºé—®é¢˜çš„ç¬¬ä¸€ä¸ªè§£æ³•æ˜¯æ£€æŸ¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å‡ºç°åœ¨ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ä¸­ã€‚å¦‚æœå¯ä»¥æ£€éªŒåˆ°æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸€å®šæ˜¯å›æ–‡ã€‚å¯ä»¥é€šè¿‡ç”¨ None æ›¿æ¢å­—ç¬¦æ¥å®Œæˆæ£€æŸ¥ã€‚ä½†æ˜¯ï¼Œç”±äº Python å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯å°†ç¬¬äºŒä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºåˆ—è¡¨ã€‚ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦å¯ä»¥é€šè¿‡æ£€æŸ¥åœ¨ç¬¬äºŒä¸ªåˆ—è¡¨ä¸­æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œæ›¿æ¢æˆ Noneã€‚ 12345678910111213141516171819202122232425def anagramSolution1(s1,s2): alist = list(s2) pos1 = 0 stillOK = True while pos1 &lt; len(s1) and stillOK: pos2 = 0 found = False while pos2 &lt; len(alist) and not found: if s1[pos1] == alist[pos2]: found = True else: pos2 = pos2 + 1 if found: alist[pos2] = None else: stillOK = False pos1 = pos1 + 1 return stillOKprint(anagramSolution1('abcd','dcba')) s1 çš„æ¯ä¸ªå­—ç¬¦éƒ½ä¼šåœ¨ s2 ä¸­è¿›è¡Œæœ€å¤š n ä¸ªå­—ç¬¦çš„è¿­ä»£ s2 åˆ—è¡¨ä¸­çš„ n ä¸ªä½ç½®å°†è¢«è®¿é—®ä¸€æ¬¡æ¥åŒ¹é…æ¥è‡ª s1 çš„å­—ç¬¦ã€‚è®¿é—®æ¬¡æ•°å¯ä»¥å†™æˆ 1 åˆ° n æ•´æ•°çš„å’Œï¼Œå¯ä»¥å†™æˆ å½“ n å˜å¤§ï¼Œn^2 è¿™é¡¹å æ®ä¸»å¯¼ï¼Œ1/2 å¯ä»¥å¿½ç•¥ã€‚æ‰€ä»¥è¿™ä¸ªç®—æ³•å¤æ‚åº¦ä¸º O(n^2 )ã€‚ è§£æ³•2:æ’åºå’Œæ¯”è¾ƒå¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯åˆ©ç”¨è¿™ä¹ˆä¸€ä¸ªäº‹å®ï¼Œå³ä½¿ s1,s2 ä¸åŒï¼Œå®ƒä»¬åªæœ‰ç”±å®Œå…¨ç›¸åŒçš„å­—ç¬¦ç»„æˆï¼Œå®ƒä»¬æ‰æ˜¯å›æ–‡ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬æŒ‰ç…§å­—æ¯é¡ºåºæ’åˆ—æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œä» a åˆ° zï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ºå›æ–‡ã€‚ 12345678910111213def anagramSolution2(s1,s2): alist1 = list(s1) alist2 = list(s2) alist1.sort() alist2.sort() if alist1 == alist2: return True else: return Falseprint(anagramSolution2('abcde','edcba')) è¿™ä¸ªç®—æ³•æ¯”è¾ƒç®€å•ï¼Œåªç”¨åˆ°äº†æ’åºç®—æ³•ï¼Œé‚£ä¹ˆæ’åºç®—æ³•çš„å¤æ‚åº¦è¿˜æ˜¯å¤šå°‘å‘¢ï¼Ÿ åœ¨è¿™é‡Œæ‰¾åˆ°äº†ç­”æ¡ˆ pythonä¸­çš„sortedç®—æ³•ï¼Œç½‘ä¸Šæœ‰äººæ’°æ–‡ï¼Œè¯´æ¯”è¾ƒä½çº§ã€‚å…¶å®ä¸ç„¶ï¼Œé€šè¿‡é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°pythonä¸­çš„sortedæ’åºï¼ŒçœŸçš„æ˜¯é«˜å¤§ä¸Šï¼Œç”¨çš„Timsortç®—æ³•ã€‚ä»€ä¹ˆæ˜¯Timsortï¼Œè¯·çœ‹ wikiçš„è§£é‡Šï¼šhttp://en.wikipedia.org/wiki/Timsort å¦å¤–ï¼Œå›½å†…æœ‰ä¸€ä¸ªæ–‡æ¡£ï¼Œé€‚å½“ç¿»è¯‘ï¼šhttp://blog.csdn.net/yangzhongblog/article/details/8184707ï¼Œè¿™é‡Œæˆªå–ä¸€ä¸ªä¸åŒæ’åºç®—æ³•æ¯”è¾ƒçš„å›¾ç¤ºï¼Œå°±æ˜ç™½sortedçš„å¨åŠ›äº†ã€‚ ä»æ—¶é—´å¤æ‚åº¦æ¥çœ‹ï¼ŒTimsortæ˜¯å¨æ­¦çš„ã€‚ ä»ç©ºé—´å¤æ‚åº¦æ¥è®²ï¼Œéœ€è¦çš„å¼€é”€åœ¨æ•°é‡å¤§çš„æ—¶å€™ä¼šå¢å¤§ã€‚ è§£æ³•3: ç©·ä¸¾æ³•è§£å†³è¿™ç±»é—®é¢˜çš„å¼ºåŠ›æ–¹æ³•æ˜¯ç©·ä¸¾æ‰€æœ‰å¯èƒ½æ€§ã€‚ å¯¹äºå›æ–‡æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”Ÿæˆ s1 çš„æ‰€æœ‰ä¹±åºå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œç„¶åæŸ¥çœ‹æ˜¯ä¸æ˜¯æœ‰ s2ã€‚è¿™ç§æ–¹æ³•æœ‰ä¸€ç‚¹å›°éš¾ã€‚å½“ s1 ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å­—ç¬¦ä¸²æ—¶ï¼Œç¬¬ä¸€ä¸ªä½ç½®æœ‰ n ç§å¯èƒ½ï¼Œç¬¬äºŒä¸ªä½ç½®æœ‰ n-1 ç§ï¼Œç¬¬ä¸‰ä¸ªä½ç½®æœ‰ n-3 ç§ï¼Œç­‰ç­‰ã€‚æ€»æ•°ä¸º nâˆ—(nâˆ’1)âˆ—(nâˆ’2)âˆ—...âˆ—3âˆ—2âˆ—1nâˆ—(nâˆ’1)âˆ—(nâˆ’2)âˆ—...âˆ—3âˆ—2âˆ—1ï¼Œ å³ n! ã€‚ è™½ç„¶ä¸€äº›å­—ç¬¦ä¸²å¯èƒ½æ˜¯é‡å¤çš„ï¼Œç¨‹åºä¹Ÿä¸å¯èƒ½æå‰çŸ¥é“è¿™æ ·ï¼Œæ‰€ä»¥ä»–ä»ç„¶ä¼šç”Ÿæˆ n! ä¸ªå­—ç¬¦ä¸²ã€‚äº‹å®è¯æ˜ï¼Œn! æ¯” n^2 å¢é•¿è¿˜å¿«ï¼Œäº‹å®ä¸Šï¼Œå¦‚æœ s1 æœ‰ 20ä¸ªå­—ç¬¦é•¿ï¼Œåˆ™å°†æœ‰ 20! = 2,432,902,008,176,640,000 ä¸ªå­—ç¬¦ä¸²äº§ç”Ÿã€‚å¦‚æœæˆ‘ä»¬æ¯ç§’å¤„ç†ä¸€ç§å¯èƒ½å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆéœ€è¦ 77,146,816,596 å¹´æ‰èƒ½è¿‡å®Œæ•´ä¸ªåˆ—è¡¨ã€‚ æ‰€ä»¥å½“ç„¶ä¸ä¼šé‡‡å–è¿™ç§æ–¹æ¡ˆäº†ã€‚ è§£æ³•4: è®¡æ•°å’Œæ¯”è¾ƒæˆ‘ä»¬æœ€ç»ˆè§£å†³å›æ–‡çš„æ–¹æ³•æ˜¯åˆ©ç”¨ä¸¤ä¸ªä¹±åºå­—ç¬¦ä¸²å…·æœ‰ç›¸åŒçš„ a, b, c ç­‰ç­‰çš„äº‹å®ã€‚ æˆ‘ä»¬é¦–å…ˆè®¡ç®—çš„æ˜¯æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ã€‚ç”±äºæœ‰ 26 ä¸ªå¯èƒ½çš„å­—ç¬¦ï¼Œæˆ‘ä»¬å°±ç”¨ ä¸€ä¸ªé•¿åº¦ä¸º 26 çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå¯èƒ½çš„å­—ç¬¦å ä¸€ä¸ªä½ç½®ã€‚æ¯æ¬¡çœ‹åˆ°ä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ï¼Œå°±å¢åŠ è¯¥ä½ç½®çš„è®¡æ•°å™¨ã€‚æœ€åå¦‚æœä¸¤ä¸ªåˆ—è¡¨çš„è®¡æ•°å™¨ä¸€æ ·ï¼Œåˆ™å­—ç¬¦ä¸²ä¸ºä¹±åºå­—ç¬¦ä¸²ã€‚ 1234567891011121314151617181920212223def anagramSolution4(s1,s2): c1 = [0]*26 c2 = [0]*26 for i in range(len(s1)): pos = ord(s1[i])-ord('a') c1[pos] = c1[pos] + 1 for i in range(len(s2)): pos = ord(s2[i])-ord('a') c2[pos] = c2[pos] + 1 j = 0 stillOK = True while j&lt;26 and stillOK: if c1[j]==c2[j]: j = j + 1 else: stillOK = False return stillOKprint(anagramSolution4('apple','pleap')) åŒæ ·ï¼Œè¿™ä¸ªæ–¹æ¡ˆæœ‰å¤šä¸ªè¿­ä»£ï¼Œä½†æ˜¯å’Œç¬¬ä¸€ä¸ªè§£æ³•ä¸ä¸€æ ·ï¼Œå®ƒä¸æ˜¯åµŒå¥—çš„ã€‚ä¸¤ä¸ªè¿­ä»£éƒ½æ˜¯ n, ç¬¬ä¸‰ä¸ªè¿­ä»£ï¼Œæ¯”è¾ƒä¸¤ä¸ªè®¡æ•°åˆ—è¡¨ï¼Œéœ€è¦ 26 æ­¥ï¼Œå› ä¸ºæœ‰ 26 ä¸ªå­—æ¯ã€‚ä¸€å…± T(n)=2n+26T(n)=2n+26ï¼Œå³ O(n)ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªçº¿æ€§é‡çº§çš„ç®—æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å¦‚æœè®©æˆ‘è‡ªå·±æ¥é€‰æ‹©ï¼Œæˆ‘å¯èƒ½ä¼šé€‰ç¬¬äºŒç§ï¼Œç¬¬äºŒç§æœ€ç®€å•ï¼Œä¹Ÿæœ€å¥½ç†è§£ã€‚ä½†æ˜¯æœ€åçš„ç»“è®ºè¡¨æ˜ è§£æ³•4 æ‰æ˜¯æœ€ä¼˜è§£æ³•ï¼Œæ’åºå›ºç„¶ç®€å•ï¼Œä½†æ˜¯ä½†æ•°é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œå¯èƒ½è¿œä¸æ­¢æˆ‘ä»¬æƒ³çš„é‚£ä¹ˆç®€å•ã€‚ åœ¨ç»“æŸè¿™ä¸ªä¾‹å­ä¹‹å‰ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸‹ç©ºé—´èŠ±è´¹ï¼Œè™½ç„¶æœ€åä¸€ä¸ªæ–¹æ¡ˆåœ¨çº¿æ€§æ—¶é—´æ‰§è¡Œï¼Œä½†å®ƒéœ€è¦é¢å¤–çš„å­˜å‚¨æ¥ä¿å­˜ä¸¤ä¸ªå­—ç¬¦è®¡æ•°åˆ—è¡¨ã€‚æ¢å¥è¯è¯´ï¼Œè¯¥ç®—æ³•ç‰ºç‰²äº†ç©ºé—´ä»¥è·å¾—æ—¶é—´ã€‚ å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½ éœ€è¦åœ¨ç©ºé—´å’Œæ—¶é—´ä¹‹é—´åšå‡ºæƒè¡¡ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œé¢å¤–ç©ºé—´ä¸é‡è¦ï¼Œä½†æ˜¯å¦‚æœæœ‰æ•°ç™¾ä¸‡ä¸ªå­—ç¬¦ï¼Œå°±éœ€è¦å…³æ³¨ä¸‹ã€‚ä½œä¸ºä¸€ä¸ªè®¡ç®—æœºç§‘å­¦å®¶ï¼Œå½“ç»™å®šä¸€ä¸ªç‰¹å®šçš„ç®—æ³•ï¼Œå°†ç”±ä½ å†³å®šå¦‚ä½•ä½¿ç”¨è®¡ç®—èµ„æºã€‚ å¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡å‡º å›¾ç‰‡æ¥æº å„ä½ä¸‹æœŸè§ï¼Œä¸èŠäº†ï¼Œåˆè¯¥æ¬ç –äº†ã€‚ã€‚ã€‚","tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://zhangslob.github.io/tags/ç®—æ³•/"},{"name":"Python","slug":"Python","permalink":"https://zhangslob.github.io/tags/Python/"},{"name":"æ’åº","slug":"æ’åº","permalink":"https://zhangslob.github.io/tags/æ’åº/"}]},{"title":"ä½¿ç”¨loggingç®¡ç†çˆ¬è™«","date":"2018-01-15T13:39:35.000Z","path":"2018/01/15/ä½¿ç”¨loggingç®¡ç†çˆ¬è™«/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåå››ç¯‡åŸåˆ›æ–‡ç«  ä½¿ç”¨æ—¥å¿—è®°å½•ç¨‹åºè¿è¡ŒçŠ¶æ€ æ–‡æ¡£ æ—¥å¿— æ¨¡å—è‡ª2.3ç‰ˆæœ¬å¼€å§‹ä¾¿æ˜¯Pythonæ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ã€‚å®ƒè¢«ç®€æ´çš„æè¿°åœ¨ PEP 282ã€‚ ä¼—æ‰€å‘¨çŸ¥ï¼Œé™¤äº† åŸºç¡€æ—¥å¿—æŒ‡å— éƒ¨åˆ†ï¼Œè¯¥æ–‡æ¡£å¹¶ä¸å®¹æ˜“é˜…è¯»ã€‚ æ—¥å¿—çš„ä¸¤ä¸ªç›®çš„ï¼š è¯Šæ–­æ—¥å¿— è®°å½•ä¸åº”ç”¨ç¨‹åºæ“ä½œç›¸å…³çš„æ—¥å¿—ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·é‡åˆ°çš„æŠ¥é”™ä¿¡æ¯ï¼Œ å¯é€šè¿‡æœç´¢è¯Šæ–­æ—¥å¿—è·å¾—ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ å®¡è®¡æ—¥å¿— ä¸ºå•†ä¸šåˆ†æè€Œè®°å½•çš„æ—¥å¿—ã€‚ä»å®¡è®¡æ—¥å¿—ä¸­ï¼Œå¯æå–ç”¨æˆ·çš„äº¤æ˜“ä¿¡æ¯ï¼Œ å¹¶ç»“åˆå…¶ä»–ç”¨æˆ·èµ„æ–™æ„æˆç”¨æˆ·æŠ¥å‘Šæˆ–è€…ç”¨æ¥ä¼˜åŒ–å•†ä¸šç›®æ ‡ã€‚ â€¦ æˆ–è€…æ‰“å°?å½“éœ€è¦åœ¨å‘½ä»¤è¡Œåº”ç”¨ä¸­æ˜¾ç¤ºå¸®åŠ©æ–‡æ¡£æ—¶ï¼Œ æ‰“å° æ˜¯ä¸€ä¸ªç›¸å¯¹äºæ—¥å¿—æ›´å¥½çš„é€‰æ‹©ã€‚ è€Œåœ¨å…¶ä»–æ—¶å€™ï¼Œæ—¥å¿—æ€»èƒ½ä¼˜äº æ‰“å° ï¼Œç†ç”±å¦‚ä¸‹ï¼š æ—¥å¿—äº‹ä»¶äº§ç”Ÿçš„ æ—¥å¿—è®°å½• ï¼ŒåŒ…å«æ¸…æ™°å¯ç”¨çš„è¯Šæ–­ä¿¡æ¯ï¼Œå¦‚æ–‡ä»¶åç§°ã€è·¯å¾„ã€å‡½æ•°åå’Œè¡Œå·ç­‰ã€‚ åŒ…å«æ—¥å¿—æ¨¡å—çš„åº”ç”¨ï¼Œé»˜è®¤å¯é€šè¿‡æ ¹è®°å½•å™¨å¯¹åº”ç”¨çš„æ—¥å¿—æµè¿›è¡Œè®¿é—®ï¼Œé™¤éæ‚¨å°†æ—¥å¿—è¿‡æ»¤äº†ã€‚ å¯é€šè¿‡ logging.Logger.setLevel() æ–¹æ³•æœ‰é€‰æ‹©åœ°è®°å½•æ—¥å¿—ï¼Œ æˆ–å¯é€šè¿‡è®¾ç½® logging.Logger.disabled å±æ€§ä¸º True æ¥ç¦ç”¨ã€‚ åº“ä¸­çš„æ—¥å¿—æ—¥å¿—æŒ‡å— ä¸­å« åº“æ—¥å¿—é…ç½® çš„è¯´æ˜ã€‚ç”±äºæ˜¯ ç”¨æˆ· ï¼Œè€Œéåº“æ¥æŒ‡æ˜å¦‚ä½•å“åº”æ—¥å¿—äº‹ä»¶ï¼Œ å› æ­¤è¿™é‡Œæœ‰ä¸€ä¸ªå€¼å¾—åå¤è¯´æ˜çš„å¿ å‘Šï¼š æ³¨è§£å¼ºçƒˆå»ºè®®ä¸è¦å‘æ‚¨çš„åº“æ—¥å¿—ä¸­åŠ å…¥é™¤NullHandlerå¤–çš„å…¶å®ƒå¤„ç†ç¨‹åºã€‚ åœ¨åº“ä¸­ï¼Œå£°æ˜æ—¥å¿—çš„æœ€ä½³æ–¹å¼æ˜¯é€šè¿‡ __name__ å…¨å±€å˜é‡ï¼š logging æ¨¡å—é€šè¿‡ç‚¹(dot)è¿ç®—ç¬¦åˆ›å»ºå±‚çº§æ’åˆ—çš„æ—¥å¿—ï¼Œå› æ­¤ï¼Œç”¨ __name__ å¯ä»¥é¿å…åå­—å†²çªã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ¥è‡ª requests èµ„æº çš„æœ€ä½³å®è·µçš„ä¾‹å­ â€”â€” æŠŠå®ƒæ”¾ç½®åœ¨æ‚¨çš„ __init__.py æ–‡ä»¶ä¸­12import logginglogging.getLogger(__name__).addHandler(logging.NullHandler()) åº”ç”¨ç¨‹åºä¸­çš„æ—¥å¿—åº”ç”¨ç¨‹åºå¼€å‘çš„æƒå¨æŒ‡å—ï¼Œ åº”ç”¨çš„12è¦ç´  ï¼Œä¹Ÿåœ¨å…¶ä¸­ä¸€èŠ‚æè¿°äº† æ—¥å¿—çš„ä½œç”¨ ã€‚å®ƒç‰¹åˆ«å¼ºè°ƒå°†æ—¥å¿—è§†ä¸ºäº‹ä»¶æµï¼Œ å¹¶å°†å…¶å‘é€è‡³ç”±åº”ç”¨ç¯å¢ƒæ‰€å¤„ç†çš„æ ‡å‡†è¾“å‡ºä¸­ã€‚ é…ç½®æ—¥å¿—è‡³å°‘æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š ä½¿ç”¨INIæ ¼å¼æ–‡ä»¶ï¼š ä¼˜ç‚¹: ä½¿ç”¨ logging.config.listen() å‡½æ•°ç›‘å¬socketï¼Œå¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ›´æ–°é…ç½® ç¼ºç‚¹: é€šè¿‡æºç æ§åˆ¶æ—¥å¿—é…ç½®è¾ƒå°‘ï¼ˆ ä¾‹å¦‚ å­ç±»åŒ–å®šåˆ¶çš„è¿‡æ»¤å™¨æˆ–è®°å½•å™¨ï¼‰ã€‚ ä½¿ç”¨å­—å…¸æˆ–JSONæ ¼å¼æ–‡ä»¶ï¼š ä¼˜ç‚¹: é™¤äº†å¯åœ¨è¿è¡Œæ—¶åŠ¨æ€æ›´æ–°ï¼Œåœ¨Python 2.6ä¹‹åï¼Œè¿˜å¯é€šè¿‡ json æ¨¡å—ä»å…¶å®ƒæ–‡ä»¶ä¸­å¯¼å…¥é…ç½®ã€‚ ç¼ºç‚¹: å¾ˆéš¾é€šè¿‡æºç æ§åˆ¶æ—¥å¿—é…ç½®ã€‚ ä½¿ç”¨æºç ï¼š ä¼˜ç‚¹: å¯¹é…ç½®ç»å¯¹çš„æ§åˆ¶ã€‚ ç¼ºç‚¹: å¯¹é…ç½®çš„æ›´æ”¹éœ€è¦å¯¹æºç è¿›è¡Œä¿®æ”¹ã€‚ é€šè¿‡INIæ–‡ä»¶è¿›è¡Œé…ç½®çš„ä¾‹å­æˆ‘ä»¬å‡è®¾æ–‡ä»¶åä¸º logging_config.ini ã€‚å…³äºæ–‡ä»¶æ ¼å¼çš„æ›´å¤šç»†èŠ‚ï¼Œè¯·å‚è§ æ—¥å¿—æŒ‡å— ä¸­çš„ æ—¥å¿—é…ç½® éƒ¨åˆ†ã€‚ 123456789101112131415161718192021[loggers]keys=root[handlers]keys=stream_handler[formatters]keys=formatter[logger_root]level=DEBUGhandlers=stream_handler[handler_stream_handler]class=StreamHandlerlevel=DEBUGformatter=formatterargs=(sys.stderr,)[formatter_formatter]format=%(asctime)s %(name)-12s %(levelname)-8s %(message)s ç„¶ååœ¨æºç ä¸­è°ƒç”¨ logging.config.fileConfig() æ–¹æ³•ï¼š123456import loggingfrom logging.config import fileConfigfileConfig('logging_config.ini')logger = logging.getLogger()logger.debug('often makes a very good meal of %s', 'visiting tourists') é€šè¿‡å­—å…¸è¿›è¡Œé…ç½®çš„ä¾‹å­Python 2.7ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å­—å…¸å®ç°è¯¦ç»†é…ç½®ã€‚PEP 391 åŒ…å«äº†ä¸€ç³»åˆ—å­—å…¸é…ç½®çš„å¼ºåˆ¶å’Œ éå¼ºåˆ¶çš„å…ƒç´ ã€‚123456789101112131415161718192021222324import loggingfrom logging.config import dictConfiglogging_config = dict( version = 1, formatters = &#123; 'f': &#123;'format': '%(asctime)s %(name)-12s %(levelname)-8s %(message)s'&#125; &#125;, handlers = &#123; 'h': &#123;'class': 'logging.StreamHandler', 'formatter': 'f', 'level': logging.DEBUG&#125; &#125;, root = &#123; 'handlers': ['h'], 'level': logging.DEBUG, &#125;,)dictConfig(logging_config)logger = logging.getLogger()logger.debug('often makes a very good meal of %s', 'visiting tourists') é€šè¿‡æºç ç›´æ¥é…ç½®çš„ä¾‹å­ 1234567891011import logginglogger = logging.getLogger()handler = logging.StreamHandler()formatter = logging.Formatter( '%(asctime)s %(name)-12s %(levelname)-8s %(message)s')handler.setFormatter(formatter)logger.addHandler(handler)logger.setLevel(logging.DEBUG)logger.debug('often makes a very good meal of %s', 'visiting tourists') å®˜æ–¹æ–‡æ¡£è¯´å®Œäº†ï¼Œæ¥çœ‹çœ‹å…·ä½“çš„åº”ç”¨ã€‚ é»˜è®¤çš„æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º WARNING ï¼ˆæ—¥å¿—çº§åˆ«ç­‰çº§ CRITICAL &gt; ERROR &gt; WARNING &gt; INFO &gt; DEBUG &gt; NOTSETï¼‰, å°äº WARNING çº§åˆ«çš„æ—¥å¿—éƒ½ä¸è¾“å‡º, å¤§äºç­‰äº WARNING çº§åˆ«çš„æ—¥å¿—éƒ½ä¼šè¾“å‡ºã€‚ ç®€å•çš„å°†æ—¥å¿—æ‰“å°åˆ°å±å¹•12345678910111213141516171819#!/usr/bin/env python# -*- coding: utf8 -*-import loggingif __name__ == '__main__': logging.basicConfig(level=logging.DEBUG, format='%(asctime)s %(filename)s [line:%(lineno)d] %(levelname)s %(message)s', datefmt='%a, %d %b %Y %H:%M:%S', filename='test.log', filemode='w') console = logging.StreamHandler() console.setLevel(logging.WARNING) formatter=logging.Formatter('%(name)-12s: %(levelname)-8s %(message)s') console.setFormatter(formatter) logging.getLogger('').addHandler(console) logging.debug('This is DEBUG') logging.info('This is INFO') logging.warning('This is WARNING') è¾“å‡º:1root : WARNING This is WARNING test.logæ–‡ä»¶ä¸­åŒ…å«ï¼š123Mon, 15 Jan 2018 20:19:45 sfda.py [line:90] DEBUG This is DEBUGMon, 15 Jan 2018 20:19:45 sfda.py [line:91] INFO This is INFOMon, 15 Jan 2018 20:19:45 sfda.py [line:92] WARNING This is WARNING æ³¨æ„ï¼šç”±äºæ—¥å¿—å†™å…¥æ¨¡å¼è®¾ç½®ä¸º w ï¼Œå› æ­¤é‡å¤è¿è¡Œæ—¶ä¼šå°†ä¹‹å‰çš„æ—¥å¿—æ¸…ç©ºã€‚ logging.basicConfig å‡½æ•°å„å‚æ•°: 123456789101112131415161718filename: æŒ‡å®šæ—¥å¿—æ–‡ä»¶åfilemode: å’Œfileå‡½æ•°æ„ä¹‰ç›¸åŒï¼ŒæŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„æ‰“å¼€æ¨¡å¼ï¼Œâ€™wâ€™æˆ–â€™aâ€™format: æŒ‡å®šè¾“å‡ºçš„æ ¼å¼å’Œå†…å®¹ï¼Œformatå¯ä»¥è¾“å‡ºå¾ˆå¤šæœ‰ç”¨ä¿¡æ¯ï¼Œå¦‚ä¸Šä¾‹æ‰€ç¤º:%(levelno)s: æ‰“å°æ—¥å¿—çº§åˆ«çš„æ•°å€¼%(levelname)s: æ‰“å°æ—¥å¿—çº§åˆ«åç§°%(pathname)s: æ‰“å°å½“å‰æ‰§è¡Œç¨‹åºçš„è·¯å¾„ï¼Œå…¶å®å°±æ˜¯sys.argv[0]%(filename)s: æ‰“å°å½“å‰æ‰§è¡Œç¨‹åºå%(funcName)s: æ‰“å°æ—¥å¿—çš„å½“å‰å‡½æ•°%(lineno)d: æ‰“å°æ—¥å¿—çš„å½“å‰è¡Œå·%(asctime)s: æ‰“å°æ—¥å¿—çš„æ—¶é—´%(thread)d: æ‰“å°çº¿ç¨‹ID%(threadName)s: æ‰“å°çº¿ç¨‹åç§°%(process)d: æ‰“å°è¿›ç¨‹ID%(message)s: æ‰“å°æ—¥å¿—ä¿¡æ¯datefmt: æŒ‡å®šæ—¶é—´æ ¼å¼ï¼ŒåŒtime.strftime()level: è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œé»˜è®¤ä¸ºlogging.WARNINGstream: æŒ‡å®šå°†æ—¥å¿—çš„è¾“å‡ºæµï¼Œå¯ä»¥æŒ‡å®šè¾“å‡ºåˆ°sys.stderr,sys.stdoutæˆ–è€…æ–‡ä»¶ï¼Œé»˜è®¤è¾“å‡ºåˆ°sys.stderrï¼Œå½“streamå’ŒfilenameåŒæ—¶æŒ‡å®šæ—¶ï¼Œstreamè¢«å¿½ç•¥ logging ä¸‰å¤§æ¨¡å—ï¼š Logger , Handler ï¼Œ Formatlogger logger é€šè¿‡ getLogger å‡½æ•°å¾—åˆ°ï¼Œ å¯ä»¥åœ¨ä¸åŒçš„æ¨¡å—ä¸­ä½¿ç”¨ä¸åŒçš„ logger123import logginglogger = logging.getLogger(__name__)logger.debug('some infomation') Handler handler æœ‰å¤šç§ï¼Œ å¯ä»¥è®°å½•åˆ° consoleï¼Œ æˆ–è€…åˆ°æ–‡ä»¶ï¼Œ æ–‡ä»¶ä¹Ÿå¯ä»¥è‡ªåŠ¨ rotateï¼Œ å¸¸ç”¨çš„å‡ ä¸ª handler StreamHandler æ‰“å°åˆ°ç»ˆç«¯ FileHandler ä¿å­˜åˆ°æ–‡ä»¶ RotatingFileHandler ä¿å­˜åˆ°æ–‡ä»¶ï¼Œ è¾¾åˆ°ä¸€å®šå¤§å°ä¹‹åå¤‡ä»½æ–‡ä»¶ã€‚ TimedRotatingFileHandler å®šæ—¶å¤‡ä»½ Format Formatter å¯¹è±¡è®¾ç½®æ—¥å¿—ä¿¡æ¯æœ€åçš„è§„åˆ™ã€ç»“æ„å’Œå†…å®¹ï¼Œé»˜è®¤çš„æ—¶é—´æ ¼å¼ä¸º %Y-%m-%d %H:%M:%S Scrapy ä¸ Logging æ–‡æ¡£ Scrapy uses Pythonâ€™s builtin logging system for event logging. Weâ€™ll provide some simple examples to get you started, but for more advanced use-cases itâ€™s strongly suggested to read thoroughly its documentation. Scrapyä½¿ç”¨Pythonçš„å†…ç½®æ—¥å¿—è®°å½•ç³»ç»Ÿè¿›è¡Œäº‹ä»¶æ—¥å¿—è®°å½•ã€‚ æˆ‘ä»¬å°†æä¾›ä¸€äº›ç®€å•çš„ç¤ºä¾‹æ¥å¸®åŠ©æ‚¨å¼€å§‹ï¼Œä½†å¯¹äºæ›´é«˜çº§çš„ç”¨ä¾‹ï¼Œå¼ºçƒˆå»ºè®®æ‚¨ä»”ç»†é˜…è¯»å…¶æ–‡æ¡£ã€‚ Log levels logging.CRITICAL - for critical errors (highest severity) logging.ERROR - for regular errors logging.WARNING - for warning messages logging.INFO - for informational messages logging.DEBUG - for debugging messages (lowest severity) How to log messages quick example 123import logginglogger = logging.getLogger()logger.warning(\"This is a warning\") Logging from Spidersè¯¥è®°å½•å™¨æ˜¯ä½¿ç”¨Spiderçš„åç§°åˆ›å»ºçš„ï¼Œä½†æ˜¯æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•æ‚¨æƒ³è¦çš„è‡ªå®šä¹‰Pythonè®°å½•å™¨ã€‚ ä¾‹å¦‚ï¼š 123456789101112import loggingimport scrapylogger = logging.getLogger('mycustomlogger')class MySpider(scrapy.Spider): name = 'myspider' start_urls = ['https://scrapinghub.com'] def parse(self, response): logger.info('Parse function called on %s', response.url) åœ¨middlewaresä¸­åº”ç”¨12345678import logginglogger = logging.getLogger(__name__)class ProxyMiddleware(object): def process_request(self, request, spider): request.meta['proxy'] = random.choice(proxy_list) spider.logger.info('get ip: &#123;&#125;'.format(request.meta['proxy'])) ä½¿ç”¨Scrapyè®°å½•çˆ¬å–æ—¥å¿—åœ¨ settings.py ä¸­ä¿®æ”¹:12LOG_STDOUT = TrueLOG_FILE = 'scrapy_log.txt' ç„¶åå¼€å§‹è¿è¡Œçˆ¬è™«ï¼Œæ—¥å¿—ä¸ä¼šæ‰“å°ï¼Œä¼šä¿å­˜åˆ° scrapy_log.txt æ–‡ä»¶ä¸­ã€‚ ä½¿ç”¨errbacksåœ¨è¯·æ±‚å¤„ç†ä¸­æ•è·å¼‚å¸¸è¯·æ±‚çš„errbackæ˜¯åœ¨å¤„ç†å¼‚å¸¸æ—¶è¢«è°ƒç”¨çš„å‡½æ•°ã€‚ å®ƒæ¥æ”¶Twisted Failureå®ä¾‹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯ç”¨äºè·Ÿè¸ªè¿æ¥å»ºç«‹è¶…æ—¶ï¼ŒDNSé”™è¯¯ç­‰ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªçˆ¬è™«æ—¥å¿—è®°å½•æ‰€æœ‰çš„é”™è¯¯å’Œæ•æ‰ä¸€äº›ç‰¹å®šçš„é”™è¯¯ï¼Œä¾‹å­ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import scrapyfrom scrapy.spidermiddlewares.httperror import HttpErrorfrom twisted.internet.error import DNSLookupErrorfrom twisted.internet.error import TimeoutError, TCPTimedOutErrorclass ErrbackSpider(scrapy.Spider): name = \"errback_example\" start_urls = [ \"http://www.httpbin.org/\", # HTTP 200 expected \"http://www.httpbin.org/status/404\", # Not found error \"http://www.httpbin.org/status/500\", # server issue \"http://www.httpbin.org:12345/\", # non-responding host, timeout expected \"http://www.httphttpbinbin.org/\", # DNS error expected ] def start_requests(self): for u in self.start_urls: yield scrapy.Request(u, callback=self.parse_httpbin, errback=self.errback_httpbin, dont_filter=True) def parse_httpbin(self, response): self.logger.info('Got successful response from &#123;&#125;'.format(response.url)) # do something useful here... def errback_httpbin(self, failure): # log all failures self.logger.error(repr(failure)) # in case you want to do something special for some errors, # you may need the failure's type: if failure.check(HttpError): # these exceptions come from HttpError spider middleware # you can get the non-200 response response = failure.value.response self.logger.error('HttpError on %s', response.url) elif failure.check(DNSLookupError): # this is the original request request = failure.request self.logger.error('DNSLookupError on %s', request.url) elif failure.check(TimeoutError, TCPTimedOutError): request = failure.request self.logger.error('TimeoutError on %s', request.url)","tags":[{"name":"2017","slug":"2017","permalink":"https://zhangslob.github.io/tags/2017/"},{"name":"logging","slug":"logging","permalink":"https://zhangslob.github.io/tags/logging/"}]},{"title":"2017 æ¢¦é†’æ—¶åˆ†","date":"2017-12-31T08:09:41.000Z","path":"2017/12/31/2017-æ¢¦é†’æ—¶åˆ†/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåä¸‰ç¯‡åŸåˆ›æ–‡ç«  é¦–å…ˆè¯´è¯´è‡ªå·±å§ï¼Œå°æ­ªã€æ¥è‡ªæ¹–åŒ—ã€åœ¨æ­¦æ±‰ä¸­å—æ°‘æ—å¤§å­¦æœ¬ç§‘ç¤¾ä¼šå­¦ä¸“ä¸šï¼Œç›®å‰åœ¨åŒ—æ¼‚ï¼ŒèŒä½æ˜¯å®¢æˆ·æ”¯æŒ&amp;çˆ¬è™«å·¥ç¨‹å¸ˆã€‚ å…ˆè¯´è¯´è‡ªå·±çš„å¤§å­¦å§ï¼Œå¤§å­¦æ—¶åŸºæœ¬æ˜¯ä¸çŸ¥é“è‡ªå·±æƒ³è¦ä»€ä¹ˆï¼Œä¹Ÿæ²¡æœ‰æ€è€ƒè¿‡è‡ªå·±ä»¥åå»åšä»€ä¹ˆè¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è¯´æ˜¯ç©äº†ä¸‰å¹´ï¼Œåˆ°äº†å¤§å››ï¼Œé¢ä¸´ç€æ¯•ä¸šæ‰¾å·¥ä½œçš„å‹åŠ›ï¼Œå‡ºå»æ‰¾å®ä¹ ï¼Œå¯æ˜¯è‡ªå·±å•¥ä¹Ÿä¸ä¼šå•Šã€‚å°±æ˜¯åœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œæˆ‘æ¥è§¦åˆ°äº†Pythonã€‚ ç¿»çœ‹è‡ªå·±ä¸€å¹´å‰å†™çš„åšå®¢ Pythonç»ƒä¹ ç¬¬ä¸€é¢˜ï¼Œåœ¨å›¾ç‰‡ä¸ŠåŠ å…¥æ•°å­—ï¼Œæˆ‘åœ¨é‡Œé¢æ›¾ç»è¯´è¿‡è¿™æ ·ä¸€å¥è¯ï¼š æœ€åï¼Œæˆ‘æƒ³ç»™è‡ªå·±å®šä¸ªç›®æ ‡ï¼Œ2017å¹´åˆ©ç”¨Pythonæ‰¾åˆ°ä¸€ä»½å·¥ä½œï¼Œå…»æ´»è‡ªå·±ã€‚ åœ¨ä»Šå¤©ï¼Œä¹Ÿå°±æ˜¯2017å¹´12æœˆ31æ—¥ï¼Œæˆ‘å¯ä»¥è‡ªè±ªåœ°è¯´ï¼Œæˆ‘å®Œæˆäº†æˆ‘çš„ç›®æ ‡ã€‚ è¿™å…¶ä¸­å‘ç”Ÿäº†å¾ˆå¤šæœ‰è¶£çš„äº‹ï¼Œæˆ‘ç°åœ¨éƒ½è¯´ä¸€è¯´å§ã€‚ ç¬¬ä¸€ä¸ªofferä¸´è¿‘æ¯•ä¸šçš„æ—¶å€™å½“ç„¶ä¹Ÿæœ‰è·‘å®£è®²ä¼šä»€ä¹ˆçš„ï¼Œå„ç§æœºç¼˜å·§åˆä¸‹ï¼Œæ‹¿åˆ°äº†ç¬¬ä¸€ä¸ªofferï¼Œæ˜¯é£Ÿå“è¡Œä¸šçš„ï¼Œå¥½åƒæ˜¯ä»€ä¹ˆè´¨æ£€å‘˜ï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±è¿˜æ˜¯æƒ³å»äº’è”ç½‘è¡Œä¸šçš„ï¼Œæ‰€ä»¥æ‹’ç»äº†ã€‚ ç¬¬äºŒä¸ªofferç¬¬äºŒä¸ªæ˜¯æŸæ´¾æ–°é—»ï¼Œå·ç§°å…šåª’æ——ä¸‹çš„åª’ä½“ã€‚åˆšå»çš„æ—¶å€™ï¼Œåšçš„æ˜¯å®¡æ ¸ç±»çš„å·¥ä½œï¼Œæœ€åæ‰å‘ç°é‡Œé¢çš„å„ç§å‘ã€‚å¥½é™©è‡ªå·±å‘ç°çš„æ—©ï¼Œæ—¶é—´å·²ç»æ¥åˆ°17å¹´çš„3æœˆä»½ã€‚ ç¬¬ä¸‰ä¸ªoffer åˆ°3æœˆä»½ï¼Œæˆ‘è¿˜æ²¡æ‰¾åˆ°å·¥ä½œï¼Œä½†æ˜¯è‡ªå·±å¿ƒç°æ„å†·ï¼Œå¾ˆå®³æ€•åˆšæ¯•ä¸šå°±å¤±ä¸šï¼Œä½†æ˜¯åœ¨æ­¦æ±‰æ ¹æœ¬å¾ˆéš¾æ‰¾åˆ°åˆé€‚çš„å·¥ä½œã€‚æ°å¥½åœ¨è¿™ä¸ªæ—¶å€™ï¼Œè®¤è¯†äº†å¤©å–„çš„å‹‡å“¥ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹å¤©å–„çš„è¯¾ç¨‹ï¼Œéƒ½æ˜¯ä¸€çº¿å¤§ç‰›äººç‰©ï¼Œå¤©å–„æ™ºèƒ½ã€‚ç„¶åæˆ‘å°±å»ä¸Šæµ·äº†ï¼Œå»ä¸Šæµ·çš„ä¸€ä¸ªæœˆæ—¶é—´ï¼Œæˆ‘è‡ªå·±æ”¹å˜æ˜¯éå¸¸å¤§çš„ã€‚è®¤è¯†äº†å¾ˆå¤šå¤§ä½¬ï¼Œè§è¯†äº†å¾ˆå¤šæ–°çš„æƒ³æ³•ã€‚ åœ¨å¤©å–„åšçš„æ˜¯æ–°åª’ä½“è¿™ä¸€å—ï¼Œä½†æ˜¯å°±æœ‰å†™è¿™æ ·ä¸€ç¯‡æ–‡ç« ï¼Œå«åšä¸ºäº†æ‰¾ä¸€ä»½Pythonå®ä¹ ï¼Œæˆ‘ç”¨çˆ¬è™«æ”¶é›†æ•°æ®ï¼Œå¾ˆå·§çš„äº‹æƒ…æ˜¯ï¼Œç°åœ¨æˆ‘çš„BOSSçœŸå¥½çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œç„¶åå°±è”ç³»æˆ‘äº†ï¼Œç„¶åæˆ‘å°±æ¥äº†ã€‚ ç¬¬å››ä¸ªoffer æˆ‘æ˜¯6æœˆä»½æ¥åˆ°åŒ—äº¬çš„ï¼Œåˆ°ç°åœ¨å·²ç»æœ‰åŠå¹´äº†ï¼Œä¸€ç›´å‘†åœ¨é€ æ•°ã€‚ åšè¿‡è¿è¥ã€åšè¿‡å®¢æˆ·æ”¯æŒï¼Œæœ€è¿‘å¼€å§‹æ¥è§¦é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨Pythonå¼€å‘é¡¹ç›®ï¼Œè™½ç„¶æœ‰å¾ˆå¤šåšå¾—ä¸å¥½çš„åœ°æ–¹ï¼Œä½†æ˜¯å¯¹æˆ‘æ¥è¯´è¿™æ˜¯ä¸€ä¸ªå¼€å§‹ã€‚ æˆ‘æ¯å¤©ä¼šèŠ±å¾ˆå¤šæ—¶é—´å»å­¦ä¹ ï¼ˆå‘¨æœ«é™¤å¤–ï¼Œå› ä¸ºæˆ‘è¦åƒé¸¡ï¼Œhahaï¼‰ï¼Œä¹Ÿä¼šç»å¸¸å†™åšå®¢ï¼Œè®°å½•è‡ªå·±çš„å­¦ä¹ ç»å†ï¼Œæ¥è§¦é¡¹ç›®ä¹‹åæ‰å‘ç°è‡ªå·±ä»¥å‰çš„å„ç§æ¯›ç—…ï¼Œè¿™äº›éƒ½ä¸æ˜¯é—®é¢˜ï¼ŒåšæŒå­¦ä¹ å°±å¥½ã€‚ è¿™æœŸé—´ï¼Œæˆ‘è¿˜é…åˆé€ æ•°çš„é¦–å¸­çˆ¬è™«å·¥ç¨‹å¸ˆå°Xåˆ¶ä½œäº†ä¸€æœŸPythonçˆ¬è™«è¯¾ç¨‹ï¼Œè¯¾ç¨‹è¿˜æ˜¯æŒºç²¾å½©çš„ï¼Œæˆ‘å­¦ä¹ è¿›é˜¶éƒ¨åˆ†åï¼Œæ„Ÿè§‰å¯¹Scrapyæ¡†æ¶å…¥é—¨äº†ã€‚ æœ‰å…´è¶£çš„å¯ä»¥çœ‹çœ‹ï¼Œä½†æ˜¯æˆ‘å¹¶ä¸æ¨èï¼Œå› ä¸ºå­¦Pythonæˆ–è€…çˆ¬è™«æœ€å¥½çš„è¿˜æ˜¯å»çœ‹æ–‡æ¡£ï¼Œæ–‡æ¡£æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚è¿™ç§åŸ¹è®­è¯¾ç¨‹åªæœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯åŠæ—¶çš„å¸®ä½ è§£ç­”ç–‘æƒ‘ã€‚ å¥½äº†ï¼Œä¸æ‰¯è¿œäº†ï¼Œç»§ç»­å›åˆ°ä»Šå¤©çš„ä¸»é¢˜ã€‚ æ€»ç»“2017å¹´å¯¹æˆ‘æ¥è¯´å°±æ˜¯â€œæ¢¦é†’æ—¶åˆ†â€ï¼Œæ€»ç®—æ˜¯åœ¨è¿™ä¸€å¹´å®Œæˆäº†è‡ªå·±çš„æ¢¦æƒ³ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦è‡ªå·±æ›´åŠ åŠªåŠ›ï¼Œå»å¼¥è¡¥è‡ªå·±æ‰€ç¼ºä¹çš„ã€‚ å¯¹äºæˆ‘è¿™ä¸ªæ–‡ç§‘ç”Ÿæ¥è¯´ï¼Œç¡®å®æ˜¯æŒºä¸å®¹æ˜“çš„ï¼Œä½†æ˜¯å°±åƒæ­Œè¯é‡Œçš„ï¼š æ–°çš„é£æš´å·²ç»å‡ºç°æ€ä¹ˆèƒ½å¤Ÿåœæ»ä¸å‰ç©¿è¶Šæ—¶ç©ºç«­å°½å…¨åŠ›æˆ‘ä¼šæ¥åˆ°ä½ èº«è¾¹å¾®ç¬‘é¢å¯¹å±é™©æ¢¦æƒ³æˆçœŸä¸ä¼šé¥è¿œé¼“èµ·å‹‡æ°”åšå®šå‘å‰å¥‡è¿¹ä¸€å®šä¼šå‡ºç° éå¸¸æ¬¢è¿å¤§å®¶ä¸æˆ‘äº¤æµï¼Œæœ‰ä»€ä¹ˆç–‘é—®å¯ä»¥ç›´æ¥åœ¨è¯„è®ºä¸­è¯´å‡ºæ¥ï¼Œæˆ‘å®šä¼šçŸ¥æ— ä¸è¨€ã€‚ ä¹Ÿå¯ä»¥åŠ æˆ‘å¾®ä¿¡äº¤æµï¼š zhang7350 æœ€åï¼Œå¦‚æœä½ ä¹Ÿæƒ³è¦å­¦Pythonæ‰¾å·¥ä½œï¼Œä½ åº”è¯¥å…ˆé—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼š æˆ‘å–œæ¬¢Pythonå—ï¼Ÿ","tags":[{"name":"å¹´åº¦æ€»ç»“","slug":"å¹´åº¦æ€»ç»“","permalink":"https://zhangslob.github.io/tags/å¹´åº¦æ€»ç»“/"},{"name":"2017","slug":"2017","permalink":"https://zhangslob.github.io/tags/2017/"}]},{"title":"é‡‡é›†æ–¹æ¡ˆç­–ç•¥ä¹‹AppæŠ“åŒ…","date":"2017-12-23T13:40:26.000Z","path":"2017/12/23/é‡‡é›†æ–¹æ¡ˆç­–ç•¥ä¹‹AppæŠ“åŒ…/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåäºŒç¯‡åŸåˆ›æ–‡ç«  é‡‡é›†æ–¹æ¡ˆç­–ç•¥è®¾è®¡åœ¨ç¾¤é‡Œçœ‹åˆ°æœ‰äººè¯¢é—®é¥¿äº†ä¹ˆçš„å‚æ•°ï¼Œæ­£å¥½æ„Ÿå…´è¶£ï¼Œå°±æ¥æ—¶é—´ä¸€ç•ªã€‚ è¿™é‡Œå¼•ç”¨ä¸‹å¤§ä½¬çš„ä¸€æ®µè¯ï¼š é¦–å…ˆå¤§çš„åœ°æ–¹ï¼Œæˆ‘ä»¬æƒ³æŠ“å–æŸä¸ªæ•°æ®æºï¼Œæˆ‘ä»¬è¦çŸ¥é“å¤§æ¦‚æœ‰å“ªäº›è·¯å¾„å¯ä»¥è·å–åˆ°æ•°æ®æºï¼ŒåŸºæœ¬ä¸Šæ— å¤–ä¹ä¸‰ç§ï¼š PCç«¯ç½‘ç«™ é’ˆå¯¹ç§»åŠ¨è®¾å¤‡å“åº”å¼è®¾è®¡çš„ç½‘ç«™ï¼ˆä¹Ÿå°±æ˜¯å¾ˆå¤šäººè¯´çš„H5, è™½ç„¶ä¸ä¸€å®šæ˜¯H5ï¼‰ï¼› ç§»åŠ¨App åŸåˆ™æ˜¯èƒ½æŠ“ç§»åŠ¨Appçš„ï¼Œæœ€å¥½æŠ“ç§»åŠ¨Appï¼Œå¦‚æœæœ‰é’ˆå¯¹ç§»åŠ¨è®¾å¤‡ä¼˜åŒ–çš„ç½‘ç«™ï¼Œå°±æŠ“é’ˆå¯¹ç§»åŠ¨è®¾å¤‡ä¼˜åŒ–çš„ç½‘ç«™ï¼Œæœ€åè€ƒè™‘PCç½‘ç«™ã€‚å› ä¸ºç§»åŠ¨AppåŸºæœ¬éƒ½æ˜¯APIå¾ˆç®€å•ï¼Œè€Œç§»åŠ¨è®¾å¤‡è®¿é—®ä¼˜åŒ–çš„ç½‘ç«™ä¸€èˆ¬æ¥è®²éƒ½æ˜¯ç»“æ„ç®€å•æ¸…æ™°çš„HTMLï¼Œè€ŒPCç½‘ç«™è‡ªç„¶æ˜¯æœ€å¤æ‚çš„äº†ï¼›é’ˆå¯¹PCç«¯ç½‘ç«™å’Œç§»åŠ¨ç½‘ç«™çš„åšæ³•ä¸€æ ·ï¼Œåˆ†ææ€è·¯å¯ä»¥ä¸€èµ·è®²ï¼Œç§»åŠ¨Appå•ç‹¬åˆ†æã€‚ å…¶å®å¾ˆå¤šç½‘é¡µéƒ½æœ‰ç§»åŠ¨ç«¯ï¼Œåƒå¾®åšï¼Œæˆ‘çŸ¥é“è¿™ä¸‰ä¸ªï¼š weibo.com weibo.cn m.weibo.cn æœ€ç®€å•çš„å½“ç„¶æ˜¯ç¬¬äºŒç§äº†ï¼Œå¯¹äºä»Šå¤©çš„å—å®³è€…â€”â€”é¥¿äº†ä¹ˆæ¥è¯´ï¼Œå½“ç„¶ï¼Œé¦–é€‰ä¹Ÿæ˜¯ç§»åŠ¨ç«¯ã€‚ é¥¿äº†ä¹ˆæŠ“åŒ…åˆ†æè¿™é‡ŒæŠ“åŒ…å·¥å…·é€‰æ‹©Fiddlerï¼Œè¿™é‡Œä¸è®²å¦‚ä½•é…ç½®ï¼Œå…·ä½“å‚è€ƒ ç”¨Fiddlerå¯¹Androidåº”ç”¨è¿›è¡ŒæŠ“åŒ… ä¸‹é¢æ‰“å¼€æ‰‹æœºçš„é¥¿äº†ä¹ˆï¼ŒåŸæœ¬ä»¥ä¸ºä¼šæœ‰æ•°æ®ï¼Œç»“æœï¼Œç«Ÿç„¶æ˜¯è¿™æ · å»è¯¢é—®äº†ä¸“ä¸šäººå£«ï¼Œäº†è§£äº†æœ‰äº›åº”ç”¨ä¸å…è®¸ç”¨æˆ·æŠ“åŒ…ï¼Œä¼šæœ‰ç›¸åº”çš„é™åˆ¶ã€‚å¥½å§ï¼Œè¿™å°±èƒ½éš¾å€’æˆ‘äº†å—ï¼Ÿï¼Ÿ å½“æˆ‘åˆ‡æ¢åˆ°å‘ç°ç±»ç›®ä¸‹ï¼Œå‘ç°æœ‰å¥‡æ€ªçš„æç¤º åœ¨ç–¯ç‹‚ç‚¹å‡»ç»§ç»­è®¿é—®åï¼Œæˆ‘ç»ˆäºå¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚ é‚£ä¹ˆå°±å¯ä»¥åœ¨Fiddlerä¸­æŸ¥çœ‹å¯¹åº”çš„æ•°æ®äº†ã€‚è¿™é‡Œç›´æ¥æŠŠæ¥å£å±•ç¤ºå‡ºæ¥ï¼šé¥¿äº†ä¹ˆæ¥å£ æµè§ˆå™¨ç›´æ¥æ‰“å¼€ï¼Œè²Œä¼¼æ²¡æœ‰å•¥éªŒè¯ å…·ä½“åˆ†æé‡Œé¢çš„å‚æ•° 1234offset:20limit:40latitude:39.93245longitude:116.50097 æœ‰4ä¸ªå‚æ•°ï¼Œ offset å’Œ limit å°±å¾ˆå¸¸è§äº†ï¼Œç¿»é¡µå’Œæ¯é¡µçš„æ•°æ®ï¼Œè‡³äº latitude å’Œ longitude ä»”ç»†è§‚å¯Ÿå°±çŸ¥é“ï¼Œç»çº¬åº¦å˜›ï¼ŒæŠŠå®ƒè¯¥ä¿®æ”¹ä¸ºä½ æƒ³é‡‡é›†çš„ä½ç½®çš„ç»çº¬åº¦å°±å¥½ã€‚ æŠ“åŒ…åˆ†æä¹‹åï¼Œæ¥ä¸‹æ¥é‡‡é›†æ•°æ®å°±å¾ˆç®€å•äº†ï¼Œæ•°æ®å­—æ®µæ ‡è¯†ï¼š food_id æ˜¯å•†å“IDï¼Œæ¥å£æ˜¯ï¼šhttps://www.ele.me/restapi/shopping/v1/foods?food_ids%5B%5D=712859937 æ‰“å¼€æ­¤é“¾æ¥å°±æ˜¯å•†å“è¯¦æƒ…å†…å®¹ å¯çˆ±çš„å°ç¬¼åŒ… restaurant_id æ˜¯åº—é“ºIDï¼Œæ¥å£ https://www.ele.me/shop/157458556 æ‰“å¼€å°±æ˜¯åº—é“ºè¯¦æƒ…é¡µï¼Œå½“ç„¶ï¼Œä¹Ÿæœ‰ç§»åŠ¨ç«¯ï¼šhttps://h5.ele.me/shop/#id=157458556 è¿™æ ·è¿›è¡Œå•†å“é‡‡é›†å°±æ¯”è¾ƒè½»æ¾äº†ã€‚ å¥½é¥¿ï¼Œå®¹æˆ‘å…ˆç‚¹ä¸ªå¤–å–ã€‚ å¾®ä¿¡å…¬ä¼—å·æŠ“åŒ…åˆ†ææ—¢ç„¶éƒ½çœ‹äº†é¥¿äº†ä¹ˆï¼Œé‚£ä¹Ÿæ¥çœ‹çœ‹å¾®ä¿¡å§ã€‚ ä½¿ç”¨FiddleræŠ“å‡ºæ¥çš„curlå‘½ä»¤ 1curl -k -i --raw -o 0.dat &quot;https://mp.weixin.qq.com/mp/profile_ext?action=getmsg&amp;__biz=MzA4NzA1OTc5Nw==&amp;f=json&amp;offset=20&amp;count=10&amp;appmsg_token=936_iWFH%%252F9haOTPb6GApBj6wXjPGKg9eeU7slzmH2Q~~&quot; -H &quot;User-Agent: Mozilla/5.0 (Linux; Android 7.1.1; MI 6 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/53.0.2785.49 Mobile MQQBrowser/6.2 TBS/043632 Safari/537.36 MicroMessenger/6.5.23.1180 NetType/WIFI Language/zh_CN&quot; -H &quot;Accept-Encoding: gzip, deflate&quot; -H &quot;Accept: */*&quot; -H &quot;Connection: keep-alive&quot; -H &quot;Host: mp.weixin.qq.com&quot; -H &quot;X-Requested-With: XMLHttpRequest&quot; -H &quot;Referer: https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzA4NzA1OTc5Nw==&amp;scene=124&amp;devicetype=android-25&amp;version=26051732&amp;lang=zh_CN&amp;nettype=WIFI&amp;a8scene=3&amp;pass_ticket=lLCqBwwrZ581bGDqrEkRsgjKkWYNPdUBs9grSaFjd79hSX0mdvR8%%2BLUbHoWGGBEp&amp;wx_header=1&quot; -H &quot;Accept-Language: zh-CN,en-US;q=0.8&quot; -H &quot;Cookie: pgv_pvi=4831552512; pgv_si=s989715456; sd_userid=18991505459750403; sd_cookie_crttime=1505459750403; tvfe_boss_uuid=a8e4e4f1ab6cd93d; pgv_info=ssid=s8735681072; pgv_pvid=4201362299; rewardsn=8d8b49dfb1811092eefe; wxtokenkey=19643e9f2ee569a10857d365bba88556d220fd33c1a0666b5d028a72b5bcd901; wxuin=838107840; devicetype=android-25; version=26051732; lang=zh_CN; pass_ticket=lLCqBwwrZ581bGDqrEkRsgjKkWYNPdUBs9grSaFjd79hSX0mdvR8+LUbHoWGGBEp; wap_sid2=CMCF0o8DElxUVDVJR3o1ZldpbDlHWWdjQ0xMU3lxM3BWTUozTFFuZFhrUEJaanhoSmZ1aEVncnU0VzFIaWR3QkVVVXFuTUlMTlkxNFZjTnRCMEt1VHJjV3UzQVNOYWdEQUFBfjD6rvjRBTgMQJRO&quot; -H &quot;Q-UA2: QV=3&amp;PL=ADR&amp;PR=WX&amp;PP=com.tencent.mm&amp;PPVN=6.5.23&amp;TBSVC=43602&amp;CO=BK&amp;COVC=043632&amp;PB=GE&amp;VE=GA&amp;DE=PHONE&amp;CHID=0&amp;LCID=9422&amp;MO= MI6 &amp;RL=1080*1920&amp;OS=7.1.1&amp;API=25&quot; -H &quot;Q-GUID: 569ade09b5931656e4f49098113e88cb&quot; -H &quot;Q-Auth: 31045b957cf33acf31e40be2f3e71c5217597676a9729f1b&quot; -H &quot;Content-Type: application/json; charset=UTF-8&quot; -H &quot;Cache-Control: no-cache, must-revalidate&quot; -H &quot;RetKey: 14&quot; -H &quot;LogicRet: 0&quot; ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œä¼šæç¤ºé”™è¯¯ 12345&#123;ret: -3,errmsg: &quot;no session&quot;,cookie_count: 0&#125; ä½¿ç”¨postmanåˆ†æï¼Œæœ€åPythonçš„ä»£ç æ˜¯ 1234567891011121314151617181920212223242526272829import requestsurl = \"https://mp.weixin.qq.com/mp/profile_ext\"querystring = &#123;\"action\":\"getmsg\",\"__biz\":\"MzA4NzA1OTc5Nw==\",\"f\":\"json\",\"offset\":\"20\",\"count\":\"10\",\"appmsg_token\":\"936_iWFH%2F9haOTPb6GApBj6wXjPGKg9eeU7slzmH2Q~~\"&#125;headers = &#123; 'user-agent': \"Mozilla/5.0 (Linux; Android 7.1.1; MI 6 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/53.0.2785.49 Mobile MQQBrowser/6.2 TBS/043632 Safari/537.36 MicroMessenger/6.5.23.1180 NetType/WIFI Language/zh_CN\", 'accept-encoding': \"gzip, deflate\", 'accept': \"*/*\", 'connection': \"keep-alive\", 'host': \"mp.weixin.qq.com\", 'x-requested-with': \"XMLHttpRequest\", 'referer': \"https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzA4NzA1OTc5Nw==&amp;scene=124&amp;devicetype=android-25&amp;version=26051732&amp;lang=zh_CN&amp;nettype=WIFI&amp;a8scene=3&amp;pass_ticket=lLCqBwwrZ581bGDqrEkRsgjKkWYNPdUBs9grSaFjd79hSX0mdvR8%%2BLUbHoWGGBEp&amp;wx_header=1\", 'accept-language': \"zh-CN,en-US;q=0.8\", 'cookie': \"pgv_pvi=4831552512; pgv_si=s989715456; sd_userid=18991505459750403; sd_cookie_crttime=1505459750403; tvfe_boss_uuid=a8e4e4f1ab6cd93d; pgv_info=ssid=s8735681072; pgv_pvid=4201362299; rewardsn=8d8b49dfb1811092eefe; wxtokenkey=19643e9f2ee569a10857d365bba88556d220fd33c1a0666b5d028a72b5bcd901; wxuin=838107840; devicetype=android-25; version=26051732; lang=zh_CN; pass_ticket=lLCqBwwrZ581bGDqrEkRsgjKkWYNPdUBs9grSaFjd79hSX0mdvR8+LUbHoWGGBEp; wap_sid2=CMCF0o8DElxUVDVJR3o1ZldpbDlHWWdjQ0xMU3lxM3BWTUozTFFuZFhrUEJaanhoSmZ1aEVncnU0VzFIaWR3QkVVVXFuTUlMTlkxNFZjTnRCMEt1VHJjV3UzQVNOYWdEQUFBfjD6rvjRBTgMQJRO\", 'q-ua2': \"QV=3&amp;PL=ADR&amp;PR=WX&amp;PP=com.tencent.mm&amp;PPVN=6.5.23&amp;TBSVC=43602&amp;CO=BK&amp;COVC=043632&amp;PB=GE&amp;VE=GA&amp;DE=PHONE&amp;CHID=0&amp;LCID=9422&amp;MO= MI6 &amp;RL=1080*1920&amp;OS=7.1.1&amp;API=25\", 'q-guid': \"569ade09b5931656e4f49098113e88cb\", 'q-auth': \"31045b957cf33acf31e40be2f3e71c5217597676a9729f1b\", 'content-type': \"application/json; charset=UTF-8\", 'cache-control': \"no-cache\", 'retkey': \"14\", 'logicret': \"0\", &#125;response = requests.request(\"GET\", url, headers=headers, params=querystring, verify=False)print(response.json()) è¿™ä¸ªæ—¶å€™çš„å‚æ•°æœ‰ 123456action:getmsg__biz:MzA4NzA1OTc5Nw==f:jsonoffset:20count:10appmsg_token:936_iWFH%%252F9haOTPb6GApBj6wXjPGKg9eeU7slzmH2Q~~ ç›®å‰è¿˜ä¸æ¸…æ¥šè¿™äº›å‚æ•°çš„ä½œç”¨ï¼Œå†æŠ“ä¸€ä¸ªè¯•è¯• 123456action:getmsg__biz:MjM5NzI3NDg4MA==f:jsonoffset:10count:10appmsg_token:936_kFNdYU3DJ%%252B%%252BVfHfEGImXqB5DMbIeqtSR75ZFZQ~~ ä¼°è®¡å°±æ˜¯ __biz å’Œ appmsg_token è¿™ä¸¤ä¸ªå‚æ•°å¯¹åº”ä¸åŒçš„å…¬ä¼—å· å¯¹äº†ï¼Œä¸Šé¢çš„ä»£ç ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ 12InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings InsecureRequestWarning) è§£å†³æ–¹æ³• 12from requests.packages import urllib3urllib3.disable_warnings() Appçš„åˆ†æAppç±»ä½¿ç”¨çš„å·¥å…·æ˜¯Fidderï¼Œæ‰‹æœºå’Œç”µè„‘åœ¨ä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œå…ˆç”¨Fidderé…ç½®å¥½ç«¯å£ï¼Œç„¶åæ‰‹æœºè®¾ç½®ä»£ç†ï¼Œipä¸ºç”µè„‘çš„ipï¼Œç«¯å£ä¸ºè®¾ç½®çš„ç«¯å£ï¼Œç„¶åå¦‚æœæ‰‹æœºä¸Šè¯·æ±‚ç½‘ç»œå†…å®¹æ—¶ï¼ŒFidderä¼šæ˜¾ç¤ºç›¸åº”åœ°è¯·æ±‚ï¼Œé‚£ä¹ˆå°±okäº†ï¼Œåˆ†æçš„å¤§ä½“é€»è¾‘åŸºæœ¬ä¸€è‡´ï¼Œé™åˆ¶ä¼šç›¸å¯¹å°‘å¾ˆå¤šï¼Œä½†æ˜¯ä¹Ÿæœ‰å‡ ç§æƒ…å†µéœ€è¦æ³¨æ„ï¼š åŠ å¯†ï¼ŒAppæœ‰æ—¶å€™ä¹Ÿæœ‰ä¸€äº›åŠ å¯†çš„å­—æ®µï¼Œè¿™ä¸ªæ—¶å€™,ä¸€èˆ¬æ¥è®²éƒ½ä¼šè¿›è¡Œåç¼–è¯‘è¿›è¡Œåˆ†æï¼Œæ‰¾åˆ°å¯¹åº”çš„ä»£ç ç‰‡æ®µï¼Œé€†æ¨å‡ºåŠ å¯†æ–¹æ³•ï¼› gzipå‹ç¼©æˆ–è€…base64ç¼–ç ï¼Œbase64ç¼–ç çš„è¾¨åˆ«åº¦è¾ƒé«˜ï¼Œæœ‰æ—¶å€™æ•°æ®è¢«gzipå‹ç¼©äº†ï¼Œä¸è¿‡Charleséƒ½æ˜¯æœ‰è‡ªåŠ¨è§£å¯†çš„ï¼› httpsè¯ä¹¦ï¼Œæœ‰çš„httpsè¯·æ±‚ä¼šéªŒè¯è¯ä¹¦, Fidderæä¾›äº†è¯ä¹¦ï¼Œå¯ä»¥åœ¨å®˜ç½‘æ‰¾åˆ°ï¼Œæ‰‹æœºè®¿é—®ï¼Œç„¶åä¿¡ä»»æ·»åŠ å°±å¯ä»¥ã€‚ æœ€åï¼Œç¥å¤§å®¶åœ£è¯èŠ‚å¿«ä¹","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"æŠ“åŒ…","slug":"æŠ“åŒ…","permalink":"https://zhangslob.github.io/tags/æŠ“åŒ…/"}]},{"title":"ã€RNG vs SKTã€‘å¼¹å¹•çš„è‡ªç„¶è¯­è¨€çš„åˆæ­¥åˆ†æ","date":"2017-12-20T14:17:35.000Z","path":"2017/12/20/ã€RNG-vs-SKTã€‘å¼¹å¹•çš„è‡ªç„¶è¯­è¨€çš„åˆæ­¥åˆ†æ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåä¸€ç¯‡åŸåˆ›æ–‡ç«  å‰æ’ @çš‡æ—ç”µå­ç«æŠ€ä¿±ä¹éƒ¨ ================================== S7ä¸­RNGå¯¹é˜µSKTï¼Œæƒ³å¿…æ˜¯å…¨ä¸–ç•ŒLOLç©å®¶å…³æ³¨çš„é‡ç‚¹ã€‚åœ¨æ¯”èµ›å¼€å§‹å‰ï¼Œä½¿ç”¨å°è‘«èŠ¦æŠŠæ–—é±¼S7ç›´æ’­é—´çš„å¼¹å¹•éƒ½æŠ“ä¸‹æ¥ï¼Œæƒ³ç€åšä¸€å°ç‚¹åˆ†æï¼Œçœ‹çœ‹ä¼šå¾—å‡ºä»€ä¹ˆç»“è®ºã€‚ å› ä¸ºæ•°æ®é‡å’Œåˆ†ææ·±åº¦ç­‰åŸå› ï¼Œä»¥ä¸‹å†…å®¹ä»…ä¾›å¨±ä¹è§‚èµ æ•°æ®é‡‡é›†ä½¿ç”¨å°è‘«èŠ¦é‡‡é›†2ä¸‡å¤šæ¡å¼¹å¹•æ•°æ®ï¼ŒRNGå¯¹é˜µSKTæ–—é±¼ç›´æ’­é—´çš„å¼¹å¹•ï¼Œæœ€åå¾—åˆ°çº¦4ä¸‡å¯ç”¨æ•°æ® ä¸­æ–‡åˆ†è¯ä½¿ç”¨jiebaåˆ†è¯ï¼Œç®—æ³•å¦‚ä¸‹ åŸºäºå‰ç¼€è¯å…¸å®ç°é«˜æ•ˆçš„è¯å›¾æ‰«æï¼Œç”Ÿæˆå¥å­ä¸­æ±‰å­—æ‰€æœ‰å¯èƒ½æˆè¯æƒ…å†µæ‰€æ„æˆçš„æœ‰å‘æ— ç¯å›¾ (DAG) é‡‡ç”¨äº†åŠ¨æ€è§„åˆ’æŸ¥æ‰¾æœ€å¤§æ¦‚ç‡è·¯å¾„, æ‰¾å‡ºåŸºäºè¯é¢‘çš„æœ€å¤§åˆ‡åˆ†ç»„åˆ å¯¹äºæœªç™»å½•è¯ï¼Œé‡‡ç”¨äº†åŸºäºæ±‰å­—æˆè¯èƒ½åŠ›çš„ HMM æ¨¡å‹ï¼Œä½¿ç”¨äº† Viterbi ç®—æ³• ç®€å•å¤„ç†ä¹‹åï¼Œçœ‹èµ·æ¥æ˜¯è¿™æ · é¡ºä¾¿åšä¸ªç»Ÿè®¡ï¼Œçœ‹çœ‹éƒ½åœ¨è¯´ä»€ä¹ˆã€‚ä¸åŠ åœç”¨è¯æ˜¯è¿™æ ·çš„ï¼Œå…¨æ˜¯ â€œ666â€ RNGå’Œç‰›é€¼æ˜¯å‡ºç°æœ€å¤šçš„è¯è¯­ï¼ŒåŒæ—¶ä¹Ÿå‘ç°â€œå¢æœ¬ä¼Ÿç‰›é€¼â€ å¼±å¼±é—®ä¸€å¥â€œå”æ¢¦ç¼â€æ˜¯è° ä¸‹é¢æ˜¯è¯äº‘ï¼ŒPythonçš„è¯äº‘åšä¸æ¥ä¸å¥½çœ‹ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨çš„å·¥å…· HTML5 Word Cloud å¼¹å¹•å†…å®¹è¯äº‘ ç”¨æˆ·æ˜µç§°è¯äº‘ æƒ…æ„Ÿåˆ†æè¿™é‡Œä½¿ç”¨çš„æ˜¯ isnowfy/snownlpã€‚SnowNLPæ˜¯ä¸€ä¸ªpythonå†™çš„ç±»åº“ï¼Œå¯ä»¥æ–¹ä¾¿çš„å¤„ç†ä¸­æ–‡æ–‡æœ¬å†…å®¹ï¼Œæ˜¯å—åˆ°äº†TextBlobçš„å¯å‘è€Œå†™çš„ã€‚ 1234from snownlp import SnowNLPs = SnowNLP(u'è¿™ä¸ªä¸œè¥¿çœŸå¿ƒå¾ˆèµ')s.sentiments # 0.9769663402895832 positiveçš„æ¦‚ç‡ æœ‰ç‚¹éš¾çœ‹ï¼Œç›´æ¥çœ‹æ•°æ®å§ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯åœ¨ [0ï¼Œ1] ä¹‹é—´çš„positiveçš„æ¦‚ç‡ 51659ä¸­æœ‰44705ä¸ªå¤§äº0.5ï¼Œå æ¯”86.54%ï¼Œæœ‰ 6954æ¡å¼¹å¹•ä½äº0.5ï¼Œå æ¯”13.46%ã€‚ å¼¹å¹•ä¸­ç§¯æçš„æ¦‚ç‡è¿˜æ˜¯ç›¸å½“é«˜çš„ï¼Œè¯´æ˜è§‚ä¼—è¿˜æ˜¯æ¯”è¾ƒèµèµæ¯”èµ›çš„ã€‚ ç‰¹å¾æå–TF-IDFæ˜¯ä¿¡æ¯æ£€ç´¢é¢†åŸŸéå¸¸é‡è¦çš„æœç´¢è¯é‡è¦æ€§åº¦é‡ï¼›tf-idfæ˜¯ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œç”¨ä»¥è¯„ä¼°ä¸€å­—è¯å¯¹äºä¸€ä¸ªæ–‡ä»¶é›†æˆ–ä¸€ä¸ªè¯­æ–™åº“ä¸­çš„å…¶ä¸­ä¸€ä»½æ–‡ä»¶çš„é‡è¦ç¨‹åº¦ã€‚ è¯é¢‘TF(Term Frequency) è¯wåœ¨æ–‡æ¡£dä¸­å‡ºç°æ¬¡æ•°count(w, d)å’Œæ–‡æ¡£dä¸­æ€»è¯æ•°size(d)çš„æ¯”å€¼ï¼š åŸºäº TF-IDF ç®—æ³•çš„å…³é”®è¯æŠ½å–ï¼š RNG rng è´ºç”µ åŠ æ²¹ å‘æ¥ 666 6666 66666 æ­å–œ 66666666666666 666666 66666666666 6666666 skt æå“¥ 66666666666666666666 SKT 66666666 666666666 é©¬ç”² åœ¨æ²¡æœ‰åŠ ä¸Šåœç”¨è¯çš„å‰æä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æ•ˆæœå¹¶ä¸ç†æƒ³ TextRankæ˜¯åœ¨Googleçš„PageRankç®—æ³•å¯å‘ä¸‹ï¼Œé’ˆå¯¹æ–‡æœ¬é‡Œçš„å¥å­è®¾è®¡çš„æƒé‡ç®—æ³•ï¼Œç›®æ ‡æ˜¯è‡ªåŠ¨æ‘˜è¦ã€‚å®ƒåˆ©ç”¨æŠ•ç¥¨çš„åŸç†ï¼Œè®©æ¯ä¸€ä¸ªå•è¯ç»™å®ƒçš„é‚»å±…ï¼ˆæœ¯è¯­ç§°çª—å£ï¼‰æŠ•èµæˆç¥¨ï¼Œç¥¨çš„æƒé‡å–å†³äºè‡ªå·±çš„ç¥¨æ•°ã€‚ åŸºäº TextRank ç®—æ³•çš„å…³é”®è¯æŠ½å–ï¼š å‘æ¥ è´ºç”µ åŠ æ²¹ å­¦é™¢ æœºå™¨äºº å¤§å­¦ èŒä¸š èˆ¹é•¿ æŠ€æœ¯ å°ç‚® æ²¡æœ‰ è§£è¯´ ä¸­å›½ ç»æµ å¼€å§‹ æ— æ•Œ é¦™é”… åƒåœ¾ è€é¼  ç§‘æŠ€ ç‰¹å¾é€‰æ‹©Word2vecæ˜¯ä¸€ä¸ªå°†å•è¯è¡¨å¾æˆå‘é‡çš„å½¢å¼ï¼Œå®ƒå¯ä»¥æŠŠæ–‡æœ¬å†…å®¹çš„å¤„ç†ç®€åŒ–ä¸ºå‘é‡ç©ºé—´ä¸­çš„å‘é‡è¿ç®—ï¼Œè®¡ç®—å‡ºå‘é‡ç©ºé—´ä¸Šçš„ç›¸ä¼¼åº¦ï¼Œæ¥è¡¨ç¤ºæ–‡æœ¬è¯­ä¹‰ä¸Šçš„ç›¸ä¼¼åº¦ã€‚ è®¡ç®—ç›¸ä¼¼åº¦ï¼šé¦–å…ˆæ˜¯RNGï¼š rng 0.9893965721130371 åŠ æ²¹ 0.9829007983207703 å¿…èƒœ 0.9790929555892944 Rng 0.9743078947067261 æ­å–œ 0.9733642339706421 ä¸­å›½é˜Ÿ 0.9397183656692505 å…³ 0.9283092021942139 &lt; 0.9278833866119385 ç‡•å°¾æ¸¯ 0.9222617149353027 B 0.9143030643463135 RNGåŠ æ²¹ çœ‹çœ‹SKTï¼š skt 0.9911665320396423 çš‡æ— 0.972029983997345 ï¼¾ 0.970970094203949 ç¨³ä½ 0.9653508067131042 å¹²æ­» 0.9643667340278625 ç‰›æ¯” 0.9629441499710083 ä¸€èµ· 0.9625348448753357 @ 0.9619969725608826 é¸Ÿå·¢ 0.9608791470527649 å† å†› 0.9608250856399536 ç¨³ä½ï¼Œå¹²æ­»SKTï¼Ÿ è´ºç”µï¼š å­¦é™¢ 0.9811943769454956 å¤§å­¦ 0.980491042137146 æŠ€æœ¯ 0.9766334295272827 èŒä¸š 0.9691535234451294 ç”µå­ç§‘æŠ€ 0.9668481349945068 å‘æ¥ 0.9619022607803345 ç§‘æŠ€ 0.9594647884368896 å±±ä¸œ 0.9568137526512146 é‡åº† 0.9440888166427612 å“ˆå°”æ»¨ 0.939836859703064 å±±ä¸œXXå­¦é™¢å‘æ¥è´ºç”µ åŠ æ²¹ï¼š å¿…èƒœ 0.9876022934913635 RNG 0.9829007983207703 rng 0.960281252861023 Rng 0.9591789841651917 æ­å–œ 0.9551880359649658 ä¸­å›½é˜Ÿ 0.9436988830566406 å…³ 0.94183349609375 ï¼ 0.921385645866394 ~ 0.9148629903793335 @ 0.9062787294387817 RNGåŠ æ²¹ï¼ŒRNGå¿…èƒœ å°ç‹—ï¼š å¹ 0.9970275163650513 æ— æ•Œ 0.996719241142273 ç¥è¶… 0.996111273765564 åæœŸ 0.9959050416946411 å‰å®³ 0.9957337975502014 å‡¶ 0.9957261681556702 å¼º 0.9955072402954102 ä¸€ä¸ª 0.9954395890235901 å¹² 0.99541175365448 èµ·æ¥ 0.9952359199523926 ç‹—å¹ï¼Ÿ æå“¥ï¼š è¿˜æ˜¯ 0.9825356602668762 ç”µè¯ 0.9700809717178345 æ‰¿ 0.9697628617286682 å¿ƒè„ 0.9686012864112854 é™ˆæ–‡æ³½åœ¨ 0.9681863188743591 éº»ç—¹ 0.9680625200271606 å“ 0.9674116373062134 ä»¥ä¸º 0.9664229154586792 ç‹—å“¥ 0.9592204689979553 ä¸ 0.9589840769767761 ä½ æå“¥è¿˜æ˜¯ä½ æå“¥ MLXGï¼š å®£å‘Š 0.9958090782165527 mlxg 0.9953181147575378 æ­»äº¡ 0.995277464389801 b 0.9949076771736145 6666 0.9947425723075867 ä¸‘ 0.9943945407867432 10 0.9943088293075562 è¾£é¸¡ 0.9940722584724426 å¹²æ­» 0.9940391778945923 é”¤ 0.9939616918563843 é¦™é”…å’Œæ­»äº¡å®£å‘Šæœ‰å•¥å…³ç³» å°è™ï¼š ç¬‘ç¬‘ 0.9971799850463867 çœ‹åˆ° 0.9967395663261414 è§£è¯´ 0.9961692690849304 ä¸æ˜¯ 0.9959656000137329 ä¸­å• 0.9951503872871399 å‡ 0.9950063824653625 ä¸ºä»€ä¹ˆ 0.9944812655448914 åˆ 0.9942663908004761 ä¹ˆ 0.9938984513282776 é‡Œå¥¥ 0.9937981367111206 å°è™ä¸åŠ é‡Œå¥¥ï¼ˆï¼š letmeï¼š éš¾å— 0.9964221715927124 ç¬‘è¯ 0.9959778785705566 å“¦ 0.9958946108818054 ä¸–ç•Œ 0.9958213567733765 æ¯’å¥¶ 0.9957934021949768 KPL 0.9957884550094604 ä¸Šå• 0.9956253170967102 ç“œçš® 0.9955945014953613 å¿« 0.9953423738479614 æ‰“å›¢ 0.9953156113624573 çœŸéš¾å—å•Š To Do å¯ä»¥ä½¿ç”¨æœ´ç´ è´å¶æ–¯åšåˆ†ç±»æ¨¡å‹ ä½¿ç”¨æœºå™¨å­¦ä¹ æ€§èƒ½è¯„ä¼°æŒ‡æ ‡é¢„æµ‹ç²¾ç¡®ç‡å’Œå‡†ç¡®ç‡ æ¬¢è¿è¡¥å…… å¯å‚è€ƒèµ„æ–™ ä¸­æ–‡åˆ†è¯åŸºæœ¬ç®—æ³•ä»‹ç» ICTCLAS æ±‰è¯­è¯æ€§æ ‡æ³¨é›† æ–‡æœ¬åˆ†ç±»æŠ€æœ¯ æ–‡æœ¬åˆ†ç±»ä¸SVM åŸºäºè´å¶æ–¯ç®—æ³•çš„æ–‡æœ¬åˆ†ç±»ç®—æ³• åŸºäºlibsvmçš„ä¸­æ–‡æ–‡æœ¬åˆ†ç±»åŸå‹ LDA-math-æ–‡æœ¬å»ºæ¨¡ æƒ…æ„Ÿåˆ†æèµ„æº é¢å‘æƒ…æ„Ÿåˆ†æçš„ç‰¹å¾æŠ½å–æŠ€æœ¯ç ”ç©¶ æ–¯å¦ç¦å¤§å­¦è‡ªç„¶è¯­è¨€å¤„ç†ç¬¬ä¸ƒè¯¾-æƒ…æ„Ÿåˆ†æ æ·±åº¦å­¦ä¹ ã€è‡ªç„¶è¯­è¨€å¤„ç†å’Œè¡¨å¾æ–¹æ³• Deep Learning in NLP ï¼ˆä¸€ï¼‰è¯å‘é‡å’Œè¯­è¨€æ¨¡å‹","tags":[{"name":"NLP","slug":"NLP","permalink":"https://zhangslob.github.io/tags/NLP/"},{"name":"è‡ªç„¶è¯­è¨€å¤„ç†","slug":"è‡ªç„¶è¯­è¨€å¤„ç†","permalink":"https://zhangslob.github.io/tags/è‡ªç„¶è¯­è¨€å¤„ç†/"}]},{"title":"scrapyå­¦ä¹ å®ä¾‹ï¼ˆå››ï¼‰é‡‡é›†æ·˜å®æ•°æ®å¹¶å±•ç¤º","date":"2017-12-19T13:09:07.000Z","path":"2017/12/19/scrapyå­¦ä¹ å®ä¾‹ï¼ˆå››ï¼‰é‡‡é›†æ·˜å®æ•°æ®å¹¶å±•ç¤º/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒåç¯‡åŸåˆ›æ–‡ç«  æœ¬èŠ‚ä»£ç  ï¼š zhangslob/Taobao_duoshou ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç»™ä¸ªstarè¡Œä¸è¡Œ é“›é“›é“›ï¼Œæ‡’æƒ°äº†ä¸€æ®µæ—¶é—´ï¼Œå’±æ¥ç€å­¦Scrapyã€‚è¿™ä¸€æœŸç©ç‚¹æ–°èŠ±æ ·ï¼Œä½¿ç”¨Flaskå±•ç¤ºæˆ‘ä»¬çš„æ•°æ®ã€‚æ•ˆæœå¦‚ä¸‹å›¾ï¼š æœ‰äº›é‡å¤çš„ â•®(â•¯Ğ”â•°)â•­ è¿‡ç¨‹ç®€å•æ¥è¯´æœ‰ä¸¤æ­¥ï¼š ä½¿ç”¨Scrapyé‡‡é›†æ·˜å®æ•°æ® ä½¿ç”¨Flaskå±•ç¤ºæ•°æ® é‡‡é›†æ•°æ®æŠ“åŒ…åˆ†æå…¶å®é‡‡é›†æ·˜å®æ•°æ®çš„æ–¹æ³•çœŸçš„å¾ˆå¤šå¾ˆå¤šï¼Œè¿™é‡Œä¸è®¨è®ºSeleniumï¼Œåªè¯´å¦‚ä½•æŠ“åŒ…åˆ†æï¼Œå…ˆæä¾›å‡ ä¸ªæ¥å£ï¼Œä¾›è§‚ä¼—è€çˆ·è§‚èµï¼š https://s.taobao.com/list?seller_type=taobao&amp;json=on https://s.m.taobao.com/search?event_submit_do_new_search_auction=1&amp;_input_charset=utf-8&amp;topSearch=1&amp;atype=b&amp;searchfrom=1&amp;action=home%3Aredirect_app_action&amp;from=1&amp;q=%E6%B0%B4%E6%9E%9C&amp;sst=1&amp;n=44&amp;buying=buyitnow&amp;m=api4h5&amp;abtest=25&amp;wlsort=25&amp;page=1 http://h5.m.taobao.com/app/selectassistant/www/choiceness/index.html?m=select&amp;vm=nw&amp;ttid=null&amp;utd_id=null&amp;page=2&amp;n=44&amp;q=%E6%B0%B4%E6%9E%9C è¿™ä¸‰ç§æ¥å£éƒ½å¯ä»¥é‡‡é›†æ•°æ®ï¼Œåˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„ï¼Œç»å†è¿‡åƒç™¾æ¬¡å¤±è´¥ã€‚è¿™é‡Œé€‰æ‹©çš„æ˜¯ç¬¬äºŒç§ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•è¿™å‡ ç§çš„åŒºåˆ«ã€‚ ä½¿ç”¨ç¬¬äºŒç§å»é‡‡é›†æ•°æ®æ—¶ï¼Œè¿”å›çš„æ˜¯jsonæ•°æ®ï¼Œæ•°æ®é‡å·²ç»å¾ˆå¤šã€‚ å…¶ä¸­æœ‰å‡ ç‚¹å‘ï¼Œåˆ†äº«ä¸‹ã€‚ URLä¸åŒã€‚æ·˜å®å’Œå¤©çŒ«çš„é“¾æ¥æ˜¯ä¸åŒçš„ï¼Œç§»åŠ¨ç«¯å’Œç½‘é¡µç«¯æ˜¯ä¸åŒçš„ã€‚ è¿™é‡Œæ˜¾ç¤ºçš„ commentCount ï¼ˆè¯„è®ºæ•°é‡ï¼‰å¹¶ä¸æ˜¯çœŸå®çš„ï¼Œä½ å¯ä»¥æ‰“å¼€è¯¦æƒ…é¡µå¯¹æ¯” è¯„è®ºæ•°é‡çš„æ¥å£ã€‚æ·˜å®å’Œå¤©çŒ«çš„éƒ½å¯ä»¥ä½¿ç”¨ https://rate.taobao.com/detailCount.do?itemId=å•†å“IDï¼Œæ¯ä»¶å•†å“éƒ½æœ‰è‡ªå·±çš„å”¯ä¸€ID ä»£ç å®æˆ˜è¿™é‡Œç›´æ¥æŠŠä¸»ä»£ç è´´å‡ºæ¥ï¼Œä½¿ç”¨ Mongo ä¿å­˜æ•°æ®ã€‚ taobao.py 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687# -*- coding: utf-8 -*-import copyimport scrapyimport jsonfrom ..items import TaobaoInfoItemimport refrom traceback import format_exckw = ['ç½‘ç»œæœåŠ¡', 'è£…æ½¢', 'æŠ¤ç†', 'é€Ÿé£Ÿ', 'è¿åŠ¨é‹', 'è¿åŠ¨æœ', 'ç”·è£…', 'é…ä»¶', 'è”¬æœ', 'å¹²è´§', 'æ”»ç•¥', 'åœ°æ¯¯', 'æ–‡å…·', 'ä¹¦ç±', 'äººå¶', 'é¥°å“', 'æŠ¥çº¸', 'æ—¶å°šé¥°å“', 'ç¾å‘', 'è¿åŠ¨åŒ…', 'ç²®æ²¹', 'åƒå–ç©ä¹æŠ˜æ‰£åˆ¸', 'å·¥å…·', 'å½©å¦†', 'æ¼”å‡º', 'ç«¥è£…', 'ä¸ªæ€§å®šåˆ¶', 'æ•°ç ç›¸æœº', 'æ—¥åŒ–', 'æ¸¸æˆ', 'å°¿ç‰‡', 'å®‰é˜²', 'æ‘„åƒæœº', 'å¨æˆ¿ç”µå™¨', 'åŠå…¬è®¾å¤‡', 'ç½‘åº—', 'ZIPPO', 'æ‚å¿—', 'ç¤¼å“', 'æ‘„å½±å™¨æ', 'å–‚å“ºç­‰ç”¨å“', 'è½¯ä»¶', 'ç¬”è®°æœ¬ç”µè„‘', 'æ˜æ˜Ÿ', 'ç™»å±±', 'å±…å®¶æ—¥ç”¨', 'æˆ·å¤–', 'ç”µè„‘ç¡¬ä»¶', 'æµè¡Œé¦–é¥°', 'å¨ƒå¨ƒ', 'æ”¶çº³', 'å½±è§†', 'éŸ³ä¹', 'ç”µç©', 'éŸ³åƒ', 'é¦™æ°´', 'æ°´äº§', 'çƒ­é”€å¥³åŒ…', 'å¤§å®¶ç”µ', 'å…¶ä»–ä¿å¥è¥å…»å“', 'ç®±åŒ…çš®å…·', 'ç‘å£«å†›åˆ€', '3Cæ•°ç é…ä»¶å¸‚åœº', 'ç”µè„‘å‘¨è¾¹', 'ç”·åŒ…', 'ç©å…·', 'Uç›˜', 'æ¨¡å‹', 'å­•å¦‡è£…', 'çª—å¸˜', 'çœ¼é•œ', 'ä¿ƒé”€åº—é“º', 'äº”é‡‘', 'æ—…è¡Œ', 'æ´—æŠ¤', 'æ¸…æ´', 'ç§»åŠ¨å­˜å‚¨', 'å«æµ´', 'é‡è¥', 'é¢ˆç¯é…ä»¶', 'ç«¥é‹', 'å®¶è£…é¥°å“', 'æ˜¾ç¤ºå™¨', 'é—ªå­˜å¡', 'ä¼ ç»Ÿæ»‹è¡¥å“', 'è€—æ', 'ç¯å…·']class TaobaoSpider(scrapy.Spider): name = 'taobao' allowed_domains = ['taobao.com'] start_urls = ['https://s.m.taobao.com/search?event_submit_do_new_search_auction=1&amp;_input_charset=utf-8&amp;topSearch=1&amp;atype=b&amp;searchfrom=1&amp;action=home%3Aredirect_app_action&amp;from=1&amp;q=&#123;&#125;&amp;sst=1&amp;n=44&amp;buying=buyitnow&amp;m=api4h5&amp;abtest=25&amp;wlsort=25&amp;page=&#123;&#125;'.format(i, y) for i in range(1, 101) for y in kw] # å…¶ä»–æ¥å£ http://h5.m.taobao.com/app/selectassistant/www/choiceness/index.html?m=select&amp;vm=nw&amp;ttid=null&amp;utd_id=null&amp;page=2&amp;n=44&amp;q=%E6%B0%B4%E6%9E%9C def parse(self, response): item = TaobaoInfoItem() ListItem = json.loads(response.text)['listItem'] for i in ListItem: item['name'] = i['name'] item['title'] = i['title'] item['area'] = i['area'] # å¤„ç†ä¸åŒçš„URL url = [] if 'https:' not in i['url']: if 'detail.m.tmall.com' in i['url']: url.append('https:' + i['url'].replace('.m','')) else: url.append('https:' + i['url']) if 'https:' in i['url']: url.append(i['url']) item['url'] = url print(item['url']) # è¯„è®ºç½‘å€ comment_url = [] ur = item['url'] comment_url.append(ur[0] + '#J_Reviews') item['comment_url'] = comment_url item['fastPostFee'] = i['fastPostFee'] item['sales'] = i['act'] item['price'] = i['price'] item['originalPrice'] = i['originalPrice'] item['nick'] = i['nick'] item['id'] = i['item_id'] item['loc'] = i['sellerLoc'] # å›¾ç‰‡é“¾æ¥ img_url = [] img_url.append('http:' + i['img2']) item['img_url'] = img_url count_url = [] count_url.append('https://rate.taobao.com/detailCount.do?itemId=' + i['item_id']) for url in count_url: yield scrapy.Request( url, callback=self.detail_parse, meta=&#123;'item': copy.deepcopy(item)&#125;, # ä½¿ç”¨copy.deepcopyæ·±å¤åˆ¶ï¼Œå¦åˆ™æ•°æ®ä¸å¯¹å•Š dont_filter=True, errback=self.error_back ) def detail_parse(self, response): item = response.meta['item'] pat_count = '&#123;\"count\":(.*?)&#125;' item['count'] = re.findall(pat_count, str(response.body)) yield item def error_back(self, e): _ = e self.logger.error(format_exc())'''['ç¾½ç»’æœ', 'æ¯›å‘¢å¤§è¡£', 'æ¯›è¡£', 'å†¬å­£å¤–å¥—', 'æ–°å“', 'è£¤å­', 'è¿è¡£è£™', 'è…”è°ƒ', 'ç§‹å†¬æ–°å“', 'æ·˜ç‰¹è±æ–¯', 'æ·˜å…ˆç”Ÿ', 'æ‹¾è´§', 'ç§‹å†¬å¤–å¥—', 'æ—¶å°šå¥—è£…', 'æ½®ç‰Œ', 'çˆ¸çˆ¸è£…', 'æ˜¥æ–°å“', 'æ€§æ„Ÿè¯±æƒ‘', 'ç”œç¾æ¸…æ–°', 'ç®€çº¦ä¼˜é›…', 'å¥¢åé«˜è´µ', 'è¿åŠ¨é£', 'å¡‘èº«', 'åŸºç¡€å†…è¡£', 'è½»è–„æ¬¾', 'é•¿æ¬¾', 'çŸ­æ¬¾', 'æ¯›é¢†', 'åŠ åš', 'è¢«å­', 'é¹…ç»’', 'æ–°å“', 'ç§‹æ¬¾', 'å¤¹å…‹', 'å«è¡£', 'è¥¿è£…', 'é£è¡£', 'çš®è¡£', 'æ¯›å‘¢å¤–å¥—', 'è–„ç¾½ç»’', 'æ— é’¢åœˆ', 'æ— ç—•æ–‡èƒ¸', 'è•¾ä¸å†…è¡£', 'è¿åŠ¨æ–‡èƒ¸', 'èšæ‹¢æ–‡èƒ¸', 'å¤§ç æ–‡èƒ¸', 'æŠ¹èƒ¸å¼', 'éšå½¢', 'å»“å½¢', 'åŒé¢å‘¢', 'ç¾Šç»’', 'ä¸­é•¿æ¬¾', 'çŸ­æ¬¾', 'æ¯›é¢†', 'è®¾è®¡å¸ˆæ¬¾', 'ç³»å¸¦', 'Tæ¤', 'é•¿è¢–T', 'æ‰“åº•è¡«', 'çº¯è‰²', 'è¡¬è¡«', 'é•¿è¢–æ¬¾', 'å•†åŠ¡æ¬¾', 'æ—¶å°šæ¬¾', 'ç¡è¡£å¥—è£…', 'ç¡è£™', 'ç¡è¢æµ´è¢', 'å¤–ç©¿å®¶å±…', 'å¥³å£«ç¡è¡£', 'ç”·å£«ç¡è¡£', 'æƒ…ä¾£ç¡è¡£', 'äº²å­ç¡è¡£', 'é©¬æµ·æ¯›', 'è²‚ç»’', 'ç¾Šç»’', 'ç¾Šæ¯›', 'å¼€è¡«', 'ä¸­é•¿æ¬¾', 'çŸ­æ¬¾', 'å¡é€š', 'ä¼‘é—²è£¤', 'å·¥è£…è£¤', 'è¿åŠ¨è£¤', 'é•¿è£¤', 'ç‰›ä»”è£¤', 'å°è„šè£¤', 'å“ˆä¼¦è£¤', 'ç›´ç­’è£¤', 'å¥³å£«å†…è£¤', 'ç”·å£«å†…è£¤', 'ä¸‰è§’è£¤', 'å¹³è§’è£¤', 'ä¸å­—è£¤', 'é˜¿ç½—è£¤', 'æ˜ŸæœŸè£¤', 'ä½è…°', 'å¤–å¥—', 'å¥—è£…', 'é£è¡£', 'å«è¡£', 'çœŸçš®çš®è¡£', 'é©¬ç”²', 'å°è¥¿è£…', 'å”è£…', 'ä¸­è€å¹´', 'è–„æ¯›è¡£', 'é’ˆç»‡å¼€è¡«', 'åœ†é¢†æ¯›è¡£', 'Vé¢†æ¯›è¡£', 'çº¯è‰²æ¯›è¡£', 'æ°‘æ—é£', 'ç¾Šæ¯›è¡«', 'ç¾Šç»’è¡«', 'èˆ¹è¢œ', 'ç”·äººè¢œ', 'è¿è£¤è¢œ', 'éšå½¢è¢œ', 'æ”¶è…¹è£¤', 'å¡‘èº«è¡£', 'ç¾ä½“è£¤', 'æ”¶è…¹å¸¦', 'å¸†å¸ƒé‹', 'é«˜å¸®', 'ä½å¸®', 'å†…å¢é«˜', 'æ‡’äººé‹', 'åšåº•', 'éŸ©ç‰ˆ', 'ç³»å¸¦', 'æƒ…ä¾£æ¬¾', 'è¿åŠ¨é£é‹', 'åšåº•', 'å†…å¢é«˜', 'æ˜Ÿæ˜Ÿé‹', 'ç³»å¸¦', 'ä¸Šæ–°', 'äººæ°”æ¬¾', 'å•è‚©åŒ…', 'æ–œæŒåŒ…', 'æ‰‹æåŒ…', 'è¿·ä½ åŒ…', 'æ‰‹æ‹¿åŒ…', 'å°æ–¹åŒ…', 'æ£’çƒå¸½', 'é¸­èˆŒå¸½', 'é®é˜³å¸½', 'æ¸”å¤«å¸½', 'è‰å¸½', 'å¹³é¡¶å¸½', 'å˜»å“ˆå¸½', 'è´é›·å¸½', 'ç‰›ä»”å¸½', 'çˆµå£«å¸½', 'é«˜è·Ÿ', 'å¹³åº•', 'åšåº•', 'ä¸­è·Ÿ', 'ç²—è·Ÿ', 'å¡è·Ÿ', 'æµ…å£', 'å°–å¤´', 'åœ†å¤´', 'è¿åŠ¨æ¬¾', 'å¤´å±‚ç‰›çš®', 'å†…å¢é«˜', 'æ¾ç³•é‹', 'è±†è±†é‹', 'å•†åŠ¡', 'ä¼‘é—²', 'æ½®èŒƒ', 'èƒ¸åŒ…', 'è…°åŒ…', 'å•è‚©', 'æ–œè·¨', 'æ‰‹æ', 'æ‰‹æ‹¿', 'å¸†å¸ƒ', 'ç‰›çš®', 'å¥³å£«è…°å¸¦', 'ç”·å£«çš®å¸¦', 'å¸†å¸ƒè…°å¸¦', 'è…°å°', 'è…°é“¾', 'é’ˆæ‰£å¤´', 'å¹³æ»‘æ‰£', 'è‡ªåŠ¨æ‰£', 'çœŸçš®', 'æ­£å“', 'åšåº•', 'å†…å¢é«˜', 'æ˜Ÿæ˜Ÿé‹', 'ç³»å¸¦', 'ä¸€è„šè¹¬', 'é­”æœ¯è´´', 'æ°”å«', 'ç½‘çŠ¶', 'å°èŠ±', 'é“†é’‰', 'æ°´æ´—çš®', 'å¡é€š', 'åŸå®¿', 'ç³–æœè‰²', 'å•†åŠ¡', 'è¿åŠ¨', 'å¸†å¸ƒ', 'ç‰›çš®', 'å¥³å£«å›´å·¾', 'ç”·å£«å›´å·¾', 'æŠ«è‚©', 'ä¸å·¾', 'å‡é¢†', 'å°æ–¹å·¾', 'ä¸‰è§’å·¾', 'å¤§æ–¹å·¾', 'çœŸä¸', 'é›ªçºº', 'æ£‰è´¨', 'äºšéº»', 'è•¾ä¸', 'é’æ˜¥æ½®æµ', 'å•†åŠ¡çš®é‹', 'ä¼‘é—²çš®é‹', 'æ­£è£…çš®é‹', 'å•†åŠ¡ä¼‘é—²', 'å¸ƒæ´›å…‹', 'å†…å¢é«˜', 'åç»’çš®', 'çœŸçš®', 'æ½®æµä½å¸®', 'éŸ©ç‰ˆ', 'è‹±ä¼¦', 'å¤å¤', 'é“†é’‰', 'ç¼–ç»‡', 'è±¹çº¹', 'å¤§å¤´', 'æ‹‰æ†ç®±', 'å¯†ç ç®±', 'å­¦ç”Ÿç®±', 'å­æ¯ç®±', 'æ‹‰æ†åŒ…', 'ä¸‡å‘è½®', 'é£æœºè½®', 'èˆªç©ºç®±', 'é“æ¡†', 'å¥³å£«æ‰‹å¥—', 'ç”·å£«æ‰‹å¥—', 'çœŸçš®æ‰‹å¥—', 'è•¾ä¸æ‰‹å¥—', 'é˜²æ™’æ‰‹å¥—', 'åŠæŒ‡æ‰‹å¥—', 'åˆ†æŒ‡æ‰‹å¥—', 'è¿æŒ‡æ‰‹å¥—', 'çŸ­æ¬¾æ‰‹å¥—', 'é•¿æ¬¾æ‰‹å¥—', 'çš®é‹', 'ä½å¸®', 'åç»’çš®', 'å¤§å¤´é‹', 'è±†è±†é‹', 'å¸†èˆ¹é‹', 'æ‡’äººé‹', 'å¸†å¸ƒ/æ¿é‹', 'é«˜å¸®', 'å‡‰é‹/æ‹–é‹', 'æ²™æ»©é‹', 'äººå­—æ‹–', 'çš®å‡‰é‹', 'æ´æ´é‹', 'é’±åŒ…', 'æ½®åŒ…é¦†', 'çœŸçš®åŒ…', 'æ‰‹æœºåŒ…', 'å¤§ç‰Œ', 'coach', 'MK', 'MCM', 'æ¯›çº¿', 'é‹å«', 'é‹å¸¦', 'é¢†å¸¦', 'é¢†ç»“', 'è¢–æ‰£', 'æ‰‹å¸•', 'å¸ƒé¢æ–™', 'è€³å¥—', 'é¢†å¸¦å¤¹', 'å©šçº±é…ä»¶', 'çš®å¸¦æ‰£', 'è‹±å›½ç‰›æ ', 'è‹±å›½çˆ±ä»–ç¾', 'ç¾èµè‡£', 'é›…åŸ¹', 'æ¾³æ´²çˆ±ä»–ç¾', 'å¯ç‘åº·', 'æƒ æ°', 'è´å› ç¾', 'æ¨è½¦', 'é©±èšŠå™¨', 'å©´å„¿åºŠ', 'ç†å‘å™¨', 'å¥¶ç“¶', 'é¤æ¤…', 'èƒŒå¸¦è…°å‡³', 'å®‰å…¨åº§æ¤…', 'å†…è¡£', 'å†…è£¤', 'å–‚å¥¶æ•', 'æ”¶è…¹å¸¦', 'å¦ˆå’ªåŒ…', 'å¾…äº§åŒ…', 'é˜²è¾å°„æœ', 'å‚¨å¥¶è¢‹', 'ç±³ç²‰', 'è‚‰æ¾', 'ç£¨ç‰™æ£’', 'æœæ³¥', 'ç›Šç”ŸèŒ', 'æ¸…ç«å¼€èƒƒ', 'é’™é“é”Œ', 'ç»´ç”Ÿç´ ', 'èŠ±ç‹', 'moony', 'å¤§ç‹', 'å¸®å®é€‚', 'é›€æ°', 'å¥½å¥‡', 'å¦ˆå’ªå®è´', 'å®‰å„¿ä¹', 'æµ·æ·˜å¥¶ç²‰', 'æµ·æ·˜è¾…é£Ÿ', 'æµ·æ·˜è¥å…»å“', 'ç›´é‚®èŠ±ç‹', 'æµ·æ·˜æ´—æŠ¤', 'æµ·æ·˜å¥¶ç“¶', 'æµ·æ·˜é¤å…·', 'æµ·æ·˜å­•äº§', 'Tæ¤', 'è¿è¡£è£™', 'æ³³è£…', 'å¥—è£…', 'è¡¬è¡«', 'é˜²æ™’æœ', 'åŠèº«è£™', 'çŸ­è£¤', 'å‡‰é‹', 'æ²™æ»©é‹', 'æ´æ´é‹', 'ç½‘é‹', 'å­¦æ­¥é‹', 'æ‹–é‹', 'å¸†å¸ƒé‹', 'å®å®é‹', 'æ¯å¥³è£™', 'çˆ¶å­è£…', 'äº²å­Tæ¤', 'äº²å­è¡¬è¡«', 'äº²å­å¥—è£…', 'æ¯å¥³é‹', 'çˆ¶å­é‹', 'å®¶åº­é‹', 'æ²™æ»©æˆæ°´', 'æ—©æ•™å¯è’™', 'æ‹¼æ’ç›Šæ™º', 'é¥æ§æ¨¡å‹', 'è¿åŠ¨æˆ·å¤–', 'å­¦ä¹ çˆ±å¥½', 'å¡é€šå…¬ä»”', 'äº²å­äº’åŠ¨', 'ç”µåŠ¨è½¦', 'è‡ªè¡Œè½¦', 'å­¦æ­¥è½¦', 'æ‰‹æ¨è½¦', 'ä¸‰è½®è½¦', 'æ»‘æ¿è½¦', 'æ‰­æ‰­è½¦', 'å„¿ç«¥è½®æ»‘', 'æ—©æ•™æœº', 'ç‚¹è¯»æœº', 'å¥èº«æ¶', 'å¸ƒä¹¦', 'ä¸²/ç»•ç ', 'åºŠ/æ‘‡é“ƒ', 'çˆ¬è¡Œå«', 'æœ¨è´¨æ‹¼å›¾', 'å¸å¦†', 'é¢è†œ', 'æ´é¢', 'é˜²æ™’', 'é¢éœœ', 'çˆ½è‚¤æ°´', 'çœ¼éœœ', 'ä¹³æ¶²', 'è¡¥æ°´', 'ç¾ç™½', 'æ”¶ç¼©æ¯›å­”', 'æ§æ²¹', 'ç¥›ç—˜', 'ç¥›æ–‘', 'å»é»‘çœ¼åœˆ', 'å»é»‘å¤´', 'BBéœœ', 'ç²‰åº•æ¶²', 'å”‡è†', 'éš”ç¦»', 'é®ç‘•', 'æŒ‡ç”²æ²¹', 'ç²‰é¥¼', 'å½©å¦†å¥—è£…', 'å¥³å£«é¦™æ°´', 'ç”·å£«é¦™æ°´', 'ä¸­æ€§é¦™æ°´', 'æ·¡é¦™æ°´', 'å¤é¾™æ°´', 'é¦™ç²¾', 'å¤æ–¹ç²¾æ²¹', 'é¦™ä½“ä¹³', 'æ´—å‘æ°´', 'æŠ¤å‘ç´ ', 'æŸ“å‘', 'çƒ«å‘', 'é€ å‹', 'å‡å‘', 'æ´—æŠ¤å¥—è£…', 'å‡å‘é…ä»¶', 'ç¾èƒ¸', 'çº¤ä½“', 'èƒ¸éƒ¨æŠ¤ç†', 'èº«ä½“æŠ¤ç†', 'å¡‘èº«', 'è„±æ¯›', 'æ‰‹éƒ¨ä¿å…»', 'è¶³éƒ¨æŠ¤ç†', 'çœ¼çº¿', 'ç«æ¯›è†', 'çœ¼å½±', 'çœ‰ç¬”', 'å‡ç«æ¯›', 'çœ¼éœœ', 'åŒçœ¼çš®è´´', 'çœ¼éƒ¨æŠ¤ç†', 'åŠ²èƒ½é†’è‚¤', 'æ¸…æ´é¢è†œ', 'ç”·æ€§ä¸»ä¹‰', 'å‰ƒé¡»è†', 'ç”·å£«å¥—è£…', 'ç”·å£«é˜²æ™’', 'ç«å±±å²©', 'çˆ½èº«èµ°ç ', 'æŠ—çš±', 'æŠ—æ•æ„Ÿ', 'ä¿æ¹¿', 'å»çœ¼è¢‹', 'æ»‹æ¶¦', 'æŠ—æ°§åŒ–', 'æ·±å±‚æ¸…æ´', 'é›…è¯—å…°é»›', 'å…°è”»', 'èµ„ç”Ÿå ‚', 'è‡ªç„¶ä¹å›­', 'SK-II', 'æ‚¦è¯—é£åŸ', 'æ°´å®å®', 'å¥‘å°”æ°', 'èŠ¦èŸèƒ¶', 'å½©å¦†ç›˜', 'è…®çº¢', 'é¦™æ°›', 'é«˜å…‰æ£’', 'ä¿®å®¹', 'Vè„¸', 'å»è§’è´¨', 'æ´é¢', 'çˆ½è‚¤æ°´', 'ç²¾å', 'ä¹³æ¶²', 'é¼»è´´', 'é©¬æ²¹', 'ç‰›è‚‰å¹²', 'é²œèŠ±é¥¼', 'çº¢æ£', 'ç³–æœ', 'å·§å…‹åŠ›', 'å±±æ ¸æ¡ƒ', 'æ¾å­', 'å¤å‘³', 'é¥¼å¹²', 'è¯æ¢…', 'è”“è¶Šè“', 'è–¯ç‰‡', 'å¥‡å¼‚æœ', 'èŠ’æœ', 'æ¨±æ¡ƒ', 'æ©™å­', 'ç§‹è‘µ', 'è‹¹æœ', 'ç•ªèŒ„', 'æŸ æª¬', 'æ¤°å­', 'æ¦´è²', 'å¤§ç±³', 'æ©„æ¦„æ²¹', 'å°ç±³', 'é»„è±†', 'èµ¤è±†', 'ç«è…¿', 'é¦™è‚ ', 'æœ¨è€³', 'é¦™è‡', 'è±†ç“£é…±', 'æµ·å‚', 'é¾™è™¾', 'ç‘¶æŸ±', 'åœŸé¸¡', 'ç‰›æ’', 'ä¸‰æ–‡é±¼', 'å’¸é¸­è›‹', 'çš®è›‹', 'äº”èŠ±è‚‰', 'åŒ—æè´', 'é¸¡å°¾é…’', 'çº¢é…’', 'å•¤é…’', 'ç™½é…’', 'æ¢…é…’', 'æ´‹é…’', 'æ¸…é…’', 'æ»‹è¡¥é…’', 'èŒ…å°', 'äº”ç²®æ¶²', 'éº¦ç‰‡', 'å’–å•¡', 'ç‰›å¥¶', 'æŸšå­èŒ¶', 'é…¸æ¢…æ±¤', 'çŸ¿æ³‰æ°´', 'é…µç´ ', 'è—•ç²‰', 'å§œèŒ¶', 'é…¸å¥¶ç²‰', 'é“è§‚éŸ³', 'çº¢èŒ¶', 'èŠ±è‰èŒ¶', 'é¾™äº•', 'æ™®æ´±', 'é»‘èŒ¶', 'ç¢§èºæ˜¥', 'æ¯›å³°', 'è¢‹æ³¡èŒ¶', 'ç™½èŒ¶', 'æ¸æ', 'äººå‚', 'çŸ³æ–›', 'ç‡•çª', 'é›ªè›¤', 'èœ‚èœœ', 'å¤©éº»', 'èŠ±ç²‰', 'å…šå‚', 'çº¢èŠ±', 'èŠ’æœå¹²', 'é±¼å­é…±', 'å’–å•¡', 'æ©„æ¦„æ²¹', 'è–¯ç‰‡', 'å·§å…‹åŠ›', 'å’–å–±', 'æ–¹ä¾¿é¢', 'çº¢é…’', 'éº¦ç‰‡', 'é¡¹é“¾', 'æ‰‹é“¾', 'æˆ’æŒ‡', 'å‘é¥°', 'é“¶é¥°', 'æ°´æ™¶', 'è€³é¥°', 'æ‰‹é•¯', 'ç¿¡ç¿ ', 'å½©å®', 'èœœèœ¡', 'è£¸é’»', 'çç ', 'é»„é‡‘', 'é’»çŸ³', 'é‡‘æ¡', 'å’Œç”°ç‰', 'ç¿¡ç¿ ', 'æ°´æ™¶/ä½›ç ', 'é»„é‡‘', 'æ‰‹è¡¨', 'çœ¼é•œ', 'ç‘å£«è¡¨', 'æœºæ¢°è¡¨', 'æ—¶è£…è¡¨', 'å„¿ç«¥è¡¨', 'ç”µå­è¡¨', 'æƒ…ä¾£è¡¨', 'çŸ³è‹±è¡¨', 'æ‰‹è¡¨é…ä»¶', 'å¤ªé˜³é•œ', 'åå…‰é•œ', 'è¿‘è§†é•œ', 'å¸æœºé•œ', 'æŠ¤ç›®é•œ', 'çœ¼é•œé…ä»¶', 'è¿åŠ¨é•œ', 'è€èŠ±é•œ', 'zippo', 'ç”µå­çƒŸ', 'çƒŸæ–—', 'ç‘å£«å†›åˆ€', 'ç»ç¾é…’å…·', 'é£æ ¼ç”·è¡¨', 'ä½›ç ', 'æ°´æ™¶', 'ç¢§çº', '925é“¶', 'æ–½åæ´›', 'ç¿¡ç¿ ', 'çç ', 'é»„é‡‘', 'é“¶é¡¹é“¾', 'æµè¡Œé£æ ¼', 'å¤©ç„¶æ°´æ™¶', 'é”†çŸ³æ°´æ™¶', 'ä½›ç é¡¹é“¾', 'äººé€ æ°´æ™¶', '925é“¶', 'ç¿¡ç¿ ', 'å’Œç”°ç‰', 'å¤å¤æ³°é“¶', 'ç²‰æ™¶æ‰‹é•¯', 'é»„é‡‘æ‰‹é•¯', 'æ—¥éŸ©', 'ç”œç¾', 'å¤å¤/å®«å»·', 'æ¬§ç¾', 'ç‘ä¸½', 'æ³¢è¥¿ç±³äºš', 'æ°‘æ—é£', 'å‘é¥°', 'é¡¹é“¾', 'å¥—è£…', 'è€³é¥°', 'éŸ©å¼', 'å¤´é¥°', 'ä¸‰ä»¶å¥—', 'åˆé‡‘é…ä»¶', 'é“¶é¥°', 'æ°´æ™¶é…ç ', 'ç‰ç’ƒ', 'çç æ¯è´', 'æœ‰æœºç»ç’ƒ', 'äººé€ æ°´æ™¶', 'è®¾è®¡å¸ˆ', 'åŠåŒ…è£…ä¿®', 'å…¨åŒ…è£…ä¿®', 'å…¨æ¡ˆè£…ä¿®', 'è£…ä¿®ç›‘ç†', 'æ¸…åŒ…æ–½å·¥', 'å±€éƒ¨è£…ä¿®', 'éªŒæˆ¿é‡æˆ¿', 'è£…ä¿®ç©ºæ°”è´¨é‡æ£€æµ‹', 'è£…ä¿®æ±¡æŸ“æ²»ç†', 'æ•´ä½“æ©±æŸœ', 'å®šåˆ¶è¡£æŸœ', 'å®šåˆ¶åŠé¡¶', 'å®šåˆ¶æ·‹æµ´æˆ¿', 'é—¨', 'çª—', 'å®šåˆ¶æŸœ', 'æ¥¼æ¢¯', 'æ¦»æ¦»ç±³å®šåˆ¶', 'åœ°æš–', 'å¸é¡¶ç¯', 'åŠç¯', 'å¸åŠä¸¤ç”¨ç¯', 'ç­’ç¯', 'å°„ç¯', 'å°ç¯', 'è½åœ°ç¯', 'å®¤å¤–ç¯', 'å£ç¯', 'å°å¤œç¯', 'æµ´å®¤æŸœ', 'æ™®é€šé©¬æ¡¶', 'èŠ±æ´’å¥—è£…', 'ä¸€ä½“æ™ºèƒ½é©¬æ¡¶', 'æ™ºèƒ½é©¬æ¡¶ç›–æ¿', 'æ·‹æµ´æˆ¿', 'é¢ç›†é¾™å¤´', 'åœ°æ¼', 'äº”é‡‘æŒ‚ä»¶', 'æµ´éœ¸', 'PVCå¢™çº¸', 'æ— çººå¸ƒå¢™çº¸', 'çº¯çº¸å¢™çº¸', 'å¢™å¸ƒ', 'æ²™ç²’å¢™çº¸', 'ç»’é¢å¢™çº¸', 'å®šåˆ¶å£ç”»', '3Då¢™çº¸', 'å®æœ¨åœ°æ¿', 'å®æœ¨å¤åˆåœ°æ¿', 'å¼ºåŒ–å¤åˆåœ°æ¿', 'ç«¹åœ°æ¿', 'æˆ·å¤–åœ°æ¿', 'PVCåœ°æ¿', 'é˜²é™ç”µåœ°æ¿', 'é˜²æ½®è†œ', 'è¸¢è„šçº¿', 'åœ°æ¿é¾™éª¨', 'ä»¿å¤ç –', 'é‡‰é¢ç –', 'ç»åŒ–ç –', 'å¾®æ™¶çŸ³', 'é©¬èµ›å…‹', 'æŠ›æ™¶ç –', 'é€šä½“ç –', 'èŠ±ç‰‡', 'è…°çº¿', 'ç“·ç –èƒŒæ™¯å¢™', 'æ’åº§', 'å¼€å…³', 'ç”µçº¿', 'ç›‘æ§å™¨æ', 'æ™ºèƒ½å®¶å±…', 'é˜²ç›—æŠ¥è­¦å™¨æ', 'æ¶ˆé˜²æŠ¥è­¦è®¾å¤‡', 'æ¥çº¿æ¿æ’å¤´', 'å¸ƒçº¿ç®±', 'æ–­è·¯å™¨', 'æ¶‚æ–™ä¹³èƒ¶æ¼†', 'æ²¹æ¼†', 'æ°´ç®¡', 'æ¿æ', 'æœ¨æ–¹', 'é˜³å…‰æˆ¿', 'çº¿æ¡', 'å¤©ç„¶å¤§ç†çŸ³', 'äººé€ å¤§ç†çŸ³', 'é˜²æ°´æ¶‚æ–™', 'å®æœ¨åºŠ', 'å¸ƒè‰ºåºŠ', 'çš®è‰ºåºŠ', 'åºŠå«', 'è¡£æŸœ', 'æ–—æŸœ', 'æ¢³å¦†å°', 'å­æ¯åºŠ', 'åºŠå¤´æŸœ', 'å„¿ç«¥åºŠ', 'çš®è‰ºæ²™å‘', 'å¸ƒè‰ºæ²™å‘', 'æ²™å‘åºŠ', 'å®æœ¨æ²™å‘', 'æ‡’äººæ²™å‘', 'ç”µè§†æŸœ', 'èŒ¶å‡ ', 'é‹æŸœ', 'ç„å…³å…', 'è¡£å¸½æ¶', 'é¤æ¡Œ', 'æŠ˜å é¤æ¡Œ', 'æ¬§å¼é¤æ¡Œ', 'å®æœ¨é¤æ¡Œ', 'å¤§ç†çŸ³é¤æ¡Œ', 'é¤æ¤…', 'é¤è¾¹æŸœ', 'æ¢é‹å‡³', 'è§’æŸœ', 'å±é£', 'é¤æ¡Œ', 'æŠ˜å é¤æ¡Œ', 'æ¬§å¼é¤æ¡Œ', 'å®æœ¨é¤æ¡Œ', 'å¤§ç†çŸ³é¤æ¡Œ', 'é¤æ¤…', 'é¤è¾¹æŸœ', 'æ¢é‹å‡³', 'è§’æŸœ', 'å±é£', 'èšŠå¸', 'ä¸‰å¼€èšŠå¸', 'å‡‰å¸­', 'å‡‰å¸­å¥—ä»¶', 'å†°ä¸å¸­', 'è—¤å¸­', 'ç‰›çš®å¸­', 'å¤å‡‰è¢«', 'ç©ºè°ƒè¢«', 'å¤©ä¸å¥—ä»¶', 'åºŠå•', 'åºŠç¬ ', 'å››ä»¶å¥—', 'å…¨æ£‰å¥—ä»¶', 'è¢«å¥—', 'èš•ä¸è¢«', 'ç¾½ç»’è¢«', 'æ•å¤´', 'ä¹³èƒ¶æ•', 'è®°å¿†æ•', 'åºŠè¤¥', 'æ¯›æ¯¯', 'å®šåˆ¶çª—å¸˜', 'åœ°æ¯¯', 'æ²™å‘å«', 'é å«', 'æ¡Œå¸ƒæ¡Œæ——', 'é£˜çª—å«', 'åœ°å«', 'é¤å«', 'é˜²å°˜ç½©', 'æ¤…å«', 'æˆå“çª—å¸˜', 'æ²™å‘ç½©', 'æ‘†ä»¶', 'èŠ±ç“¶', 'ä»¿çœŸèŠ±', 'å°é’Ÿé—¹é’Ÿ', 'é¦™è–°ç‚‰', 'å‚¨ç‰©ç½', 'è£…é¥°ç¢—ç›˜', 'æœ¨é›•', 'çƒŸç°ç¼¸', 'çº¸å·¾ç›’', 'èœ¡çƒ›çƒ›å°', 'ä»¿çœŸé¥°å“', 'ç°ä»£è£…é¥°ç”»', 'æ— æ¡†ç”»', 'åç°ä»£ç”»', 'æ²¹ç”»', 'æŒ‚é’Ÿ', 'ç…§ç‰‡å¢™', 'æ–°ä¸­å¼', 'åŒ—æ¬§å®¶é¥°', 'ç¾å¼ä¹¡æ‘', 'æŒ‚é’©ææ¿', 'è£…é¥°æŒ‚é’©', 'å£é¥°', 'æ‰‡å­', 'æ¯›å·¾', 'æµ´å·¾', 'å£ç½©', 'éš”éŸ³è€³å¡', 'ç«¹ç‚­åŒ…', 'çœ¼ç½©', 'å¤å­£å‡‰æ‹–', 'å±…å®¶é‹', 'å¤å­£æ¸…å‡‰', 'æ¹¿å·¾', 'æ™´é›¨ä¼', 'é©±èšŠç¯', 'é©±èšŠæ¶²', 'å†°æ ¼', 'ä¿é²œäº§å“', 'å¯†å°ç½', 'é˜²æ½®åˆ¶å“', 'ç”µæ‰‡/å†°å«', '5å…ƒå°ç‰©', 'è¢«å­é˜²å°˜è¢‹', 'æ”¶çº³ç›’', 'æ”¶çº³è¢‹', 'å¤§è¡£/è¥¿æœç½©', 'æŠ¤æ´—è¢‹', 'æ”¶çº³å‡³', 'é‹æŸœ', 'ç½®ç‰©æ¶', 'æ¡Œç”¨æ”¶çº³', 'å†…è¡£æ”¶çº³', 'æ´—å‘æŠ¤å‘', 'æ²æµ´éœ²', 'æ¼±å£æ°´', 'å«ç”Ÿå·¾', 'æ´—æ‰‹æ¶²', 'ç‰™è†', 'çº¸å·¾', 'é¦™çš‚', 'æ²æµ´çƒ/æµ´æ“¦/æµ´åˆ·', 'æŒ‡ç”²åˆ€', 'å‰ƒé¡»åˆ®æ¯›åˆ€', 'æ²æµ´çƒ', 'æµ´å®¤è§’æ¶', 'æµ´å¸˜æ†', 'æ‹–æŠŠ', 'åƒåœ¾æ¡¶', 'æ¢³å­é•œå­', 'å›´è£™', 'ç™¾æ´å¸ƒ', 'æµ·ç»µæ“¦', 'é¤å…·', 'é”…å…·', 'åˆ€å…·', 'ç‚–é”…', 'è’¸é”…', 'æ±¤é”…', 'ç…é”…', 'å‹åŠ›é”…', 'ç‚’é”…', 'èœæ¿ç §æ¿', 'ä¸€æ¬¡æ€§é¤æ¡Œç”¨å“', 'é…’æ¯é…’å…·', 'å’–å•¡å™¨å…·', 'ç¢—ç›˜ç¢Ÿ', 'åˆ€å‰å‹º', 'é¤å…·ç“·å™¨å¥—è£…', 'é¤æ¡Œå°ç‰©', 'é¥­ç›’', 'å¨æˆ¿å‚¨ç‰©', 'ä¸€æ¬¡æ€§é¤æ¡Œç”¨å“', 'èŒ¶å…·', 'èŒ¶å£¶', 'é£˜é€¸æ¯', 'åŠŸå¤«èŒ¶æ¯', 'ç»ç’ƒæ¯', 'æ¯å«', 'ä¿æ¸©æ¯', 'é©¬å…‹æ¯', 'ä¿æ¸©å£¶', 'æƒ…ä¾£æ¯', 'æ™’è¡£ç¯®', 'æ™¾è¡£æ†', 'è„è¡£ç¯®', 'è¡£æ¶', 'å®¶åº­æ¸…æ´å‰‚', 'è“æ³¡æ³¡', 'ç®¡é“ç–é€šå™¨', 'å¡‘èƒ¶æ‰‹å¥—', 'åŒ»è¯ç®±', 'åƒåœ¾è¢‹', 'æ±½è½¦é¦–é¡µ', 'æ–°è½¦å…ˆè´­', 'è½¦æµ·æ·˜', 'äºŒæ‰‹è½¦', 'çˆ±è½¦ä¼°ä»·', 'suv', 'åˆ«å…‹', 'å¤§ä¼—', 'å®é©¬', 'åº§å«', 'åº§å¥—', 'è„šå«', 'é¦™æ°´', 'æ—…è¡ŒåºŠ', 'é®é˜³æŒ¡', 'æŒ‚ä»¶æ‘†ä»¶', 'å®‰å…¨åº§æ¤…', 'ä¸“è½¦ä¸“ç”¨åº§å«', 'è„šå«', 'å®‰å…¨åº§æ¤…', 'é¦™æ°´', 'é’¥åŒ™åŒ…', 'æŒ‚ä»¶', 'åº§å¥—', 'åå¤‡ç®±å«', 'ç½®ç‰©ç®±', 'æ™ºèƒ½è½¦æœº', 'åè§†é•œ', 'å®‰å“å¯¼èˆª', 'ä¾¿æºGPS', 'DVDå¯¼èˆª', 'ç”µå­ç‹—', 'æµåŠ¨æµ‹é€Ÿ', 'å¯¼èˆªè½¯ä»¶', 'è®°å½•ä»ª', 'é¢„è­¦ä»ª', 'GPS', 'è½¦æœº', 'å€’è½¦é›·è¾¾', 'æ™ºèƒ½åè§†é•œ', 'è“ç‰™', 'é˜²ç›—å™¨', 'MP3', '4Sä¿å…»', 'ç”µç“¶å®‰è£…', 'é…ä»¶å®‰è£…', 'éš”çƒ­è†œ', 'æ´—è½¦å¡', 'é•€æ™¶é•€è†œ', 'è¿é”ä¿å…»', 'ä¸Šé—¨æœåŠ¡', 'è¡Œè½¦è®°å½•ä»ª', 'é€†å˜å™¨', 'è·Ÿè¸ªå™¨', 'å……ç”µå™¨', 'å……æ°”æ³µ', 'èƒå‹ç›‘æµ‹', 'è½¦è½½å†°ç®±', 'ç©ºæ°”å‡€åŒ–', 'è½¦è¡£', 'SUVè¸æ¿', 'æ™´é›¨æŒ¡', 'æ”¹è‰²è†œ', 'æ±½è½¦è½¦æ ‡', 'è½¦ç‰Œæ¶', 'è½®èƒ', 'é›¨åˆ®å™¨', 'æœºæ²¹æ»¤èŠ¯', 'ç©ºæ°”æ»¤èŠ¯', 'ç©ºè°ƒæ»¤èŠ¯', 'å‡éœ‡', 'åˆ¹è½¦ç‰‡', 'ç«èŠ±å¡', 'è½®èƒ', 'é›¨åˆ®', 'æœºæ²¹', 'é«˜äº®å¤§ç¯', 'æŒ¡æ³¥æ¿', 'ä¿é™©æ ', 'è½¦é¡¶æ¶', 'è½®çœ‰', 'è½®æ¯‚', 'æ’æ°”', 'ä¿é™©æ ', 'æ±½è½¦åŒ…å›´', 'æ°™æ°”ç¯', 'è½¦é¡¶æ¶', 'è„šè¸æ¿', 'å¤§ç¯æ€»æˆ', 'å°¾ç¿¼', 'è½®æ¯‚', 'æ±½è½¦è£…é¥°ç¯', 'æ’æ°”ç­’', 'å°¾å–‰', 'è½¦èº«é¥°æ¡', 'æ·»åŠ å‰‚', 'é˜²å†»æ¶²', 'ç»ç’ƒæ°´', 'è½¦èœ¡', 'è¡¥æ¼†ç¬”', 'æ´—è½¦æœº', 'æ´—è½¦æ°´æª', 'è½¦æ¸èœ¡æ‹–', 'è½¦èœ¡', 'æ´—è½¦æœº', 'è¡¥æ¼†ç¬”', 'æŠ›å…‰æœº', 'æ‰“èœ¡æµ·ç»µ', 'è½¦ç”¨æ°´æ¡¶', 'æ“¦è½¦å·¾', 'è½¦åˆ·', 'è£…é¥°æ¡', 'è½¦è´´', 'å°¾å–‰', 'æ”¹è‰²è†œ', 'é˜²çˆ†è†œ', 'æ™´é›¨æŒ¡', 'æ—¥è¡Œç¯', 'è½¦è¡£', 'å¤å­£åº§å«', 'é®é˜³æŒ¡', 'é˜²çœ©è“é•œ', 'é˜²æ™’æ‰‹å¥—', 'iPhone', 'å°ç±³', 'åä¸º', 'ä¸‰æ˜Ÿ', 'é­…æ—', 'çº½æ‰£', 'é…·æ´¾', 'VIVO', 'iPad', 'å°ç±³', 'ä¸‰æ˜Ÿ', '10å¯¸', 'å°ç”µ', 'win8', 'è“é­”', 'åä¸º', 'DIYç”µè„‘', 'ä¸€ä½“æœº', 'è·¯ç”±å™¨', 'æ˜¾ç¤ºå™¨', 'å­¦ç”Ÿ', 'CPU', 'ç§»åŠ¨ç¡¬ç›˜', 'æ— çº¿é¼ æ ‡', 'è‹¹æœ', 'è”æƒ³', 'Thinkpad', 'æˆ´å°”', 'åç¡•', 'Acer', 'ç¥å·', 'ä¸‰æ˜Ÿ', 'å•å', 'è‡ªæ‹ç¥å™¨', 'æ‹ç«‹å¾—', 'ä½³èƒ½', 'å¾®å•', 'é•œå¤´', 'å¡è¥¿æ¬§', 'å°¼åº·', 'å……ç”µå®', 'æ™ºèƒ½ç©¿æˆ´', 'è“ç‰™è€³æœº', 'iPhone6å£³', 'ç”µè„‘åŒ…', 'æ‰‹æœºè´´è†œ', 'æ‰‹æœºå£³å¥—', 'ä¸‰è„šæ¶', 'ä¿æŠ¤å£³å¥—', 'ç‚«å½©è´´è†œ', 'ç§»åŠ¨ç”µæº', 'ç›¸æœºé…ä»¶', 'æ‰‹æœºé›¶ä»¶', 'è‡ªæ‹ç¥å™¨', 'ç§»åŠ¨POSæ”¯ä»˜', 'ç”µæ± ', 'å„¿ç«¥æ‰‹è¡¨', 'Apple Watch', 'æ™ºèƒ½æ‰‹è¡¨', 'æ™ºèƒ½æ‰‹ç¯', 'æ™ºèƒ½é…é¥°', 'æ™ºèƒ½å¥åº·', 'æ™ºèƒ½æ’æ’', 'æ™ºèƒ½çœ¼é•œ', 'æ¸¸æˆæŒæœº', 'å®¶ç”¨æ¸¸æˆæœº', 'æ¸¸æˆæ‰‹æŸ„', 'PSä¸»æœº', 'XBOX', 'ä»»å¤©å ‚é…ä»¶', 'PSä¸»æœºé…ä»¶', 'XBOXé…ä»¶', 'è·¯ç”±å™¨', 'ç½‘å…³', 'äº¤æ¢æœº', 'å…‰çº¤è®¾å¤‡', 'ç½‘ç»œå­˜å‚¨è®¾å¤‡', 'æ— çº¿ä¸Šç½‘å¡', 'TP-LINK', 'å°ç±³è·¯ç”±å™¨', 'MP3', 'MP4', 'å½•éŸ³ç¬”', 'ç´¢å°¼', 'é£åˆ©æµ¦', 'ipod', 'çˆ±å›½è€…', 'è€³æœº', 'Uç›˜', 'é—ªå­˜å¡', 'è®°å¿†æ£’', 'ç§»åŠ¨ç¡¬ç›˜', 'å¸Œæ·', 'ä¸‰æ˜Ÿ', 'Sandisk', 'é‡‘å£«é¡¿', 'ç”µç£ç‚‰', 'ç”µæ°´å£¶', 'æ–™ç†æœº', 'ç”µé¥­ç…²', 'æ¦¨æ±æœº', 'å‡€æ°´å™¨', 'è±†æµ†æœº', 'çƒ¤ç®±', 'ç”µé£æ‰‡', 'ç©ºè°ƒæ‰‡', 'æŒ‚çƒ«æœº', 'æ‰«åœ°æœº', 'å¸å°˜å™¨', 'åŠ æ¹¿å™¨', 'é™¤æ¹¿æœº', 'å¯¹è®²æœº', 'ç©ºæ°”å‡€åŒ–', 'ç†å‘å™¨', 'ç”µå­ç§°', 'ç¾å®¹ä»ª', 'æŒ‰æ‘©æ¤…', 'æŒ‰æ‘©æŠ«è‚©', 'è¡€å‹è®¡', 'è¶³æµ´å™¨', 'ç”µåŠ¨ç‰™åˆ·', 'å‰ƒé¡»åˆ€', 'è€³æœº', 'éŸ³å“', 'ç½‘ç»œæœºé¡¶ç›’', 'éº¦å…‹é£', 'æ‰©éŸ³å™¨', 'HiFiå¥—è£…', 'è“å…‰DVD', 'ä½éŸ³ç‚®', 'æ‰“å°æœº', 'æŠ•å½±ä»ª', 'ç¡’é¼“å¢¨ç›’', 'A4çº¸', 'ä¸€ä½“æœº', 'å­¦ç”Ÿæ–‡å…·', 'ä¿é™©æŸœ', 'ç”µçº¸ä¹¦', 'å­¦ä¹ æœº', 'å†°ç®±', 'ç©ºè°ƒ', 'å¹³æ¿ç”µè§†', 'æ²¹çƒŸæœº', 'ç‡ƒæ°”ç¶', 'æ¶ˆæ¯’æŸœ', 'å¨ç”µå¥—è£…', 'çƒ­æ°´å™¨', 'æ´—è¡£æœº', 'åŒ…è£…è®¾å¤‡', 'åŒ…è£…çº¸ç®±', 'å¡‘æ–™è¢‹', 'åŒ…è£…èƒ¶å¸¦', 'é“­ç‰Œ', 'å¿«é€’è¢‹', 'æ°”æ³¡è†œ', 'çœŸç©ºæœº', 'ç¬”è®°æœ¬', 'æ–‡ä»¶è¢‹', 'é’¢ç¬”', 'èƒ¶ç²˜ç”¨å“', 'é“…ç¬”', 'è®¡ç®—å™¨', 'ç™½æ¿', 'å°å†', 'è®¾è®¡å®šåˆ¶', 'ä¼ä¸šç”¨å“å®šåˆ¶', 'Tæ¤å°åˆ¶', 'æ¯å­å®šåˆ¶', 'pptæ¨¡æ¿', 'ç­æœå®šåˆ¶', 'æ´—ç…§ç‰‡', 'äººå¶å®šåˆ¶', 'ç”µå­ç”µå·¥', 'æ°”åŠ¨å…ƒä»¶', 'æ°´æ³µ', 'é˜€é—¨', 'ç”µé’»', 'ç„Šæ¥è®¾å¤‡', 'ä¸‡ç”¨è¡¨', 'é›•åˆ»æœº', 'åŠå…¬å®¶å…·', 'å•†ä¸šè®¾æ–½', 'åŠå…¬æ¡Œ', 'é™ˆåˆ—æŸœ', 'è´§æ¶', 'å¹¿å‘Šç‰Œ', 'æ–‡ä»¶æŸœ', 'æ²™å‘', 'ç½‘ç»œè®¾å¤‡', 'ç”µå­å…ƒå™¨ä»¶', 'è·¯ç”±å™¨', 'äº¤æ¢æœº', 'å…‰çº¤è®¾å¤‡', 'è§†é¢‘ä¼šè®®', 'æ— çº¿å®‰å…¨ä¿å¯†', 'æœºæŸœ', 'é¤é¥®ç¾é£Ÿ', 'å†°æ·‡æ·‹', 'ç«é”…', 'è´­ç‰©å¡åˆ¸', 'ä½“æ£€é…é•œ', 'ç¾å®¹ç¾ç”²', 'ä¿é™©ç†è´¢', 'å©šçº±æ‘„å½±', 'æ—…è¡Œå›¢è´­', 'ä½åœ¨å¸éƒ½', 'ä½åœ¨é­”éƒ½', 'ä½åœ¨æ­å·', 'ä½åœ¨å—äº¬', 'ä½åœ¨å¹¿å·', 'ä½åœ¨é’å²›', 'ä½åœ¨å®æ³¢', 'ä½åœ¨æˆéƒ½', 'å°‘å„¿è‹±è¯­', 'å°å­¦æ•™è‚²', 'æ½œèƒ½å¼€å‘', 'å®¶é•¿è®­ç»ƒ', 'å­•äº§è‚²å„¿', 'å°‘å„¿ç»˜ç”»', 'å©´å¹¼æ—©æ•™', 'éŸ³ä¹', 'Qå¸å……å€¼', 'ç‚¹å¡å……å€¼', 'å……æ¸¸æˆå¸', 'æ¸¸æˆä»£ç»ƒ', 'è¶…å€¼è´¦å·', 'æ‰‹æ¸¸å……å€¼', 'ç”µç«æ¯”èµ›', 'æ¸¸æˆå¸®æ´¾', 'æ½‡æ´’ä¸€å®¤', 'é è°±äºŒå®¤', 'èˆ’é€‚ä¸‰æˆ¿', 'å¤§å››å®¤', 'ç§è—åˆ«å¢…', 'æ™¯è§‚å±…æ‰€', 'è½¨é“æ²¿çº¿', 'å­¦åŒºæˆ¿', 'å®ç”¨è‹±è¯­', 'ç½‘ç«™åˆ¶ä½œ', 'ITæŠ€èƒ½', 'ä¼šè®¡èŒç§°', 'ä¸€å¯¹ä¸€', 'åŠå…¬è½¯ä»¶', 'æ—¥è¯­', 'ç¼–ç¨‹', 'è‹±é›„è”ç›Ÿ', 'å‰‘ä¾ æƒ…ç¼˜3', 'å¾é€”2', 'é­”åŸŸ', 'æˆ‘å«MT', 'åˆ€å¡”ä¼ å¥‡', 'DOTA2', 'DNF', 'é­”å…½ä¸–ç•Œ', 'è‡ªåŠ©é¤', 'ä¸ªæ€§å†™çœŸ', 'å„¿ç«¥å†™çœŸ', 'ç”µå½±ç¥¨å›¢è´­', 'ä¸Šé—¨æœåŠ¡', 'å‘¨è¾¹æ—…æ¸¸', 'å¢ƒå¤–æ—…æ¸¸', 'åŸºé‡‘ç†è´¢', 'é­…åŠ›å¥èº«', 'æ—¶å°šç¾å¦†', 'æ‰‹å·¥DIY', 'èˆè¹ˆ', 'å‡è‚¥ç‘œä¼½', 'ä¸ªäººå½¢è±¡', 'ç¾å‰§è‹±è¯­', 'æ‘„å½±', 'ç¾å¥³é™ªç»ƒ', 'è½»æ¾ç”©è‚‰', 'åŸºé‡‘ç†è´¢', 'æ·˜å®ç¾å·¥', 'åŠå…¬æŠ€èƒ½', 'å©šçº±æ‘„å½±', 'å©šç¤¼ç­–åˆ’', 'ä¸‰äºšå©šæ‹', 'å¦é—¨å©šæ‹', 'é’å²›å©šæ‹', 'åŒ—äº¬å©šæ‹', 'æ­å·å©šæ‹', 'ä¸Šæµ·å©šæ‹', 'æ–°å¨˜è·Ÿå¦†', 'å©šç¤¼è·Ÿæ‹', 'å©šç¤¼å¸ä»ª', 'å©šè½¦ç§Ÿèµ', 'ä»»æ„æ´—', 'æ´—å¤–å¥—', 'æ´—è¥¿è£…', 'æ´—é‹', 'æ´—å››ä»¶å¥—', 'æ´—çƒ«è¡¬è¡«', 'çš®åŒ…æŠ¤ç†', 'æ´—çª—å¸˜', 'æ´—åœ°æ¯¯', 'åœ¨çº¿æ´—è¡£', 'æ´—ç¤¼æœ', 'æ´—ç©å…·', 'å¼€è’ä¿æ´', 'å¨æˆ¿ä¿æ´', 'å…¬å¸ä¿æ´', 'å®¶ç”µæ¸…æ´—', 'ç©ºè°ƒæ¸…æ´—', 'æ´—æ²¹çƒŸæœº', 'å†°ç®±æ¸…æ´—', 'æ“¦ç»ç’ƒ', 'å®¶æ”¿æœåŠ¡', 'å®¶åº­ä¿æ´', 'ä¿æ´æœåŠ¡', 'é’Ÿç‚¹å·¥', 'æ´—è¡£æœºæ¸…æ´—', 'å«ç”Ÿé—´ä¿æ´', 'ä¸Šé—¨å…»è½¦', 'æ´—è½¦', 'å°é‡‰é•€è†œ', 'å†…é¥°æ¸…æ´—', 'ç©ºè°ƒæ¸…æ´—', 'æ±½è½¦ç»´ä¿®', 'å……åŠ æ²¹å¡', 'å¹´æ£€ä»£åŠ', 'ç»ç’ƒè´´è†œ', 'æ±½è½¦è£…é¥°', 'åº•ç›˜è£…ç”²', 'å››è½®å®šä½', 'æ±½è½¦æ”¹è£…', 'è¿ç« ä»£åŠ', 'æ±½è½¦éš”éŸ³', 'ä¸Šé—¨æŒ‰æ‘©', 'å¸¸è§„ä½“æ£€', 'å…¥èŒä½“æ£€', 'è€äººä½“æ£€', 'å››ç»´å½©è¶…', 'å­•å‰æ£€æŸ¥', 'ä½“æ£€æŠ¥å‘Š', 'ä¸“ä¸šæ´—ç‰™', 'çƒ¤ç“·ç‰™', 'èƒƒéƒ¨æ£€æµ‹', 'æœˆå«‚', 'å‚¬ä¹³å¸ˆ', 'è‚²å„¿å«‚', 'è¥å…»å¸ˆ', 'æ™®é€šä¿å§†', 'æ¶‰å¤–ä¿å§†', 'äº§åé™ªæŠ¤', 'ä¸´æ—¶çœ‹æŠ¤', 'ç®¡å®¶', 'çƒ§é¥­é˜¿å§¨', 'å® ç‰©å¯„å…»', 'å® ç‰©ç¾å®¹', 'å® ç‰©é…ç§', 'å® ç‰©æ´—æ¾¡', 'å® ç‰©æ‘„å½±', 'å® ç‰©æ‰˜è¿', 'å® ç‰©è®­ç»ƒ', 'å® ç‰©åŒ»ç–—', 'æ°´æ—æœåŠ¡', 'å® ç‰©ç»è‚²', 'å® ç‰©æ´—ç‰™', 'å® ç‰©é€ å‹', 'å® ç‰©ä½“æ£€', 'å±…å®¶æ¬å®¶', 'å…¬å¸æ¬è¿', 'ç©ºè°ƒæ‹†è£…', 'å®¶ç”µæ¬è¿', 'å®¶å…·æ¬è¿', 'æ‰“å­”', 'ç”µè·¯ç»´ä¿®', 'ç”²é†›æµ‹è¯•', 'å¼€é”æ¢é”', 'æ€è™«æ¶ˆæ¯’', 'é«˜ç©ºæ¸…æ´', 'é™¤å°˜é™¤è¨', 'ç½‘ä¸ŠåŠäº‹', 'ä»£ç¼´è´¹', 'ä»£æ’é˜Ÿ', 'äº¤ç½šå•', 'å«é†’æœåŠ¡', 'å®å®èµ·å', 'å­¦è½¦æŠ¥å', 'ä»£é‚®ä»£å–', 'è¯è´¹å……å€¼', 'ä»£é€é²œèŠ±', 'æ°´ç”µç…¤ç¼´è´¹', 'åŒåŸé€Ÿé€’', 'ä»£åŠæ¡£æ¡ˆ', 'å®½å¸¦è´¹', 'æœºåœºåœè½¦', 'ä¸“åˆ©ç”³è¯·', 'æ³•å¾‹å’¨è¯¢', 'ä¸“ä¸šç¿»è¯‘', 'å¼€å‘å»ºç«™', 'å›¾ç‰‡å¤„ç†', 'è§†é¢‘åˆ¶ä½œ', 'åç‰‡åˆ¶ä½œ', 'å•†æ ‡è½¬è®©', 'æ‰“å°', 'å¤å°', 'å•†æ ‡æ³¨å†Œ', 'ç§äººå¾‹å¸ˆ', 'åˆåŒæ–‡ä¹¦', 'å‡ºå›½ç¿»è¯‘', 'æ‰‹æœºç»´ä¿®', 'padç»´ä¿®', 'ä¿®å°å¼æœº', 'ç›¸æœºç»´ä¿®', 'ä¿®ç¬”è®°æœ¬', 'ä¿®å¤å°æœº', 'ä¿®æ¸¸æˆæœº', 'ä¿®å¯¼èˆªä»ª', 'è½¯ä»¶æœåŠ¡', 'å»¶ä¿æœåŠ¡', 'ç¡¬ä»¶ç»´ä¿®', 'è‹¹æœç»´ä¿®', 'å°ç±³ç»´ä¿®', 'ä¸‰æ˜Ÿç»´ä¿®', 'å®‰å“åˆ·æœº', 'æ•°æ®æ¢å¤', 'ç”µè„‘ç»´ä¿®', 'ipadç»´ä¿®', 'åä¸ºç»´ä¿®', 'é‡è£…ç³»ç»Ÿ', 'å®¶ç”µç»´ä¿®', 'ç›¸æœºç»´ä¿®', 'ç¡¬ç›˜ç»´ä¿®', 'è‹¹æœæ¢å±', 'æ¢ä¸»æ¿', 'åä¼æ‹›è˜', 'é«˜è–ªå²—ä½', 'æ–‡æ¡ˆç¼–è¾‘', 'ç½‘åº—æ¨å¹¿', 'å¼€å‘æŠ€æœ¯', 'æ´»åŠ¨ç­–åˆ’', 'ç¾å·¥è®¾è®¡', 'é‡‘ç‰Œå®¢æœ', 'å¤§ä¿ƒå®¢æœ', 'ç½‘é¡µè®¾è®¡', 'äººæ‰è®¤è¯', 'å›¾ç‰‡è®¾è®¡', 'æ‘„å½±å¸ˆ', 'åº—é•¿', 'è¿è¥ä¸»ç®¡', 'å®¢æœä¸»ç®¡', 'ç¾å·¥ä¸»ç®¡', 'è·‘æ­¥é‹', 'ç¯®çƒé‹', 'ä¼‘é—²é‹', 'è¶³çƒé‹', 'å¸†å¸ƒé‹', 'è®­ç»ƒé‹', 'å¾’æ­¥é‹', 'ç™»å±±é‹', 'é™é‡ç‰ˆ', 'æ¿é‹', 'Rosherun', 'è¿åŠ¨å¥—è£…', 'è¿åŠ¨å«è¡£', 'é•¿è£¤', 'çš®è‚¤é£è¡£', 'å¥èº«æœ', 'çƒæœ', 'è€å…‹', 'é˜¿è¿ªè¾¾æ–¯', 'ä¸‰å¶è‰', 'ç¾æ´¥æµ“', 'å½ªé©¬', 'ç‹¼çˆª', 'å±±åœ°è½¦', 'å…¬è·¯è½¦', 'éª‘è¡Œæœ', 'å¤´ç›”', 'è£…å¤‡', 'é›¶ä»¶', 'å·¥å…·', 'æŠ¤å…·', 'æŠ˜å è½¦', 'æ­»é£', 'æ°´å£¶æ¶', 'è¡Œææ¶', 'ç¾½æ¯›çƒæ‹', 'ç¾½æ¯›çƒæœ', 'ç¾½æ¯›çƒ', 'ç½‘çƒæ‹', 'ç¯®çƒ', 'ç¯®çƒæœ', 'è¶³çƒ', 'è¶³çƒæœ', 'ä¹’ä¹“çƒæ‹', 'æ©„æ¦„çƒ', 'å°çƒ', 'é«˜å°”å¤«', 'åŠåºŠ', 'å¤´ç¯', 'é®é˜³æ£š', 'æœ›è¿œé•œ', 'ç…§æ˜', 'é‡è¥å¸ç¯·', 'é‡å¤–ç…§æ˜', 'çƒ§çƒ¤ç‚‰', 'æœ›è¿œé•œ', 'æ½œæ°´é•œ', 'é˜²æ½®å«', 'çš®åˆ’è‰‡', 'çš®è‚¤è¡£', 'é˜²æ™’è¡£', 'å†²é”‹è¡£', 'æ¢è·¯è€…', 'é€Ÿå¹²è£¤', 'è¿·å½©æœ', 'æˆ˜æœ¯é´', 'ç™»å±±é‹', 'crocs', 'æº¯æºªé‹', 'æˆ·å¤–é‹', 'éº»å°†æœº', 'è½®æ»‘', 'éº»å°†', 'è±¡æ£‹', 'é›€å‹', 'é£é•–', 'æ¡Œä¸Šè¶³çƒ', 'é£ç­', 'é™€èº', 'ç©ºç«¹', 'æ²™è¢‹', 'å¤ªææœ', 'ç”©è„‚æœº', 'è½®æ»‘è£…å¤‡', 'è·‘æ­¥æœº', 'èˆè¹ˆ', 'ç‘œä¼½', 'å“‘é“ƒ', 'ä»°å§æ¿', 'è¸æ­¥æœº', 'åˆ’èˆ¹æœº', 'å§æ¨å™¨', 'å¥èº«è½¦', 'å‘¼å•¦åœˆ', 'èˆè¹ˆ', 'ç‘œä¼½', 'å¹¿åœºèˆ', 'èˆè¹ˆé‹', 'æ‹‰ä¸é‹', 'å¹¿åœºèˆå¥—è£…', 'è‚šçš®èˆæœè£…', 'ç‘œä¼½å«', 'ç‘œä¼½çƒ', 'ç‘œä¼½æœ', 'é±¼é¥µ', 'å¥—è£…', 'è·¯äºš', 'é™„ä»¶', 'é±¼é’©', 'é’“é±¼å·¥å…·', 'èˆ¹/è‰‡', 'å°é’“ç«¿', 'æµ·é’“ç«¿', 'æºªæµç«¿', 'è·¯äºšç«¿', 'çŸ¶é’“æ†', 'å•è‚©èƒŒåŒ…', 'æ—…è¡ŒåŒ…', 'åŒè‚©èƒŒåŒ…', 'æŒåŒ…', 'æˆ·å¤–æ‘„å½±åŒ…', 'å¤´å·¾', 'è¿åŠ¨æ°´å£¶', 'é˜²æ°´åŒ…', 'ç”µæ± ', 'ç”µè‡ªè¡Œè½¦', 'å¹³è¡¡è½¦', 'æ»‘æ¿è½¦', 'å¤´ç›”', 'æ‘©æ‰˜è½¦', 'è€å¹´ä»£æ­¥', 'ç‹¬è½®è½¦', 'é®é˜³ä¼', 'æ‰­æ‰­è½¦', 'æŠ˜å è½¦', 'ä»¿çœŸæ¤ç‰©', 'å¹²èŠ±', 'DIYèŠ±', 'æ‰‹æ§èŠ±', 'é²œæœè“', 'ä»¿çœŸè”¬æœ', 'å¼€ä¸šèŠ±ç¯®', 'èŠ±ç“¶', 'ç»¿æ¤åŒåŸ', 'å›­è‰ºæ–¹æ¡ˆ', 'å¤šè‚‰æ¤ç‰©', 'æ¡Œé¢ç›†æ ½', 'è”¬èœç§å­', 'æ°´åŸ¹èŠ±å‰', 'è‹”è—“æ™¯è§‚', 'ç©ºæ°”å‡¤æ¢¨', 'è‚¥æ–™', 'èŠ±ç›†èŠ±å™¨', 'èŠ±å‰è¯å‰‚', 'è¥å…»åœŸ', 'å›­è‰ºå·¥å…·', 'æ´’æ°´å£¶', 'èŠ±æ¶', 'é“ºé¢çŸ³', 'çƒ­å¸¦é±¼', 'å­”é›€é±¼', 'åº•æ –é±¼', 'è™¾èº', 'é¾™é±¼', 'ç½—æ±‰é±¼', 'é”¦é²¤', 'é‡‘é±¼', 'æ°´æ¯', 'ç¯ç§‘é±¼', 'ä¹Œé¾Ÿ', 'æ°´è‰', 'åº•ç ‚', 'æ°´è‰æ³¥', 'æ²‰æœ¨', 'ä»¿çœŸæ°´è‰', 'å‡å±±', 'æ°§æ°”æ³µ', 'è¿‡æ»¤å™¨', 'æ°´è‰ç¯', 'åŠ çƒ­æ£’', 'é±¼ç²®', 'æ°´è´¨ç»´æŠ¤', 'ç¡åŒ–ç»†èŒ', 'é™¤è—»å‰‚', 'é¾Ÿç²®', 'å…”å…”', 'ä»“é¼ ', 'é¾™çŒ«', 'é›ªè²‚', 'ç²®é£Ÿé›¶é£Ÿ', 'åŒ»ç–—ä¿å¥', 'ç¬¼å­', 'é¹¦é¹‰', 'é¸Ÿç¬¼', 'è§‚èµé¸Ÿ', 'èš‚èšå·¥åŠ', 'èœ˜è››', 'èš•', 'å¤§ç‰Œç‹—ç²®', 'å® ç‰©æœé¥°', 'ç‹—å•æ‰€', 'å® ç‰©çª', 'èˆªç©ºç®±', 'æµ·è—»ç²‰', 'ç¾Šå¥¶ç²‰', 'å® ç‰©ç¬¼', 'å‚¨ç²®æ¡¶', 'å‰ƒæ¯›å™¨', 'è¥å…»è†', 'ä¸Šé—¨æœåŠ¡', 'å…¨æ–°é’¢ç´', 'æ™ºèƒ½é’¢ç´', 'ä¸­å¤é’¢ç´', 'å°¤å…‹é‡Œé‡Œ', 'æ°‘è°£å‰ä»–', 'è¨å…‹æ–¯é£', 'å£ç´', 'å°æç´', 'é«˜è¾¾', 'æ‰‹åŠ', 'ç›’è›‹', 'å…µäºº', 'å˜å½¢é‡‘åˆš', 'åœ£è¡£ç¥è¯', 'é’¢é“ä¾ ', 'BJD', 'æ‹¼è£…', 'äººå¶', 'çŒ«ç ‚', 'çŒ«ç²®', 'çŒ«çˆ¬æ¶', 'çŒ«çª', 'çŒ«ç ‚ç›†', 'åŒ–æ¯›è†', 'çŒ«ç½å¤´', 'å–‚é£Ÿå™¨', 'æŠ˜è€³çŒ«', 'çŒ«æŠ“æ¿', 'çŒ«ç©å…·', 'çŒ«ç¬¼', 'å¤ç­', 'äºŒèƒ¡', 'è‘«èŠ¦ä¸', 'æˆ˜é¼“', 'å¤ç´', 'é™¶ç¬›', 'çµç¶', 'ç¬›å­', 'åŠ¨æ¼«Tæ¤', 'åŠ¨æ¼«æŠ±æ•', 'COS', 'èƒŒåŒ…', 'é¡¹é“¾', 'é¢œæ–‡å­—', 'å“†å•¦Aæ¢¦', 'å¤§ç™½', 'æ‰‹è¡¨', 'ç›—å¢“ç¬”è®°', 'æµ·è´¼', 'ç«å½±', 'LOL', 'æ€èŒå‰‚', 'æ€è™«å‰‚', 'é™¤è‰å‰‚', 'è°ƒèŠ‚å‰‚', 'æ€è¨å‰‚', 'æ€é¼ å‰‚', 'æ•Œæ•Œç•', 'è‰ç”˜è†¦', 'å›­æ—ç§è‹—', 'åŠ¨ç‰©ç§è‹—', 'è”¬èœç§è‹—', 'æ°´æœç§è‹—', 'ç²®æ²¹ç§å­', 'è¯æç§è‹—', 'é£Ÿç”¨èŒç§', 'è¾£æœ¨ç±½', 'æ°®è‚¥', 'ç£·è‚¥', 'é’¾è‚¥', 'å¶é¢è‚¥', 'æ–°å‹è‚¥æ–™', 'å¤åˆè‚¥', 'ç”Ÿç‰©è‚¥æ–™', 'æœ‰æœºè‚¥', 'è€•ç§æœºæ¢°', 'æ”¶å‰²æœºæ¢°', 'å†œæœºé…ä»¶', 'æ¤ä¿æœºæ¢°', 'æ‹–æ‹‰æœº', 'æ–½è‚¥æœºæ¢°', 'ç²®æ²¹è®¾å¤‡', 'å¾®è€•æœº', 'å¡‘æ–™è–„è†œ', 'å¤§æ£šè†œ', 'é˜²æ¸—è†œ', 'é±¼å¡˜ä¸“ç”¨', 'è–„è†œ', 'é®é˜³ç½‘', 'ç¯·å¸ƒ', 'é˜²è™«ç½‘', 'é•°åˆ€', 'é”¹', 'é«˜å‹æ°´æª', 'é”¨', 'é•', 'è€™å­', 'é”„å¤´', 'å‰', 'çŒªé¥²æ–™', 'ç¾Šé¥²æ–™', 'ç‰›é¥²æ–™', 'é¢„æ··æ–™', 'é¥²æ–™åŸæ–™', 'å…¨ä»·æ–™', 'é¥²æ–™æ·»åŠ å‰‚', 'æµ“ç¼©æ–™', 'åŠ å·¥è®¾å¤‡', 'å…»æ®–å™¨æ¢°', 'æ¸”ä¸šç”¨å…·', 'å…»æ®–æœåŠ¡', 'é…ç§æœåŠ¡', 'å…»é¸¡è®¾å¤‡', 'æŒ¤å¥¶æœº', 'æ¯çŒªäº§åºŠ', 'åŒ–å­¦è¯', 'ä¸­å…½è¯', 'æŠ—ç”Ÿç´ ', 'é©±è™«', 'æ¶ˆæ¯’å‰‚', 'ç–«è‹—', 'é˜¿è«è¥¿æ—', 'æ°Ÿè‹¯å°¼è€ƒ']''' è¯´æ˜å‡ ç‚¹ï¼š åœ¨ä½¿ç”¨ meta ä¼ é€’æ•°æ®çš„æ—¶å€™ï¼Œè¦ä½¿ç”¨ copy.deepcopy æ·±å¤åˆ¶ï¼Œè¯¦æƒ…æŸ¥é˜… ã€scrapyã€‘itemä¼ é€’å‡ºé”™ å…³äºæœç´¢è¯ã€‚å› ä¸ºæ·˜å®å¯¹æœç´¢ç»“æœåªä¼šè¿”å›100é¡µï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå¢åŠ ç´¢å¼•è¯ï¼Œæ¥è·å¾—æ›´å¤šæ•°æ®ã€‚å¯ä»¥åœ¨ä»£ç æœ«å°¾å‘ç°æ›´å¤šå…³é”®è¯ï¼Œæœ‰1000å¤šä¸ªï¼Œè¿™ä¸ªlistæ˜¯ä»è¿™é‡Œè·å¾— æ·˜å®é¦–é¡µè¡Œä¸šå¸‚åœº åçˆ¬å¤„ç†å‘ƒå‘ƒï¼Œæœ‰æ„æ€çš„æ˜¯ï¼Œè‡ªå·±è·‘äº†ä¸€ä¼šè·å¾—äº†å‡ ä¸‡æ¡æ•°æ®ï¼Œå¹¶æ²¡æœ‰ä»»ä½•çš„å¼‚å¸¸ï¼Œæ²¡æœ‰åœ¨ middlewares.py åŠ ä»£ç†ï¼Œè¿ UA éƒ½æ˜¯å›ºå®šçš„ï¼Œå¥½å¥‡æ€ªã€‚ å¯èƒ½é•¿å¾—å¸…çš„äººå“éƒ½æ¯”è¾ƒå¥½å§ã€‚ å±•ç¤ºæ•°æ®mongo ä¸­çš„æ•°æ® æ•°æ®å¹¶ä¸ç›´è§‚ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©å±•ç¤ºå‡ºæ¥ï¼Œåšä¸€ä¸ªå°å°çš„èšåˆæœç´¢ åŒæ ·çœ‹çœ‹ä¸»æ–‡ä»¶ server.py 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768# -*- coding: UTF-8 -*-from flask import Flask, request, session, g, redirect, url_for, \\ abort, render_template, flashfrom bson import json_utilfrom bson.objectid import ObjectIdimport jsonimport pymongoconn = pymongo.MongoClient('localhost', 27017)db = conn['taobao']goods_coll = db['search']cate_coll = db['categories']app = Flask(__name__)def toJson(data): return json.dumps( data, default=json_util.default, ensure_ascii=False )@app.errorhandler(404)def page_not_found(e): return render_template('404.html'), 404@app.route('/', methods=['GET'])def index(): if request.method == 'GET': total = goods_coll.count() return render_template('index.html', total=total) #if request.form['key']: # key = request.form['key'] # return redirect(url_for('get_goods', key=key, page=1))@app.route('/search', methods=['GET'])@app.route('/search/&lt;item&gt;', methods=['GET'])def get_goods(item=None): if request.method == 'GET': page = request.args.get('page', 1, type=int) limit = request.args.get('limit', 30, type=int) p = (page - 1) * limit offset = request.args.get('offset', p, type=int) catid = request.args.get('catid', None, type=str) jsons = request.args.get('json', 'off') keyword = request.args.get('key', '') if not keyword: keyword = item if catid: cursor = goods_coll.find(&#123;'categories.catid': catid&#125;) else: cursor = goods_coll.find(&#123;'title': &#123;'$regex': keyword&#125; &#125;) #total = cursor.count() #flash('å·²æŸ¥è¯¢åˆ° %d ä¸ªç»“æœ.'%total) results = cursor.skip(offset).limit(limit) resultList = [] for result in results: resultList.append(result) if jsons == 'off': return render_template('search.html', entries=resultList) else: return toJson(resultList)if __name__ == '__main__': #app.run(host='0.0.0.0') app.run(debug=True) è¿™é‡Œæ˜¯å€Ÿé‰´äº†åˆ«äººçš„é¡¹ç›®ï¼Œåœ°å€åœ¨è¿™ 1dot75cm/taobaobao æ‚¨å¯ä»¥è‡ªå®šä¹‰åœ¨ \\templatesç›®å½•ä¸‹ä¿®æ”¹å¯¹åº”çš„htmlæ–‡ä»¶ 12Î» ls404.html categories.html index.html layout.html search.html ç›´æ¥è¿è¡Œ server.py 12345Î» piython server.py * Restarting with stat * Debugger is active! * Debugger PIN: 503-651-032 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit) æ‰“å¼€ http://127.0.0.1:5000/ å³å¯æŸ¥çœ‹ç»“æœ To Do æ•°æ®å»é‡ ä»·æ ¼åŠé”€é‡å¯è§†åŒ–å±•ç¤º é€Ÿåº¦å¤ªæ…¢ï¼Œåº”ä½¿ç”¨åˆ†å¸ƒå¼ è¯„è®ºé‡‡é›† åŠ å¼ºçˆ¬è™«çš„åçˆ¬æªæ–½ Github ï¼š zhangslob/Taobao_duoshou ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç»™ä¸ªstarè¡Œä¸è¡Œ å‚è€ƒ 1dot75cm/taobaobao ã€scrapyã€‘itemä¼ é€’å‡ºé”™","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://zhangslob.github.io/tags/Scrapy/"},{"name":"Flask","slug":"Flask","permalink":"https://zhangslob.github.io/tags/Flask/"},{"name":"æ·˜å®","slug":"æ·˜å®","permalink":"https://zhangslob.github.io/tags/æ·˜å®/"}]},{"title":"Scrapyå­¦ä¹ å®ä¾‹ï¼ˆä¸‰ï¼‰é‡‡é›†æ‰¹é‡ç½‘é¡µ","date":"2017-12-12T13:11:17.000Z","path":"2017/12/12/Scrapyå­¦ä¹ å®ä¾‹ï¼ˆä¸‰ï¼‰é‡‡é›†æ‰¹é‡ç½‘é¡µ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åä¹ç¯‡åŸåˆ›æ–‡ç«  å…ˆæ¥é¦–ç«å½±å‹å‹æƒŠ (ï½¡ãƒ»`Ï‰Â´ï½¥) æœ€å¼€å§‹æ¥è§¦ Rulesæ˜¯åœ¨Scrapyçš„æ–‡æ¡£ä¸Šçœ‹åˆ°çš„ï¼Œä½†æ˜¯å¹¶çœ‹è¯»æ‡‚è¿™æ˜¯ä»€ä¹ˆæ„æ€ã€‚æ¥ä¸‹æ¥çœ‹åˆ«äººçš„æ¡ˆä¾‹ï¼Œæœ‰ä½¿ç”¨åˆ°Rulesï¼Œä¾¿èŠ±äº†å¾ˆå¤šæ—¶é—´å»äº†è§£ã€‚ è§£é‡Šï¼šRuleæ˜¯åœ¨å®šä¹‰æŠ½å–é“¾æ¥çš„è§„åˆ™ï¼Œä¸Šé¢çš„ä¸¤æ¡è§„åˆ™åˆ†åˆ«å¯¹åº”åˆ—è¡¨é¡µçš„å„ä¸ªåˆ†é¡µé¡µé¢å’Œè¯¦æƒ…é¡µï¼Œå…³é”®ç‚¹åœ¨äºé€šè¿‡restrict_xpathæ¥é™å®šåªä»é¡µé¢ç‰¹å®šçš„éƒ¨åˆ†æ¥æŠ½å–æ¥ä¸‹æ¥å°†è¦çˆ¬å–çš„é“¾æ¥ã€‚ å…¶å®ç”¨æˆ‘çš„è¯æ¥è¯´å°±æ˜¯ï¼Œä¸€ä¸ªæ˜¯å¯ä»¥ä¾¿æ·çš„è¿›è¡Œç¿»é¡µæ“ä½œï¼ŒäºŒæ˜¯å¯ä»¥é‡‡é›†äºŒçº§é¡µé¢ï¼Œç›¸å½“äºæ‰“å¼€è·å¾—è¯¦æƒ…é¡µå†…å®¹ã€‚æ‰€ä»¥è‹¥ä½¿ç”¨äº† Rulesï¼Œå¯ä»¥ä¾¿æ·çš„å¸®åŠ©æˆ‘ä»¬é‡‡é›†æ‰¹é‡ç½‘é¡µã€‚ å®˜æ–¹æ–‡æ¡£CrawlSpiderç¤ºä¾‹ 12345678910111213141516171819202122232425import scrapyfrom scrapy.spiders import CrawlSpider, Rulefrom scrapy.linkextractors import LinkExtractorclass MySpider(CrawlSpider): name = 'example.com' allowed_domains = ['example.com'] start_urls = ['http://www.example.com'] rules = ( # Extract links matching 'category.php' (but not matching 'subsection.php') # and follow links from them (since no callback means follow=True by default). Rule(LinkExtractor(allow=('category\\.php', ), deny=('subsection\\.php', ))), # Extract links matching 'item.php' and parse them with the spider's method parse_item Rule(LinkExtractor(allow=('item\\.php', )), callback='parse_item'), ) def parse_item(self, response): self.logger.info('Hi, this is an item page! %s', response.url) item = scrapy.Item() item['id'] = response.xpath('//td[@id=\"item_id\"]/text()').re(r'ID: (\\d+)') item['name'] = response.xpath('//td[@id=\"item_name\"]/text()').extract() item['description'] = response.xpath('//td[@id=\"item_description\"]/text()').extract() return item è¯¥spiderå°†ä»example.comçš„é¦–é¡µå¼€å§‹çˆ¬å–ï¼Œè·å–categoryä»¥åŠitemçš„é“¾æ¥å¹¶å¯¹åè€…ä½¿ç”¨ parse_item æ–¹æ³•ã€‚ å¯¹äºæ¯ä¸ªitem responseï¼Œå°†ä½¿ç”¨XPathä»HTMLä¸­æå–ä¸€äº›æ•°æ®ï¼Œå¹¶ä½¿ç”¨å®ƒå¡«å……Itemã€‚ å®é™…åº”ç”¨ä¸ºäº†æ›´å¥½çš„ç†è§£ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®é™…æ¡ˆä¾‹ä¸­Ruleså¦‚ä½•ä½¿ç”¨ è±†ç“£åº”ç”¨12345rules = [Rule(LinkExtractor(allow=(r'https://movie.douban.com/top250\\?start=\\d+.*'))), Rule(LinkExtractor(allow=(r'https://movie.douban.com/subject/\\d+')), callback='parse_item', follow=False)] å¦‚æœæ¥è§¦è¿‡djangoï¼Œé‚£ä¹ˆå¯ä»¥å‘ç°è¿™ä¸ªè§„åˆ™ä¸djangoçš„è·¯ç”±ç³»ç»Ÿååˆ†ç›¸ä¼¼ï¼ˆdjangoéƒ½å·²ç»å¿˜å®Œäº† -_-ï¼ï¼‰ï¼Œå…¶å®è¿™é‡Œä½¿ç”¨çš„æ­£åˆ™åŒ¹é…ã€‚ ä½¿ç”¨ r&#39;https://movie.douban.com/top250\\?start=\\d+.*&#39;æ¥åŒ¹é…ç¿»é¡µé“¾æ¥ï¼Œå¦‚ï¼š https://movie.douban.com/top250?start=25&amp;filter= https://movie.douban.com/top250?start=50&amp;filter= ä½¿ç”¨https://movie.douban.com/subject/\\d+æ¥åŒ¹é…å…·ä½“ç”µå½±çš„é“¾æ¥ï¼Œå¦‚ï¼š https://movie.douban.com/subject/1292052/ https://movie.douban.com/subject/1291546/ é“¾å®¶åº”ç”¨çˆ¬è™«çš„é€šå¸¸éœ€è¦åœ¨ä¸€ä¸ªç½‘é¡µé‡Œé¢çˆ¬å»å…¶ä»–çš„é“¾æ¥ï¼Œç„¶åä¸€å±‚ä¸€å±‚å¾€ä¸‹çˆ¬ï¼Œscrapyæä¾›äº†LinkExtractorç±»ç”¨äºå¯¹ç½‘é¡µé“¾æ¥çš„æå–ï¼Œä½¿ç”¨LinkExtractoréœ€è¦ä½¿ç”¨CrawlSpiderçˆ¬è™«ç±»ä¸­ï¼ŒCrawlSpiderä¸Spiderç›¸æ¯”ä¸»è¦æ˜¯å¤šäº†rulesï¼Œå¯ä»¥æ·»åŠ ä¸€äº›è§„åˆ™ï¼Œå…ˆçœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œçˆ¬å–é“¾å®¶ç½‘çš„é“¾æ¥ 1234567891011121314151617181920212223from scrapy.spiders import CrawlSpider, Rulefrom scrapy.linkextractors import LinkExtractorclass LianjiaSpider(CrawlSpider): name = \"lianjia\" allowed_domains = [\"lianjia.com\"] start_urls = [ \"http://bj.lianjia.com/ershoufang/\" ] rules = [ # åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼,å¤„ç†ä¸‹ä¸€é¡µ Rule(LinkExtractor(allow=(r'http://bj.lianjia.com/ershoufang/pg\\s+$',)), callback='parse_item'), # åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼,ç»“æœåŠ åˆ°urlåˆ—è¡¨ä¸­,è®¾ç½®è¯·æ±‚é¢„å¤„ç†å‡½æ•° # Rule(FangLinkExtractor(allow=('http://www.lianjia.com/client/', )), follow=True, process_request='add_cookie') ] def parse_item(self, response): # è¿™é‡Œä¸ä¹‹å‰çš„parseæ–¹æ³•ä¸€æ ·ï¼Œå¤„ç† pass åŒæ ·çš„ï¼Œä½¿ç”¨r&#39;http://bj.lianjia.com/ershoufang/pg\\s+$&#39;æ¥åŒ¹é…ä¸‹ä¸€é¡µé“¾æ¥ï¼Œå¦‚ï¼š https://bj.lianjia.com/ershoufang/pg2/ https://bj.lianjia.com/ershoufang/pg3/ è¿˜å¯ä»¥ä½¿ç”¨ r&#39;https://bj.lianjia.com/ershoufang/\\d+.html&#39;æ¥åŒ¹é…è¯¦æƒ…é¡µé“¾æ¥ï¼Œå¦‚ï¼š https://bj.lianjia.com/ershoufang/101102126888.html https://bj.lianjia.com/ershoufang/101100845676.html å­¦ä¹ å‚æ•°Ruleå¯¹è±¡Roleå¯¹è±¡æœ‰ä¸‹é¢å‚æ•° link_extractorï¼šé“¾æ¥æå–è§„åˆ™ callbackï¼šlink_extractoræå–çš„é“¾æ¥çš„è¯·æ±‚ç»“æœçš„å›è°ƒ cb_kwargsï¼šé™„åŠ å‚æ•°ï¼Œå¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­è·å–åˆ° followï¼šè¡¨ç¤ºæå–çš„é“¾æ¥è¯·æ±‚å®Œæˆåæ˜¯å¦è¿˜è¦åº”ç”¨å½“å‰è§„åˆ™ï¼ˆbooleanï¼‰ï¼Œå¦‚æœä¸ºFalseåˆ™ä¸ä¼šå¯¹æå–å‡ºæ¥çš„ç½‘é¡µè¿›è¡Œè¿›ä¸€æ­¥æå–ï¼Œé»˜è®¤ä¸ºFalse process_linksï¼šå¤„ç†æ‰€æœ‰çš„é“¾æ¥çš„å›è°ƒï¼Œç”¨äºå¤„ç†ä»responseæå–çš„linksï¼Œé€šå¸¸ç”¨äºè¿‡æ»¤ï¼ˆå‚æ•°ä¸ºlinkåˆ—è¡¨ï¼‰ process_requestï¼šé“¾æ¥è¯·æ±‚é¢„å¤„ç†ï¼ˆæ·»åŠ headeræˆ–cookieç­‰ï¼‰ LinkExtractorLinkExtractorå¸¸ç”¨çš„å‚æ•°æœ‰ï¼š allowï¼šæå–æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼çš„é“¾æ¥ denyï¼šæ’é™¤æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„é“¾æ¥ï¼ˆä¼˜å…ˆçº§é«˜äºallowï¼‰ allow_domainsï¼šå…è®¸çš„åŸŸåï¼ˆå¯ä»¥æ˜¯stræˆ–listï¼‰ deny_domainsï¼šæ’é™¤çš„åŸŸåï¼ˆå¯ä»¥æ˜¯stræˆ–listï¼‰ restrict_xpathsï¼šæå–æ»¡è¶³XPathé€‰æ‹©æ¡ä»¶çš„é“¾æ¥ï¼ˆå¯ä»¥æ˜¯stræˆ–listï¼‰ restrict_cssï¼šæå–æ»¡è¶³cssé€‰æ‹©æ¡ä»¶çš„é“¾æ¥ï¼ˆå¯ä»¥æ˜¯stræˆ–listï¼‰ tagsï¼šæå–æŒ‡å®šæ ‡ç­¾ä¸‹çš„é“¾æ¥ï¼Œé»˜è®¤ä»aå’Œareaä¸­æå–ï¼ˆå¯ä»¥æ˜¯stræˆ–listï¼‰ attrsï¼šæå–æ»¡è¶³æ‹¥æœ‰å±æ€§çš„é“¾æ¥ï¼Œé»˜è®¤ä¸ºhrefï¼ˆç±»å‹ä¸ºlistï¼‰ uniqueï¼šé“¾æ¥æ˜¯å¦å»é‡ï¼ˆç±»å‹ä¸ºbooleanï¼‰ process_valueï¼šå€¼å¤„ç†å‡½æ•°ï¼ˆä¼˜å…ˆçº§å¤§äºallowï¼‰ å…³äºLinkExtractorçš„è¯¦ç»†å‚æ•°ä»‹ç»è§å®˜ç½‘ æ³¨æ„ï¼šåœ¨ç¼–å†™æŠ“å–Spiderè§„åˆ™æ—¶ï¼Œé¿å…ä½¿ç”¨parseä½œä¸ºå›è°ƒï¼Œå› ä¸ºCrawlSpiderä½¿ç”¨parseæ–¹æ³•è‡ªå·±å®ç°å…¶é€»è¾‘ã€‚å› æ­¤ï¼Œå¦‚æœä½ è¦†ç›–parseæ–¹æ³•ï¼Œçˆ¬è¡ŒSpiderå°†ä¸å†å·¥ä½œã€‚ æœ€åè¯´ä¸€ä¸ªè‡ªå·±çŠ¯è¿‡çš„ä½çº§é”™è¯¯ï¼Œæˆ‘ç”¨Scrapyæœ‰ä¸ªä¹ æƒ¯ï¼Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®ä¹‹åï¼Œç›´æ¥cdç›®å½•ï¼Œç„¶åä½¿ç”¨genspiderå‘½ä»¤ï¼Œç„¶åã€‚ã€‚ 12345678910111213141516D:\\Backup\\æ¡Œé¢Î» scrapy startproject exampleNew Scrapy project 'example', using template directory 'c:\\\\users\\\\administrator\\\\appdata\\\\local\\\\programs\\\\python\\\\python36\\\\lib\\\\site-packages\\\\scrapy\\\\templates\\\\project', created in: D:\\Backup\\æ¡Œé¢\\exampleYou can start your first spider with: cd example scrapy genspider example example.comD:\\Backup\\æ¡Œé¢Î» cd exampleD:\\Backup\\æ¡Œé¢\\exampleÎ» scrapy genspider em example.comCreated spider 'em' using template 'basic' in module: example.spiders.em ç„¶åæˆ‘çš„em.pyå°±å˜æˆäº†è¿™æ ·ï¼š 1234567891011# -*- coding: utf-8 -*-import scrapyclass EmSpider(scrapy.Spider): name = 'em' allowed_domains = ['example.com'] start_urls = ['http://example.com/'] def parse(self, response): pass æ³¨æ„ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯ä¸èƒ½ä½¿ç”¨Rulesæ–¹æ³•çš„ï¼Œå› ä¸ºobjectä¸å¯¹ï¼Œåº”è¯¥æ˜¯ class EmSpider(CrawlSpider) è€Œä¸æ˜¯class EmSpider(scrapy.Spider): å…±å‹‰ï¼ï¼ï¼ ä¸‹ä¸€èŠ‚åº”è¯¥ä¼šè®²åˆ°Scrapyä¸­å„ä¸ªç»„ä»¶çš„ä½œç”¨ï¼Œä»¥åŠè¿™å¼ ç¥å›¾ å‚è€ƒï¼š CrawlSpiderç¤ºä¾‹ scrapyå­¦ä¹ ç¬”è®°","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://zhangslob.github.io/tags/Scrapy/"},{"name":"Rules","slug":"Rules","permalink":"https://zhangslob.github.io/tags/Rules/"}]},{"title":"ç»Ÿè®¡å­¦å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰æ•°æ®æ•´ç†ä¸å±•ç¤º","date":"2017-12-06T14:19:18.000Z","path":"2017/12/06/ç»Ÿè®¡å­¦å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰æ•°æ®æ•´ç†ä¸å±•ç¤º/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åå…«ç¯‡åŸåˆ›æ–‡ç«  è¿™æ˜¯ç»Ÿè®¡å­¦çš„ç¬¬äºŒç¯‡ç¬”è®°ï¼Œä¸»è¦è®°å½•äº†å¦‚ä½•æ•´ç†æ•°æ®ä¸å±•ç¤ºæ•°æ®ï¼Œä¹¦æœ¬ä¸Šæ˜¯è¿™æ ·è¯´ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ç°åœ¨äººä»¬ä¼šæ›´å¤šçš„å«åšæ•°æ®æ¸…æ´—ä¸æ•°æ®å¯è§†åŒ–ã€‚å‘½åæ— æ‰€è°“ï¼ŒæŒæ¡æ–¹æ³•å°±å¥½ã€‚ ä¸‹é¢æ˜¯æ­£æ–‡ã€‚ å¯ä»¥æ¥ç€è¿™é‡Œçœ‹å“¦ ç»Ÿè®¡å­¦å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰ æ•°æ®æ•´ç†ä¸å±•ç¤º3.1 æ•°æ®çš„é¢„å¤„ç†3.1.1 æ•°æ®å®¡æ ¸ æ¦‚å¿µï¼šæ£€æŸ¥æ•°æ®æ˜¯å¦æœ‰é”™è¯¯ å¯¹äºé€šè¿‡è°ƒæŸ¥å–å¾—çš„åŸå§‹æ•°æ®ï¼Œä¸»è¦ä»å®Œæ•´æ€§å’Œå‡†ç¡®æ€§ä¸¤ä¸ªæ–¹é¢å»å®¡æ ¸ å¯¹äºé€šè¿‡å…¶ä»–æ¸ é“è·å¾—çš„äºŒæ‰‹æ•°æ®ï¼Œä¸»è¦å®¡æ ¸æ•°æ®çš„é€‚ç”¨æ€§å’Œæ—¶æ•ˆæ€§ 3.1.2 æ•°æ®ç­›é€‰ åˆ é™¤æŸäº›ä¸ç¬¦åˆè¦æ±‚çš„æ•°æ®å’Œæœ‰æ˜æ˜¾é”™è¯¯çš„æ•°æ® å°†ç¬¦åˆæŸç§ç‰¹å®šæ¡ä»¶çš„æ•°æ®ç­›é€‰å‡ºæ¥ï¼Œè€Œå°†ä¸ç¬¦åˆç‰¹å®šæ¡ä»¶çš„æ•°æ®äºˆä»¥å‰”é™¤ Excelä¸¾ä¾‹ 3.1.3 æ•°æ®æ’åº æ¦‚å¿µï¼šæŒ‰ä¸€å®šé¡ºåºå°†æ•°æ®æ’åˆ—ï¼Œä»¥ä¾¿äºç ”ç©¶è€…é€šè¿‡æ•°æ®å‘ç°ä¸€äº›æ˜æ˜¾çš„ç‰¹å¾æˆ–è¶‹åŠ¿ï¼Œæ‰¾åˆ°è§£å†³é—®é¢˜çš„çº¿ç´¢ é€šè¿‡æ•°æ®ç±»å‹é€‰æ‹©æ’åºæ–¹å¼ï¼šå­—æ¯å‹æ•°æ®ã€æ±‰å­—å‹æ•°æ®ã€æ•°å€¼å‹æ•°æ® è¿™ä¸ªå¥½åƒä¹Ÿå«åšæ•°æ®æ¸…æ´— 3.2 å“è´¨æ•°æ®çš„æ•´ç†ä¸å±•ç¤º3.2.1 é¢‘æ•°ä¸é¢‘æ•°åˆ†å¸ƒ è½åœ¨æŸä¸€ç‰¹å®šç±»åˆ«ä¸­çš„æ•°æ®ä¸ªæ•°ï¼Œæˆä¸ºé¢‘æ•° æŠŠå„ä¸ªç±»åˆ«åŠè½åœ¨å…¶ä¸­çš„ç›¸åº”é¢‘æ•°å…¨éƒ¨åˆ—å‡ºï¼Œå¹¶ç”¨è¡¨æ ¼å½¢å¼è¡¨ç°å‡ºæ¥ï¼Œæˆä¸ºé¢‘æ•°åˆ†å¸ƒ å¥½åƒä¸æ­¢è¡¨æ ¼å§ ä¸€ä¸ªæ€»ä½“ï¼ˆæˆ–æ ·æœ¬ï¼‰ä¸­å„ä¸ªéƒ¨åˆ†çš„æ•°æ®ä¸å…¨éƒ¨æ•°æ®ä¹‹æ¯”ï¼Œæˆä¸ºæ¯”ä¾‹ å°†æ¯”ä¾‹ä¹˜ä»¥100å¾—åˆ°çš„æ•°å€¼ï¼Œæˆä¸ºç™¾åˆ†æ¯”æˆ–ç™¾åˆ†æ•°ç”¨%è¡¨ç¤º æ€»ä½“ï¼ˆæˆ–æ ·æœ¬ï¼‰ä¸­å„ä¸åŒç±»åˆ«æ•°å€¼ä¹‹é—´çš„æ¯”å€¼ï¼Œæˆä¸ºæ¯”ç‡ 3.2.2 å“è´¨æ•°æ®çš„å±•ç¤º æ¡å½¢å›¾ é¥¼å›¾ ç¯å½¢å›¾ 3.3 æ•°å€¼å‹æ•°æ®çš„æ•´ç†ä¸å±•ç¤º3.3.1 æ•°æ®åˆ†ç»„ æ ¹æ®ç»Ÿè®¡åˆ†æçš„éœ€è¦ï¼Œå°†åŸå§‹æ•°æ®æŒ‰ç…§æŸç§æ ‡å‡†åˆ’åˆ†æˆä¸åŒçš„ç»„åˆ«ï¼Œæˆä¸ºæ•°æ®åˆ†ç»„ åœ¨ç»„è·åˆ†ç»„ä¸­ï¼Œä¸€ä¸ªç»„çš„æœ€å°å€¼ç§°ä¸ºä¸‹é™ï¼Œä¸€ä¸ªç»„çš„æœ€å¤§å€¼ç§°ä¸ºä¸Šé™ æ¯ä¸€ç»„çš„ä¸Šé™å’Œä¸‹é™ä¹‹é—´çš„ä¸­é—´å€¼ç§°ä¸ºç»„ä¸­å€¼ 3.3.2 æ•°å€¼å‹æ•°æ®çš„å›¾ç¤º åˆ†ç»„æ•°æ®çœ‹åˆ†å¸ƒï¼šç›´æ–¹å›¾ï¼ˆhistogramï¼‰ æœªåˆ†ç»„æ•°æ®çœ‹åˆ†å¸ƒï¼šèŒå¶å›¾å’Œç®±å‹å›¾ å¤šå˜é‡æ•°æ®çš„å±•ç¤ºï¼šé›·è¾¾å›¾ 3.4 ä½¿ç”¨å›¾è¡¨çš„æ³¨æ„äº‹é¡¹ä¼˜ç§€å›¾è¡¨ç‰¹å¾ï¼š æ˜¾ç¤ºæ•°æ® è®©è¯»è€…æŠŠæ³¨æ„åŠ›æ”¾åœ¨å›¾è¡¨å†…å®¹ä¸Š é¿å…æ­ªæ›² å¼ºè°ƒæ•°æ®ä¹‹é—´çš„æ¯”è¾ƒ æœåŠ¡äºä¸€ä¸ªæ˜ç¡®çš„ç›®çš„ æœ‰å¯¹å›¾å½¢çš„æè¿°ç»Ÿè®¡å’Œæ–‡å­—è¯´æ˜ ä¼˜ç§€å›¾å½¢åº”å½“ï¼š ç²¾å¿ƒè®¾è®¡ï¼Œæœ‰åŠ©äºæ´å¯Ÿé—®é¢˜çš„å®è´¨ ä½¿å¤æ‚çš„è§‚ç‚¹å¾—åˆ°ç®€æ˜ã€ç¡®åˆ‡ã€é«˜æ•ˆçš„é˜è¿° èƒ½åœ¨æœ€çŸ­çš„æ—¶é—´å†…ã€ä»¥æœ€å°‘çš„ç¬”å¢¨ç»™è¯»è€…æä¾›å¤§é‡çš„ä¿¡æ¯ æ˜¯å¤šç»´çš„ è¡¨è¿°æ•°æ®çš„çœŸå®æƒ…å†µ å“è´¨æ•°æ®æ‚¨åº”è¯¥ä¼šå’Œæˆ‘ä¸€æ ·æé—®ï¼Œä»€ä¹ˆæ˜¯å“è´¨æ•°æ®ï¼Ÿ å“è´¨æ•°æ®:å¯¹äº§å“æˆ–å•†å“è¿›è¡Œå„ç§åŒ–å­¦ã€ç‰©ç†ã€åŠ›å­¦ç­‰è¯•éªŒåæ‰€å¾—å‡ºçš„æ•°æ®ã€‚ å“è´¨æ•°æ®ï¼šå¯¹äº§å“æˆ–å•†å“è¿›è¡Œå„ç§åŒ–å­¦ã€ç‰©ç†ã€åŠ›å­¦ç­‰è¯•éªŒåæ‰€å¾—å‡ºçš„æ•°æ®ã€‚ å“è´¨å‹æ•°æ®ï¼šæŒ‰å“è´¨æ ‡å¿—åˆ†ç»„æ‰€å¾—åˆ°æ•°æ®ï¼ŒåŒ…æ‹¬åˆ†ç±»æ•°æ®å’Œé¡ºåºæ•°æ®ï¼Œä»–ä»¬åœ¨æ•´ç†å’Œå›¾å½¢å±•ç¤ºä¸Šçš„æ–¹æ³•å¤§ä½“ç›¸åŒã€‚ æœ¬æ–‡ä¸­æåˆ°çš„å“è´¨æ•°æ®åº”è¯¥æ˜¯åè€… æ•°æ®å¯è§†åŒ–è¿™é‡Œé‡ç‚¹è¯´ä¸‹æ•°æ®å›¾è¡¨çš„é€‰æ‹©ã€‚ å°±æˆ‘è‡ªå·±çš„å·¥ä½œä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å°±æ˜¯ç›´æ–¹å›¾ã€æŠ˜çº¿å›¾ä¸é¥¼å›¾ï¼Œè¯äº‘å›¾ï¼ˆå¦‚æœç®—çš„è¯ï¼‰ã€‚æ•™æä¸­ä¹Ÿè¯´äº†å¾ˆå¤šæ²¡ç”¨è¿‡çš„å›¾ï¼Œè¿™ä¸ªä¸œè¥¿è¿˜æ˜¯è¦æ ¹æ®è‡ªå·±çš„å…·ä½“ä¸šåŠ¡æ¥æ“ä½œã€‚ è¿™é‡Œæ¨èä¸€ä¸ªå¾ˆå¥½çš„ç½‘ç«™ï¼Œå›¾è¡¨ä½¿ç”¨ è¿™ä¸ªç½‘ç«™æœ‰å¤šå¥½ï¼Œä½ ä¸€çœ‹ä¾¿çŸ¥ï¼Œä¸å¤šè§£é‡Šã€‚ æ•°æ®æ¸…æ´—æœ‰äººè¯´ï¼šä¸€ä¸ªåˆ†æé¡¹ç›®åŸºæœ¬å…«æˆæ—¶é—´åœ¨æ´—æ•°æ®ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯æ¸…æ´—æ•°æ®ã€‚ æ•°æ®æ¸…æ´—æ˜¯æŒ‡å‘ç°å¹¶çº æ­£æ•°æ®æ–‡ä»¶ä¸­å¯è¯†åˆ«çš„é”™è¯¯çš„æœ€åä¸€é“ç¨‹åºï¼ŒåŒ…æ‹¬æ£€æŸ¥æ•°æ®ä¸€è‡´æ€§ï¼Œå¤„ç†æ— æ•ˆå€¼å’Œç¼ºå¤±å€¼ç­‰ã€‚ä¸é—®å·å®¡æ ¸ä¸åŒï¼Œå½•å…¥åçš„æ•°æ®æ¸…ç†ä¸€èˆ¬æ˜¯ç”±è®¡ç®—æœºè€Œä¸æ˜¯äººå·¥å®Œæˆã€‚ æ•°æ®æ¸…æ´—çš„æ–¹æ³• è§£å†³ä¸å®Œæ•´æ•°æ®ï¼ˆ å³å€¼ç¼ºå¤±ï¼‰çš„æ–¹æ³• é”™è¯¯å€¼çš„æ£€æµ‹åŠè§£å†³æ–¹æ³• é‡å¤è®°å½•çš„æ£€æµ‹åŠæ¶ˆé™¤æ–¹æ³• ä¸ä¸€è‡´æ€§ï¼ˆ æ•°æ®æºå†…éƒ¨åŠæ•°æ®æºä¹‹é—´ï¼‰çš„æ£€æµ‹åŠè§£å†³æ–¹æ³• è½¬æ¢æ„é€  æ•°æ®å‹ç¼© è€è§„çŸ©ï¼Œè¿˜æ˜¯æ”¾ä¸€ç‚¹ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839import numpy as npimport matplotlib.pyplot as pltimport matplotlib.patches as patchesimport matplotlib.path as pathfig, ax = plt.subplots()# Fixing random state for reproducibilitynp.random.seed(19680801)# histogram our data with numpydata = np.random.randn(1000)n, bins = np.histogram(data, 50)# get the corners of the rectangles for the histogramleft = np.array(bins[:-1])right = np.array(bins[1:])bottom = np.zeros(len(left))top = bottom + n# we need a (numrects x numsides x 2) numpy array for the path helper# function to build a compound pathXY = np.array([[left, left, right, right], [bottom, top, top, bottom]]).T# get the Path objectbarpath = path.Path.make_compound_path_from_polys(XY)# make a patch out of itpatch = patches.PathPatch(barpath)ax.add_patch(patch)# update the view limitsax.set_xlim(left[0], right[-1])ax.set_ylim(bottom.min(), top.max())plt.show() å‚è€ƒ æ•°æ®æ¸…æ´— æ•°æ®æŒ–æ˜ä¸­å¸¸ç”¨çš„æ•°æ®æ¸…æ´—æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ","tags":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://zhangslob.github.io/tags/ç»Ÿè®¡å­¦/"},{"name":"æ•°æ®","slug":"æ•°æ®","permalink":"https://zhangslob.github.io/tags/æ•°æ®/"}]},{"title":"Scrapyå­¦ä¹ å®ä¾‹ï¼ˆäºŒï¼‰é‡‡é›†æ— é™æ»šåŠ¨é¡µé¢","date":"2017-12-03T11:48:53.000Z","path":"2017/12/03/Scrapyå­¦ä¹ å®ä¾‹ï¼ˆäºŒï¼‰é‡‡é›†æ— é™æ»šåŠ¨é¡µé¢/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åä¸ƒç¯‡åŸåˆ›æ–‡ç«  ä¸Šä¸€ç¯‡å†™çš„æ˜¯é‡‡é›†è™å—…ç½‘é¦–é¡µçš„æ–°é—»æ•°æ®ï¼Œæœ‰æœ‹å‹å¯¹æˆ‘è¯´ï¼Œé‡‡é›†å¤šé¡µè¯•è¯•çœ‹ã€‚åæ¥ç ”ç©¶ä¸‹ï¼Œè™å—…ç½‘é¦–é¡µæ˜¯POSTåŠ è½½ï¼ŒForm Dataä¸­æºå¸¦å‚æ•°ï¼Œæ‰€ä»¥åªéœ€è¦å¸¦ä¸Šä¸€ä¸ªå¾ªç¯å°±å¥½äº†ã€‚è¿™æ˜¯æˆ‘æœ€åˆçš„æƒ³æ³•ï¼Œå…ˆè®©æˆ‘ä»¬çœ‹çœ‹Scrapyä¸­å¦‚ä½•é‡‡é›†æ— é™æ»šåŠ¨é¡µé¢ï¼Ÿ å…ˆä¸¾ä¸ªæ —å­ï¼Œé‡‡é›†ç½‘ç«™æ˜¯quotes åˆ†æç½‘é¡µ ä¸‹æ‹‰æ—¶ï¼Œä¼šå‘ç°æ›´å¤šæ–°çš„è¯·æ±‚ï¼Œè§‚å¯Ÿè¿™äº›è¯·æ±‚ï¼Œè¿”å›çš„éƒ½æ˜¯jsonæ•°æ®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€éœ€çš„ï¼Œå†çœ‹çœ‹ä»–ä»¬çš„ä¸åŒï¼Œä¹Ÿå°±æ˜¯å‚æ•°çš„æ”¹å˜ï¼Œå®Œæ•´é“¾æ¥æ˜¯ï¼š 123http://spidyquotes.herokuapp.com/api/quotes?page=2http://spidyquotes.herokuapp.com/api/quotes?page=3http://spidyquotes.herokuapp.com/api/quotes?page=4 è¿™å°±å¾ˆæ¸…æ™°äº†ã€‚ è¿”å›çš„æ˜¯jsonï¼Œæˆ‘ä»¬éœ€è¦è§£æï¼Œç„¶åæå–æ•°æ®ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•çŸ¥é“æœ€å¤šæœ‰å¤šå°‘æ¡jsonå‘¢ï¼Œæ–‡ä»¶å·²ç»å‘Šè¯‰æˆ‘ä»¬äº†ï¼š has_next:true åˆ›å»ºé¡¹ç›®12345scrapy startproject quotecd quotescrapy genspider spiderquote http://spidyquotes.herokuapp.com/scroll å®šä¹‰ItemæŸ¥çœ‹ç½‘ç«™ï¼Œé‡‡é›†textã€authorå’Œtagsè¿™ä¸‰ä¸ª 123456789import scrapyclass QuoteItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() text = scrapy.Field() author = scrapy.Field() tag = scrapy.Field() ç¼–å†™spider1234567891011121314151617181920212223# -*- coding: utf-8 -*-import scrapyimport jsonclass SpiderquoteSpider(scrapy.Spider): name = 'spiderquote' quotes_base_url = 'http://spidyquotes.herokuapp.com/api/quotes?page=%s' start_urls = [quotes_base_url % 1] download_delay = 1.5 def parse(self, response): data = json.loads(response.body) for item in data.get('quotes', []): yield &#123; 'text': item.get('text'), 'author': item.get('author', &#123;&#125;).get('name'), 'tags': item.get('tags'), &#125; if data['has_next']: next_page = data['page'] + 1 yield scrapy.Request(self.quotes_base_url % next_page) è¿è¡Œçˆ¬è™«ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ã€‚ åº”ç”¨åˆ°è™å—…ç½‘é‚£ä¹ˆå¦‚ä½•åº”ç”¨åˆ°è™å—…ç½‘å‘¢ï¼Ÿé¦–å…ˆè¿˜æ˜¯è¦å»åˆ†æç½‘é¡µã€‚ è™å—…ç½‘çš„å‚æ•°æœ‰3ä¸ªï¼š 123huxiu_hash_code:13a3a353c52d424e1e263dda4d594e59page:3last_dateline:1512026700 æˆ‘ä»¬çŸ¥é“pageå°±æ˜¯ç¿»é¡µé¡µç ï¼Œhuxiu_hash_codeæ˜¯ä¸€ä¸ªä¸å˜çš„å­—ç¬¦ï¼Œlast_datelineçœ‹èµ·æ¥åƒunixæ—¶é—´æˆ³ï¼ŒéªŒè¯ç¡®å®å¦‚æ­¤ã€‚è¿™ä¸ªæ—¶é—´æˆ³æœ‰å¿…è¦å¸¦ä¸Šå—ï¼Œæˆ‘æƒ³éªŒè¯è¯•è¯•çœ‹ã€‚ åœ¨postmanä¸­æµ‹è¯•ï¼Œä¸å¸¦ä¸Šlast_datelineä¹Ÿæ˜¯å¯ä»¥è¿”å›æ•°æ®ï¼Œå¹¶ä¸”è¿™ä¸ªjsonä¸­å·²ç»å‘Šè¯‰æˆ‘ä»¬ä¸€å…±æœ‰å¤šå°‘é¡µï¼š &quot;total_page&quot;: 1654 åœ¨ä¸»å‡½æ•°ä¸­æˆ‘ä»¬å¯ä»¥ä¾è‘«èŠ¦ç”»ç“¢ 12345678910111213141516171819202122232425262728293031# -*- coding: utf-8 -*-import scrapyfrom huxiu.items import HuxiuItemimport jsonfrom lxml import etreeclass HuxiuSpider(scrapy.Spider): name = 'HuXiu' def start_requests(self): url = 'https://www.huxiu.com/v2_action/article_list' for i in range(1, 10): # FormRequest æ˜¯Scrapyå‘é€POSTè¯·æ±‚çš„æ–¹æ³• yield scrapy.FormRequest( url = url, formdata = &#123;\"huxiu_hash_code\" : \"13a3a353c52d424e1e263dda4d594e59\", \"page\" : str(i)&#125;, callback = self.parse ) def parse(self, response): item = HuxiuItem() data = json.loads(response.text) s = etree.HTML(data['data']) item['title'] = s.xpath('//a[@class=\"transition msubstr-row2\"]/text()') item['link'] = s.xpath('//a[@class=\"transition msubstr-row2\"]/@href') item['author'] = s.xpath('//span[@class=\"author-name\"]/text()') item['introduction'] = s.xpath('//div[@class=\"mob-sub\"]/text()') yield item è¾“å‡ºçš„æ•°æ®æœ‰ç‚¹éš¾çœ‹ï¼Œæ˜¯ä¸€æ®µä¸€æ®µçš„ã€‚ã€‚ å› ä¸ºdata[&#39;data&#39;]æ˜¯ä¸€æ®µhtmlæ–‡ä»¶ï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©çš„æ˜¯xpathï¼Œä¸æ¸…æ¥šè¿™é‡Œæ˜¯å¦ç›´æ¥ä½¿ç”¨Scrapyçš„xpathè§£æå·¥å…·ï¼Œå¦‚æœå¯ä»¥ï¼Œæ¬¢è¿åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚ æœ¬ç¯‡æ”¶è· Scrapyé‡‡é›†åŠ¨æ€ç½‘ç«™ï¼šåˆ†æç½‘é¡µ ä½¿ç”¨Scrapyæ¨¡æ‹Ÿpostè¯·æ±‚æ–¹æ³•ï¼Œæ–‡æ¡£åœ¨è¿™ åˆ˜äº¦è²å¥½æ¼‚äº® å¾…åšäº‹å®œ å®Œå–„æ–‡ä»¶ä¿å­˜ä¸è§£æ å…¨ç«™æŠ“å–å¤§æ¦‚ç”¨äº†3åˆ†é’Ÿï¼Œé€Ÿåº¦æœ‰ç‚¹æ…¢ è‹¥æƒ³è¯„è®ºï¼Œå…ˆç¿»é•¿åŸ","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://zhangslob.github.io/tags/Scrapy/"},{"name":"è™å—…","slug":"è™å—…","permalink":"https://zhangslob.github.io/tags/è™å—…/"}]},{"title":"ç»Ÿè®¡å­¦å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","date":"2017-11-30T15:45:14.000Z","path":"2017/11/30/ç»Ÿè®¡å­¦å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åå…­ç¯‡åŸåˆ›æ–‡ç«  è¿™æ˜¯å­¦ä¹ ç»Ÿè®¡å­¦çš„ç¬¬ä¸€ç¯‡ç¬”è®°ï¼Œä»¥åå°½é‡éƒ½æ”¾åœ¨è¿™é‡Œå§ã€‚ å‘ç°ä½¿ç”¨hexoå‘æ–‡ç« çš„å¿«æ·é”®ï¼š hexo clean &amp;&amp; hexo g &amp;&amp; hexo d ä¸‹é¢æ˜¯æ­£æ–‡ï¼š 1ã€ç»Ÿè®¡ä¸­çš„åŸºæœ¬æ¦‚å¿µ æ€»ä½“å’Œæ ·æœ¬ã€‚æ€»ä½“ï¼šæ‰€ç ”ç©¶çš„å…¨éƒ¨ä¸ªä½“ï¼›æ ·æœ¬ï¼šæ€»ä½“ä¸­çš„ä¸€éƒ¨åˆ† å‚æ•°å’Œç»Ÿè®¡é‡ã€‚å‚æ•°ï¼šç”¨æ¥æè¿°æ€»ä½“ç‰¹å¾çš„æ¦‚æ‹¬æ€§æ•°å­—åº¦é‡ï¼›ç»Ÿè®¡é‡ï¼šç”¨æ¥æè¿°æ ·æœ¬ç‰¹å¾çš„æ¦‚æ‹¬æ€§æ•°å­—åº¦é‡ã€‚ å˜é‡ã€‚å˜é‡ã€åˆ†ç±»å˜é‡ï¼ˆäº‹ç‰©ç±»åˆ«çš„ä¸€ä¸ªåç§°ï¼‰ã€é¡ºåºå˜é‡ï¼ˆäº‹ç‰©æœ‰åºç±»åˆ«çš„ä¸€ä¸ªåç§°ï¼‰ã€æ•°å€¼å‹å˜é‡ã€ç¦»æ•£å‹å˜é‡ï¼ˆåªèƒ½å–å¯æ•°å€¼çš„å˜é‡ï¼‰ã€è¿ç»­æ€§å˜é‡ã€‚ 2ã€æ•°æ®çš„æ”¶é›†1ã€æ•°æ®çš„é—´æ¥æ¥æºäºŒæ‰‹æ•°æ®ï¼šå…¬å¼€å‡ºç‰ˆçš„æˆ–å…¬å¼€æŠ¥é“çš„æ•°æ®ã€‚ 2ã€æ•°æ®çš„ç›´æ¥æ¥æºï¼ˆ1ï¼‰ç»Ÿè®¡è°ƒæŸ¥æ–¹å¼ æŠ½æ ·è°ƒæŸ¥ï¼šç»æµæ€§ã€æ—¶æ•ˆæ€§å¼ºã€é€‚åº”é¢å¹¿ã€å‡†ç¡®æ€§é«˜ã€‚ æ™®æŸ¥ï¼šä¸€æ¬¡æ€§æˆ–å‘¨æœŸæ€§ã€è§„å®šè°ƒæŸ¥æ—¶é—´ã€æ•°æ®æ¯”è¾ƒå‡†ç¡®ã€èŒƒå›´æ¯”è¾ƒç‹­çª„ã€‚ ï¼ˆ2ï¼‰æ•°æ®çš„æ”¶é›†æ–¹æ³• è¯¢é—®è°ƒæŸ¥ï¼šè®¿é—®è°ƒæŸ¥ã€é‚®å¯„è°ƒæŸ¥ã€ç”µè¯è°ƒæŸ¥ã€è®¡ç®—æœºè¾…åŠ©è°ƒæŸ¥ã€åº§è°ˆä¼šã€ä¸ªåˆ«æ·±åº¦è®¿é—®ã€‚ è§‚å¯Ÿä¸å®éªŒï¼šè§‚å¯Ÿæ³•ã€å®éªŒæ³•ã€‚ ç«Ÿç„¶æ²¡ç½‘ç»œçˆ¬è™«ï¼Œå˜¤å˜¤å˜¤ 3ã€è°ƒæŸ¥è®¾è®¡ï¼ˆ1ï¼‰è°ƒæŸ¥æ–¹æ¡ˆè®¾è®¡ è°ƒæŸ¥ç›®çš„ è°ƒæŸ¥å¯¹è±¡å’Œè°ƒæŸ¥å•ä½ è°ƒæŸ¥é¡¹ç›®å’Œè°ƒæŸ¥è¡¨ ï¼ˆ2ï¼‰è°ƒæŸ¥é—®å·è®¾è®¡a.è°ƒæŸ¥é—®å·çš„åŸºæœ¬ç»“æ„ï¼š å¼€å¤´éƒ¨åˆ†ï¼ˆé—®å€™è¯­ã€å¡«è¡¨è¯´æ˜ã€é—®å·ç¼–å· ï¼‰ ç”„åˆ«éƒ¨åˆ†ï¼šè¿‡æ»¤â€”â€”ç­›é€‰æ‰ä¸éœ€è¦çš„éƒ¨åˆ†â€”â€”é’ˆå¯¹ç‰¹å®šäººç¾¤ ä¸»ä½“éƒ¨åˆ†ï¼šè°ƒæŸ¥çš„å…¨éƒ¨é—®é¢˜ èƒŒæ™¯éƒ¨åˆ†ï¼šè¢«è°ƒæŸ¥è€…çš„èƒŒæ™¯èµ„æ–™ b.æé—®é¡¹ç›®çš„è®¾è®¡ï¼š æé—®çš„å†…å®¹å°½å¯èƒ½çŸ­ ç”¨è¯è¦ç¡®åˆ‡ã€é€šä¿— ä¸€ä¸ªé¡¹ç›®åªåŒ…å«ä¸€é¡¹å†…å®¹ é¿å…è¯±å¯¼æ€§æé—® é¿å…å¦å®šå¼æé—® é¿å…æ•æ„Ÿæ€§é—®é¢˜ c.å›ç­”é¡¹ç›®çš„è®¾è®¡ å¼€æ”¾æ€§é—®é¢˜ï¼šçµæ´»ï¼›æ•´ç†èµ„æ–™å›°éš¾ å°é—­æ€§é—®é¢˜ï¼šä¸¤é¡¹é€‰æ‹©æ³•ã€å¤šé¡¹é€‰æ‹©æ³•ï¼ˆå•é¡¹é€‰æ‹©å‹ã€å¤šé¡¹é€‰æ‹©å‹ã€é™åˆ¶é€‰æ‹©å‹ï¼‰ é¡ºåºé€‰æ‹©æ³•ï¼šæŒ‰é¡ºåºæ’åˆ— è¯„å®šå°ºåº¦æ³•ï¼šå’ŒNPSæœ‰ç‚¹åƒå“¦ åŒå‘åˆ—è”æ³•ï¼šè¡¨æ ¼è¡¨ç° d.é—®é¢˜é¡ºåºçš„è®¾è®¡ é—®é¢˜çš„å®‰æ’ç¡¬å…·æœ‰é€»è¾‘æ€§ é—®é¢˜çš„é¡ºåºåº”å…ˆéš¾åæ˜“ èƒ½å¼•èµ·è¢«è°ƒæŸ¥è€…å…´è¶£çš„é—®é¢˜æ”¾åœ¨æœ€å‰é¢ å¼€æ”¾æ€§é—®é¢˜æ”¾åœ¨åé¢ ï¼ˆ3ï¼‰ç»Ÿè®¡æ•°æ®çš„è´¨é‡a.ç»Ÿè®¡æ•°æ®çš„è¯¯å·®b.ç»Ÿè®¡æ•°æ®çš„è¯¯å·® ç²¾åº¦ å‡†ç¡®æ€§ å…³è”æ€§ åŠæ—¶æ€§ ä¸€è‡´æ€§ æœ€ä½æˆæœ¬ è¿™æ˜¯ç»Ÿè®¡å­¦åŸºç¡€ ç¬¬ä¸‰ç‰ˆ (è´¾ä¿Šå¹³)çš„è®°å½•ï¼Œçœ‹äº†å‰ä¸¤ç« ï¼Œæ„Ÿè§‰å—ç›ŠåŒªæµ…ï¼Œå°¤å…¶æ˜¯é—®å·çš„è®¾è®¡ï¼Œæ¯”è¾ƒç³»ç»Ÿã€å®Œæ•´ï¼Œå¯ä»¥åº”ç”¨åœ¨ä»¥åçš„å·¥ä½œä¸­ã€‚ ä¹¦åï¼šç»Ÿè®¡å­¦åŸºç¡€ ç¬¬ä¸‰ç‰ˆ ä½œè€…ï¼šè´¾ä¿Šå¹³ å‡ºç‰ˆç¤¾ï¼šä¸­å›½äººæ°‘å¤§å­¦å‡ºç‰ˆç¤¾ æœ€åè¯´ä¸€è¯´ä¸ºä»€ä¹ˆè¦å­¦ç»Ÿè®¡å­¦æœ€ç›´æ¥åŸå› æ˜¯å·¥èµ„é«˜ã€‚å¯ä»¥å»æ‹‰å‹¾ä¸Šçœ‹çœ‹â€œæ•°æ®åˆ†æâ€ã€â€œæ•°æ®æŒ–æ˜â€ã€â€œæ•°æ®ç§‘å­¦å®¶â€ç­‰èŒä½ï¼Œä»–ä»¬å¯¹å­¦å†çš„è¦æ±‚åŸºæœ¬ä¸Šéƒ½ä¼šæœ‰â€œç»Ÿè®¡å­¦â€ã€‚ å¯¹äºæˆ‘è¿™ç§æ–‡ç§‘ç”Ÿæ¥è¯´ï¼Œå­¦ä¹ ç»Ÿè®¡å­¦æ˜¯å¿…ç»ä¹‹è·¯ã€‚æ•²é—¨ç –å•Šï¼ æœ€åè®°å½•ä¸‹æœ€è¿‘å­¦ä¹ çš„æ•°æ®ç§‘å­¦çš„æµç¨‹ï¼š ä¸šåŠ¡ç†è§£ åˆ†ææ–¹æ³• æ•°æ®è¦æ±‚ æ”¶é›†æ•°æ® æ•°æ®ç†è§£ æ•°æ®å‡†å¤‡ å»ºæ¨¡ï¼ˆuse and testï¼‰ æ¨¡å‹è¯„ä¼° éƒ¨ç½²ä¸åé¦ˆ è‡ªå·±åˆ¤æ–­ï¼Œç¼ºå°‘çš„æ˜¯ä¸šåŠ¡ç†è§£ï¼Œå¯¹ç›¸å…³çš„ä¸šåŠ¡çŸ¥è¯†äº†è§£å¤ªå°‘ï¼›åˆ†ææ–¹æ³•çŸ¥é“çš„å¤ªå°‘äº†ï¼Œæ¥ä¸‹æ¥ä¼šç€é‡å­¦ä¹ ä¸€äº›å¸¸è§çš„ç®—æ³•ï¼›æ•°æ®å‡†å¤‡ä¹Ÿæ˜¯ä¸€ä¸ªå¤§å‘ï¼Œä¸è¿‡å¥½åœ¨è‡ªå·±æœ‰ä¸€äº›PythonåŸºç¡€ï¼›å»ºæ¨¡æ‰æ˜¯æœ€éš¾çš„ï¼Œæ…¢æ…¢æ¥å§ã€‚ æœ€è¿‘å‡ å¤©éœ€è¦ä¸ªè‡ªå·±å®šä¸€ä¸ªå­¦ä¹ ä»»åŠ¡ï¼Œå†…å®¹ä¸»è¦åŒ…æ‹¬ï¼šç»Ÿè®¡å­¦åŸºç¡€ã€å¸¸è§ç®—æ³•ã€pandaså¤„ç†æ•°æ®åŠå¯è§†åŒ–ã€ä¸šåŠ¡ç†è§£ã€Scrapyæ¡†æ¶å­¦ä¹ ã€å‰ç«¯ï¼ˆæ²¡é”™ï¼Œå­¦ç‚¹å‰ç«¯å¾ˆæœ‰å¿…è¦ï¼‰ æ¬¢è¿åŠ æˆ‘å¾®ä¿¡ï¼Œä¸€èµ·æ¥å­¦ä¹ ï¼Œå˜¤å˜¤å˜¤ ä¸‹é¢æ˜¯å¸¸è§çš„åˆ†ææ–¹æ³•","tags":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://zhangslob.github.io/tags/ç»Ÿè®¡å­¦/"},{"name":"æ•°æ®","slug":"æ•°æ®","permalink":"https://zhangslob.github.io/tags/æ•°æ®/"}]},{"title":"Scrapyå­¦ä¹ å®ä¾‹ï¼ˆä¸€ï¼‰","date":"2017-11-29T13:52:32.000Z","path":"2017/11/29/Scrapyå­¦ä¹ å®ä¾‹ï¼ˆä¸€ï¼‰/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åäº”ç¯‡åŸåˆ›æ–‡ç«  Helloï¼Œæˆ‘åˆå›æ¥å•¦ã€‚ä»¥åå°±åœ¨è¿™å‘æ–‡ç« å§ï¼Œè®°å½•è‡ªå·±çš„å­¦ä¹ å†ç¨‹ã€‚ ä¸¾å¤´å–ç«¹é¼ ï¼Œä½å¤´å˜¤å˜¤å˜¤ã€‚ æˆ‘ä¼šè®°å½•è‡ªå·±å¯¹Scrapyçš„å­¦å†ç»å†ï¼Œæ›´é‡è¦çš„æ˜¯ç†è§£ã€‚ä¸‹é¢å°±å¼€å§‹å§ï¼Œé¦–å…ˆå½“ç„¶æ˜¯åˆ›å»ºä¸€ä¸ªé¡¹ç›®å•¦ï¼ æˆ‘é€‰æ‹©çˆ¬å–è™å—…ç½‘é¦–é¡µçš„æ–°é—»åˆ—è¡¨ã€‚ 1ã€åˆ›å»ºé¡¹ç›®1234567891011121314151617F:\\Python\\huxiu&gt;scrapy startproject huxiuNew Scrapy project 'huxiu', using template directory 'c:\\\\users\\\\administrator\\\\appdata\\\\local\\\\programs\\\\python\\\\python36\\\\lib\\\\site-packages\\\\scrapy\\\\templates\\\\project', created in: F:\\Python\\huxiu\\huxiuYou can start your first spider with: cd huxiu scrapy genspider example example.comF:\\Python\\huxiu&gt;cd huxiuF:\\Python\\huxiu\\huxiu&gt;scrapy genspider huxiu huxiu.comCannot create a spider with the same name as your projectF:\\Python\\huxiu\\huxiu&gt;scrapy genspider HuXiu huxiu.comCreated spider 'HuXiu' using template 'basic' in module: huxiu.spiders.HuXiu è®°ä½çˆ¬è™«å’Œé¡¹ç›®å‘½åä¸ä¸€æ · 2ã€å®šä¹‰Itemåœ¨item.pyä¸­åˆ›å»ºscrapy.Itemç±»ï¼Œå¹¶å®šä¹‰å®ƒçš„ç±»å‹ä¸ºscrapy.Fieldçš„å±æ€§ã€‚ 123456789101112import scrapyclass HuxiuItem(scrapy.Item): # define the fields for your item here like: # name = scrapy.Field() title = scrapy.Field() #æ ‡é¢˜ link = scrapy.Field() #é“¾æ¥ author = scrapy.Field() #ä½œè€… introduction = scrapy.Field() #ç®€ä»‹ time = scrapy.Field() #æ—¶é—´ 3ã€ç¼–å†™Spider ä¸€ç›®äº†ç„¶ åœ¨huxiu/spider/HuXiu.pyä¸­ç¼–å†™ä»£ç  12345678910111213141516171819202122# -*- coding: utf-8 -*-import scrapyfrom huxiu.items import HuxiuItemclass HuxiuSpider(scrapy.Spider): name = 'HuXiu' allowed_domains = ['huxiu.com'] start_urls = ['http://huxiu.com/'] def parse(self, response): for s in response.xpath('//div[@class=\"mod-info-flow\"]/div/div[@class=\"mob-ctt\"]'): item = HuxiuItem() item['title'] = s.xpath('h2/a/text()')[0].extract() item['link'] = s.xpath('h2/a/@href')[0].extract() url = response.urljoin(item['link']) item['author'] = s.xpath('div/a/span/text()')[0].extract() item['introduction'] = s.xpath('div[2]/text()')[0].extract() item['time'] = s.xpath('div/span/text()')[0].extract() print(item) åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ scrapy crawl HuXiu éƒ¨åˆ†è¾“å‡º 4ã€æ·±åº¦çˆ¬å–å“ˆå“ˆï¼Œè¿™é‡Œå€Ÿç”¨é€ æ•°çš„å‘½åäº†ã€‚å…¶å®å°±æ˜¯çˆ¬å–æ–°é—»è¯¦æƒ…é¡µã€‚1234567891011121314151617181920212223242526272829303132333435# -*- coding: utf-8 -*-import scrapyfrom huxiu.items import HuxiuItemclass HuxiuSpider(scrapy.Spider): name = 'HuXiu' allowed_domains = ['huxiu.com'] start_urls = ['http://huxiu.com/'] def parse(self, response): for s in response.xpath('//div[@class=\"mod-info-flow\"]/div/div[@class=\"mob-ctt\"]'): item = HuxiuItem() item['title'] = s.xpath('h2/a/text()')[0].extract() item['link'] = s.xpath('h2/a/@href')[0].extract() url = response.urljoin(item['link']) item['author'] = s.xpath('div/a/span/text()')[0].extract() item['introduction'] = s.xpath('div[2]/text()')[0].extract() item['time'] = s.xpath('div/span/text()')[0].extract() #print(item) yield scrapy.Request(url, callback=self.parse_article) def parse_article(self, response): item = HuxiuItem() detail = response.xpath('//div[@class=\"article-wrap\"]') item['title'] = detail.xpath('h1/text()')[0].extract().strip() item['link'] = response.url item['author'] = detail.xpath('div[@class=\"article-author\"]/span/a/text()')[0].extract() item['time'] = detail.xpath('div[@class=\"article-author\"]/div[@class=\"column-link-box\"]/span/text()')[0].extract() print(item) word = detail.xpath('div[5]') print(word[0].xpath('string(.)').extract()[0]) yield item è¾“å‡ºç»“æœ è¯´æ˜ä¸€ç‚¹ï¼Œå¦‚ä½•ä½¿ç”¨xpathè·å¾—å¤šä¸ªæ ‡ç­¾ä¸‹çš„æ–‡æœ¬ï¼Œè¿™é‡Œå‚è€ƒäº†è§£å†³ï¼šxpathå–å‡ºæŒ‡å®šå¤šæ ‡ç­¾å†…æ‰€æœ‰æ–‡å­—textï¼ŒæŠŠæ–‡ç« è¯¦ç»†å†…å®¹æ‰“å°å‡ºæ¥ï¼Œä½†æ˜¯ä¼šé‡åˆ°ä¸€äº›é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨gooseæ¥è¯•è¯•çœ‹ã€‚ Python-Goose - Article Extractor1234567891011&gt;&gt;&gt; from goose import Goose&gt;&gt;&gt; from goose.text import StopWordsChinese&gt;&gt;&gt; url = 'http://www.bbc.co.uk/zhongwen/simp/chinese_news/2012/12/121210_hongkong_politics.shtml'&gt;&gt;&gt; g = Goose(&#123;'stopwords_class': StopWordsChinese&#125;)&gt;&gt;&gt; article = g.extract(url=url)&gt;&gt;&gt; print article.cleaned_text[:150]é¦™æ¸¯è¡Œæ”¿é•¿å®˜æ¢æŒ¯è‹±åœ¨å„æ–¹å‹åŠ›ä¸‹å°±å…¶å¤§å®…çš„è¿ç« å»ºç­‘ï¼ˆåƒ­å»ºï¼‰é—®é¢˜åˆ°ç«‹æ³•ä¼šæ¥å—è´¨è¯¢ï¼Œå¹¶å‘é¦™æ¸¯æ°‘ä¼—é“æ­‰ã€‚æ¢æŒ¯è‹±åœ¨æ˜ŸæœŸäºŒï¼ˆ12æœˆ10æ—¥ï¼‰çš„ç­”é—®å¤§ä¼šå¼€å§‹ä¹‹é™…åœ¨å…¶æ¼”è¯´ä¸­é“æ­‰ï¼Œä½†å¼ºè°ƒä»–åœ¨è¿ç« å»ºç­‘é—®é¢˜ä¸Šæ²¡æœ‰éšç’çš„æ„å›¾å’ŒåŠ¨æœºã€‚ä¸€äº›äº²åŒ—äº¬é˜µè¥è®®å‘˜æ¬¢è¿æ¢æŒ¯è‹±é“æ­‰ï¼Œä¸”è®¤ä¸ºåº”èƒ½è·å¾—é¦™æ¸¯æ°‘ä¼—æ¥å—ï¼Œä½†è¿™äº›è®®å‘˜ä¹Ÿè´¨é—®æ¢æŒ¯è‹±æœ‰ å‚è€ƒæ–‡ç« ï¼š Scrapyç¬”è®°02- å®Œæ•´ç¤ºä¾‹ è§£å†³ï¼šxpathå–å‡ºæŒ‡å®šå¤šæ ‡ç­¾å†…æ‰€æœ‰æ–‡å­—text è‹¥æƒ³è¯„è®ºï¼Œå…ˆç¿»é•¿åŸ","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Scrapy","slug":"Scrapy","permalink":"https://zhangslob.github.io/tags/Scrapy/"},{"name":"è™å—…","slug":"è™å—…","permalink":"https://zhangslob.github.io/tags/è™å—…/"}]},{"title":"çˆ¬è™«ä¸‰æ­¥èµ°ï¼ˆäºŒï¼‰è§£ææºç ","date":"2017-05-26T12:15:20.000Z","path":"2017/05/26/çˆ¬è™«ä¸‰æ­¥èµ°ï¼ˆäºŒï¼‰è§£ææºç /","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åå››ç¯‡åŸåˆ›æ–‡ç«  çˆ¬è™«ä¸‰æ­¥èµ°ï¼šè·å–æºç ã€è§£ææºç ã€æ•°æ®å‚¨å­˜ ä¸Šä¸€æœŸè®²äº†å¦‚ä½•è·å–ç½‘é¡µæºç çš„æ–¹æ³•ï¼Œè¿™ä¸€æœŸè¯´ä¸€è¯´æ€ä¹ˆä»å…¶ä¸­è·å¾—æˆ‘ä»¬éœ€è¦çš„å’Œæ•°æ®ã€‚ è§£æç½‘é¡µçš„æ–¹æ³•å¾ˆå¤šï¼Œæœ€å¸¸è§çš„å°±æ˜¯BeautifulSoupå’Œæ­£åˆ™äº†ï¼Œå…¶ä»–çš„åƒxpathã€PyQueryç­‰ç­‰ï¼Œå…¶ä¸­æˆ‘è§‰å¾—æœ€å¥½ç”¨çš„å°±æ˜¯xpathäº†ï¼ŒxpathçœŸçš„è¶…çº§ç®€å•å¥½ç”¨ï¼Œå­¦äº†ä¹‹åå†ä¹Ÿä¸æƒ³å–ç”¨ç¾ä¸½æ±¤äº†ã€‚ä¸‹é¢ä»‹ç»xpathçš„ä½¿ç”¨æ–¹æ³•ã€‚ é¦–å…ˆéœ€è¦å®‰è£…lxmlï¼Œwindowsä¸‹å®‰è£…lxmlæ˜¯ä¸ªå¤§å‘ï¼ŒçŸ¥ä¹ä¸Šæœ‰äººç»™å‡ºäº†è§£å†³æ–¹æ³•Python LXMLæ¨¡å—æ­»æ´»å®‰è£…ä¸äº†æ€ä¹ˆåŠï¼Ÿ è¯¦ç»†çš„ç”¨æ³•å¯ä»¥å‚è€ƒçˆ¬è™«å…¥é—¨åˆ°ç²¾é€š-ç½‘é¡µçš„è§£æï¼ˆxpathï¼‰ åœ¨è¿™é‡Œæˆ‘ä»¬å°è¯•ä½¿ç”¨xpathæ¥è¿…é€Ÿè·å–æ•°æ®ã€‚ ä¾‹å¦‚æƒ³è¦è·ç†ŠçŒ«ç›´æ’­è™ç‰™ç›´æ’­ä¸‹ä¸»æ’­çš„ID import requests from lxml import etree url = &apos;http://www.huya.com/g/lol&apos; headers = {&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&apos;} res = requests.get(url,headers=headers).text s = etree.HTML(res) print(s.xpath(&apos;//i[@class=&quot;nick&quot;]/text()&apos;)) è¾“å‡ºï¼š ä¸‹é¢ä¸€æ­¥æ­¥è®²è§£ä¸ºä»€ä¹ˆè¿™æ ·åšã€‚ import requests from lxml import etree é¦–å…ˆæ˜¯å¯¼å…¥æ¨¡å—ï¼Œrequestså¾ˆå¸¸è§ï¼Œä½†æ˜¯xpathéœ€è¦ from lxml import etreeï¼Œä½ è‚¯ç‚¹æƒ³é—®ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Œå›ç­”æ˜¯â€œæˆ‘ä¹Ÿä¸çŸ¥é“â€ï¼Œå°±åƒæ˜¯çº¦å®šä¿—æˆçš„ä¸œè¥¿ä¸€æ ·ã€‚ url = &apos;http://www.huya.com/g/lol&apos; headers = {&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&apos;} res = requests.get(url,headers=headers).text è¿™ä¸‰æ­¥å°±æ˜¯å¹³å¸¸è·å–æºç çš„è¿‡ç¨‹ï¼Œå¾ˆç®€å•ã€‚ s = etree.HTML(res) ç»™ä¸€ä¸ªhtmlï¼Œè¿”å›xmlç»“æ„ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Ÿï¼Ÿç­”æ¡ˆå’Œä¸Šé¢ä¸€æ ·ã€‚æœ€é‡è¦çš„å°±æ˜¯ä¸‹é¢çš„è¿™ä¸€æ­¥ï¼š s.xpath(&apos;//i[@class=&quot;nick&quot;]/text()&apos;) æŒ‰ä¸‹F12çœ‹åˆ°â€œçˆ±æ‹-å¤æ‰‹ç¾½â€åœ¨iæ ‡ç­¾ä¸‹ï¼Œæ¥ç€æˆ‘ä»¬å³é”®æ‰“å¼€â€œæŸ¥çœ‹ç½‘é¡µæºä»£ç â€ï¼Œæœç´¢â€œçˆ±æ‹-å¤æ‰‹ç¾½â€ ç¡®å®æ‰¾åˆ°äº†â€œçˆ±æ‹-å¤æ‰‹ç¾½â€å°±åœ¨iæ ‡ç­¾ä¸‹ï¼Œé‚£æˆ‘ä»¬å°±æŠŠä»–æå‡ºæ¥å§ï¼ s.xpath(&#39;//i[@class=&quot;nick&quot;]/text()&#39;) è¿™ä¸ªæ®µä»£ç æ„æ€æ˜¯ï¼Œæ‰¾åˆ°classä¸ºâ€œnickâ€çš„iæ ‡ç­¾ï¼Œè¿”å›å…¶ä¸­çš„æ–‡æœ¬ä¿¡æ¯ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è¿”å›iæ ‡ç­¾ä¸­çš„titleï¼Œå†™æ³•å¦‚ä¸‹ï¼š s.xpath(&#39;//i[@class=&quot;nick&quot;]/@title&#39;) text()è¿”å›çš„æ˜¯æ–‡æœ¬ä¿¡æ¯ï¼Œ@titleåˆ™æ˜¯æ ‡ç­¾é‡Œé¢çš„å…·ä½“å±æ€§çš„å€¼ï¼Œä¾‹å¦‚æˆ‘æƒ³çŸ¥é“è§‚ä¼—äººæ•° import requests from lxml import etree url = &apos;http://www.huya.com/g/lol&apos; headers = {&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&apos;} res = requests.get(url,headers=headers).text s = etree.HTML(res) print(s.xpath(&apos;//i[@class=&quot;js-num&quot;]/text()&apos;)) åªéœ€åœ¨åŸæ¥åŸºç¡€ä¸Šä¿®æ”¹ä¸€ä¸ªå±æ€§ï¼Œiæ ‡ç­¾classä¸ºâ€œjs-numâ€é‡Œé¢çš„å€¼ print(s.xpath(&apos;//i[@class=&quot;js-num&quot;]/text()&apos;)) è¿”å›ç»“æœæ˜¯ï¼š è¯´æ˜ï¼šåœ¨è¿è¡Œä»£ç ä¸­ï¼Œå‘ç°è™ç‰™åçˆ¬è™«åšå¾—æŒºå¥½çš„ï¼Œç¬é—´å°±è¯†åˆ«çˆ¬è™«èº«ä»½å¹¶å°äº†IPï¼Œæ‰€ä»¥æˆ‘æ¢äº†IPå»è®¿é—®ï¼Œè‡³äºå¦‚ä½•è®¾ç½®ä»£ç†ï¼Œåœ¨æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æœ‰è¯´åˆ°ï¼Œå»çœ‹çœ‹å§ã€‚ åœ¨å®é™…æ“ä½œä¸­ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°æ›´åŠ å¤æ‚çš„æƒ…å†µï¼Œæ‰€ä»¥ä¸€å®šè®°å¾—å»çœ‹çœ‹è¯¦ç»†çš„æ•™ç¨‹ã€‚çˆ¬è™«å…¥é—¨åˆ°ç²¾é€š-ç½‘é¡µçš„è§£æï¼ˆxpathï¼‰ å°å¹¿å‘Šï¼šå–œæ¬¢çˆ¬è™«ã€æ•°æ®çš„å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼ˆzhangslobï¼‰ï¼Œå¤šå¤šäº¤æµã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Pythonå…¥é—¨","slug":"Pythonå…¥é—¨","permalink":"https://zhangslob.github.io/tags/Pythonå…¥é—¨/"}]},{"title":"çˆ¬è™«ä¸‰æ­¥èµ°ï¼ˆä¸€ï¼‰è·å–æºç ","date":"2017-05-25T07:21:06.000Z","path":"2017/05/25/çˆ¬è™«ä¸‰æ­¥èµ°ï¼ˆä¸€ï¼‰è·å–æºç /","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åä¸‰ç¯‡åŸåˆ›æ–‡ç«  çˆ¬è™«ä¸‰æ­¥èµ°ï¼šè·å–æºç ã€è§£ææºç ã€æ•°æ®å‚¨å­˜ ä¸¾ä¸ªä¾‹å­ï¼Œçˆ¬ä¸€çˆ¬çŸ¥ä¹æ—¥æŠ¥çš„ç›¸å…³æ•°æ® çŸ¥ä¹æ—¥æŠ¥ - æ¯å¤© 3 æ¬¡ï¼Œæ¯æ¬¡ 7 åˆ†é’Ÿ 1ã€è·å–æºç 12345import requests url = 'http://daily.zhihu.com/'res = requests.get(url).textprint(res) ä¸ªäººå–œæ¬¢requestsï¼Œç›´æ¥è®¿é—®ï¼Œå‘ç°è¿”å›500é”™è¯¯ C:\\Python35\\python.exe F:/PyCharm/çˆ¬è™«/daily.py &lt;html&gt;&lt;body&gt;&lt;h1&gt;500 Server Error&lt;/h1&gt; An internal server error occured. &lt;/body&gt;&lt;/html&gt; Process finished with exit code 0 æ ¹æ®ç»éªŒåˆ¤æ–­ï¼Œæ˜¯çŸ¥ä¹ç¦æ­¢çˆ¬è™«ï¼Œéœ€è¦åŠ ä¸Šä¸€äº›ä¼ªè£…ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹åŠ ä¸Šæµè§ˆå™¨ä¼ªè£…æ•ˆæœ import requests headers = {&apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&apos;} url = &apos;http://daily.zhihu.com/&apos; res = requests.get(url,headers=headers).text print(res) çœ‹çœ‹ç»“æœï¼Œå·²ç»è¿”å›æˆ‘ä»¬éœ€è¦çš„æ•°æ® C:\\Python35\\python.exe F:/PyCharm/çˆ¬è™«/daily.py &lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt;&lt;head&gt;&lt;title&gt;çŸ¥ä¹æ—¥æŠ¥ - æ¯å¤© 3 æ¬¡ï¼Œæ¯æ¬¡ 7 åˆ†é’Ÿ&lt;/title&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;&lt;meta name=&quot;description&quot; content=&quot;åœ¨ä¸­å›½ï¼Œèµ„è®¯ç±»ç§»åŠ¨åº”ç”¨çš„äººå‡é˜…è¯»æ—¶é•¿æ˜¯ 5 åˆ†é’Ÿï¼Œè€Œåœ¨çŸ¥ä¹æ—¥æŠ¥ï¼Œè¿™ä¸ªæ•°å­—æ˜¯ 21ã€‚ä»¥ç‹¬æœ‰çš„æ–¹å¼ä¸ºä½ æä¾›æœ€é«˜è´¨ã€æœ€æ·±åº¦ã€æœ€æœ‰æ”¶è·çš„é˜…è¯»ä½“éªŒã€‚&quot;&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/base.auto.css&quot;&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/new_home_v3.auto.css&quot;&gt;&lt;script src=&quot;/js/jquery.1.9.1.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;/js/new_index_v3/home.js&quot;&gt;&lt;/script&gt;&lt;link rel=&quot;shortcut icon&quot; href=&quot;/favicon.ico&quot; type=&quot;image/x-icon&quot;&gt;&lt;base target=&quot;_blank&quot;&gt;&lt;style&gt;h1,h2,h3 {padding: 0;margin:0}&lt;/style&gt;&lt;base target=&quot;_blank&quot;&gt;&lt;/head&gt;&lt;body class=&quot;home&quot;&gt;&lt;a href=&quot;javascript:;&quot; title=&quot;å›åˆ°é¡¶éƒ¨&quot; class=&quot;back-to-top&quot;&gt;&lt;/a&gt;&lt;div class=&quot;header navbar-fixed-top&quot;&gt;&lt;div class=&quot;container-fixed-width clearfix&quot;&gt;&lt;div class=&quot;top-nav-link&quot;&gt;&lt;a href=&quot;javascript:;&quot; data-offset=&quot;470&quot;&gt;&lt;span&gt;æµè§ˆå†…å®¹&lt;/span&gt;&lt;/a&gt;&lt;a href=&quot;javascript:;&quot; data-offset=&quot;0&quot; class=&quot;active&quot;&gt;&lt;span&gt;App ä¸‹è½½&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;h1 class=&quot;logo&quot;&gt;&lt;a href=&quot;http://daily.zhihu.com/&quot; title=&quot;çŸ¥ä¹æ—¥æŠ¥&quot; class=&quot;link-logo&quot;&gt;çŸ¥ä¹æ—¥æŠ¥&lt;/a&gt;&lt;/h1&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;download&quot;&gt; ... ä½†æ˜¯è¿™ç§å†™æ³•æ˜¯å¦å¯ä»¥åº”ç”¨åˆ°æ‰€æœ‰çš„ç½‘ç«™ï¼Œç­”æ¡ˆæ˜¯â€œä¸â€ 2ã€ä»£ç†è®¾ç½®æœ‰æ—¶å€™åŒä¸€ä¸ªIPå»çˆ¬å–åŒä¸€ç½‘ç«™ä¸Šçš„å†…å®¹ï¼Œä¹…äº†ä¹‹åå°±ä¼šè¢«è¯¥ç½‘ç«™æœåŠ¡å™¨å±è”½ã€‚è§£å†³æ–¹æ³•å°±æ˜¯æ›´æ¢IPã€‚è¿™ä¸ªæ—¶å€™ï¼Œåœ¨å¯¹æ–¹ç½‘ç«™ä¸Šï¼Œæ˜¾ç¤ºçš„ä¸æ˜¯æˆ‘ä»¬çœŸå®åœ°IPåœ°å€ï¼Œè€Œæ˜¯ä»£ç†æœåŠ¡å™¨çš„IPåœ°å€ã€‚ å›½å†…é«˜åŒ¿å…è´¹HTTPä»£ç†IP_å›½å†…é«˜åŒ¿ è¥¿åˆºä»£ç†æä¾›äº†å¾ˆå¤šå¯ç”¨çš„å›½å†…IPï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ã€‚ é‚£ä¹ˆå¦‚ä½•åœ¨çˆ¬è™«é‡ŒåŠ å…¥ä»£ç†å‘¢ï¼Œçœ‹çœ‹requestsçš„å®˜æ–¹æ–‡æ¡£æ€ä¹ˆè¯´ã€‚é«˜çº§ç”¨æ³• - Requests 2.10.0 æ–‡æ¡£ å¦‚æœéœ€è¦ä½¿ç”¨ä»£ç†ï¼Œä½ å¯ä»¥é€šè¿‡ä¸ºä»»æ„è¯·æ±‚æ–¹æ³•æä¾› proxies å‚æ•°æ¥é…ç½®å•ä¸ªè¯·æ±‚: import requests proxies = { &quot;http&quot;: &quot;http://10.10.1.10:3128&quot;, &quot;https&quot;: &quot;http://10.10.1.10:1080&quot;, } requests.get(&quot;http://example.org&quot;, proxies=proxies) ç”¨æ³•å¾ˆç®€å•ï¼ŒåŠ å…¥proxieså‚æ•°å³å¯ import requests proxies = { &quot;http&quot;: &quot;http://121.201.24.248ï¼š8088&quot;, &quot;https&quot;: &quot;http://36.249.194.52ï¼š8118&quot;, } headers = {&apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&apos;} url = &apos;http://daily.zhihu.com/&apos; res = requests.get(url,headers=headersï¼Œproxies=proxies).text print(len(res)) ä¸ºäº†ä¾¿äºæµ‹è¯•ï¼Œåªæ‰“å°å‡ºè¿”å›æ•°æ®çš„é•¿åº¦ C:\\Python35\\python.exe F:/PyCharm/çˆ¬è™«/daily.py 10830 Process finished with exit code 0 å‘ç°ä»£ç†æœåŠ¡å™¨æˆåŠŸçˆ¬å–çŸ¥ä¹æ—¥æŠ¥çš„ä¿¡æ¯ï¼Œå†…å®¹æ˜¯10830ï¼Œæ•…æ„æŠŠä»£ç†IPå†™é”™ä¸€ä½æ•°ï¼Œçœ‹çœ‹ç»“æœ import requests proxies = { &quot;http&quot;: &quot;http://121.201.24.248ï¼š8088&quot;, &quot;https&quot;: &quot;http://36.249.194.52: 222&quot;, } headers = {&apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&apos;} url = &apos;http://daily.zhihu.com/&apos; res = requests.get(url,headers=headers,proxies=proxies).text print(len(res)) æˆ‘ä»¬æŠŠâ€httpsâ€: â€œhttp://36.249.194.52ï¼š8118&quot;ä¿®æ”¹ä¸º&quot;httpsâ€œ: â€œhttp://36.249.194.52: 222â€ï¼Œæ­¤æ—¶è¿”å›çš„ç»“æœå¦‚ä¸‹ï¼Œå‘ç°ä¸èƒ½è·å–ç½‘é¡µæ•°æ®ã€‚æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨ä»£ç†æœåŠ¡å™¨çˆ¬å»ç½‘ç«™æ—¶ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸ï¼Œè¦è€ƒè™‘ä»£ç†IPæ˜¯å¦å¤±æ•ˆäº†ã€‚ å½“ç„¶ä½ ä¹Ÿå¯ä»¥å†™ä¸€ä¸ªçˆ¬è™«ï¼Œå®æ—¶æŠ“å–æœ€æ–°çš„ä»£ç†IPç”¨æ¥çˆ¬å–ã€‚ Traceback (most recent call last): File &quot;F:/PyCharm/çˆ¬è™«/daily.py&quot;, line 9, in &lt;module&gt; res = requests.get(url,headers=headers,proxies=proxies).text File &quot;C:\\Python35\\lib\\site-packages\\requests\\api.py&quot;, line 70, in get return request(&apos;get&apos;, url, params=params, **kwargs) File &quot;C:\\Python35\\lib\\site-packages\\requests\\api.py&quot;, line 56, in request return session.request(method=method, url=url, **kwargs) File &quot;C:\\Python35\\lib\\site-packages\\requests\\sessions.py&quot;, line 488, in request resp = self.send(prep, **send_kwargs) File &quot;C:\\Python35\\lib\\site-packages\\requests\\sessions.py&quot;, line 609, in send r = adapter.send(request, **kwargs) File &quot;C:\\Python35\\lib\\site-packages\\requests\\adapters.py&quot;, line 485, in send raise ProxyError(e, request=request) requests.exceptions.ProxyError: HTTPConnectionPool(host=&apos;121.201.24.248ï¼š8088&apos;, port=80): Max retries exceeded with url: http://daily.zhihu.com/ (Caused by ProxyError(&apos;Cannot connect to proxy.&apos;, NewConnectionError(&apos;&lt;requests.packages.urllib3.connection.HTTPConnection object at 0x0000000003860DA0&gt;: Failed to establish a new connection: [Errno 11004] getaddrinfo failed&apos;,))) 3ã€æ¨¡æ‹Ÿç™»å½•æœ‰äº›ç½‘ç«™æ˜¯éœ€è¦ç™»å½•æ‰èƒ½çœ‹åˆ°ä¿¡æ¯çš„ï¼Œä¾‹å¦‚çŸ¥ä¹ï¼Œç›´æ¥ç”¨requestsè·å–çŸ¥ä¹é¦–é¡µä¿¡æ¯ï¼Œè¿”å›æ•°æ®æ˜¯éœ€è¦ä½ ç™»å½•çš„ï¼Œåªæœ‰ç™»å½•äº†æ‰èƒ½çœ‹åˆ°æ•°æ®ã€‚ &lt;button type=&quot;button&quot; class=&quot;signin-switch-button&quot;&gt;æ‰‹æœºéªŒè¯ç ç™»å½•&lt;/button&gt; &lt;a class=&quot;unable-login&quot; href=&quot;#&quot;&gt;æ— æ³•ç™»å½•ï¼Ÿ&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;social-signup-wrapper&quot; data-za-module=&quot;SNSSignIn&quot;&gt; &lt;span class=&quot;name js-toggle-sns-buttons&quot;&gt;ç¤¾äº¤å¸å·ç™»å½•&lt;/span&gt; &lt;div class=&quot;sns-buttons&quot;&gt; &lt;a title=&quot;å¾®ä¿¡ç™»å½•&quot; class=&quot;js-bindwechat&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;sprite-index-icon-wechat&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;å¾®åšç™»å½•&quot; class=&quot;js-bindweibo&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;sprite-index-icon-weibo&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;a title=&quot;QQ ç™»å½•&quot; class=&quot;js-bindqq&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;sprite-index-icon-qq&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;/div&gt; å†æ¬¡å›åˆ°å®˜æ–¹æ–‡æ¡£å¿«é€Ÿä¸Šæ‰‹ - Requests 2.10.0 æ–‡æ¡£ å¦‚æœæŸä¸ªå“åº”ä¸­åŒ…å«ä¸€äº› cookieï¼Œä½ å¯ä»¥å¿«é€Ÿè®¿é—®å®ƒä»¬ï¼š &gt;&gt;&gt; url = &apos;http://example.com/some/cookie/setting/url&apos; &gt;&gt;&gt; r = requests.get(url) &gt;&gt;&gt; r.cookies[&apos;example_cookie_name&apos;] &apos;example_cookie_value&apos; è¦æƒ³å‘é€ä½ çš„cookiesåˆ°æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨ cookies å‚æ•°ï¼š &gt;&gt;&gt; url = &apos;http://httpbin.org/cookies&apos; &gt;&gt;&gt; cookies = dict(cookies_are=&apos;working&apos;) &gt;&gt;&gt; r = requests.get(url, cookies=cookies) &gt;&gt;&gt; r.text &apos;{&quot;cookies&quot;: {&quot;cookies_are&quot;: &quot;working&quot;}}&apos; å…·ä½“çš„åˆ†æè¿‡ç¨‹å¯ä»¥å‚è€ƒxchaoinfoæ‰€å†™çš„æ–‡ç« å’Œè§†é¢‘ï¼Œè®²è§£ååˆ†æ¸…æ™°Python æ¨¡æ‹Ÿç™»å½•å“ªäº›äº‹å„¿ - çŸ¥ä¹ä¸“æ  ä¸‹é¢æ˜¯ä»£ç  import requests from bs4 import BeautifulSoup import os, time import re # import http.cookiejar as cookielib # æ„é€  Request headers agent = &apos;Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Mobile Safari/537.36&apos; headers = { &quot;Host&quot;: &quot;www.zhihu.com&quot;, &quot;Referer&quot;: &quot;https://www.zhihu.com/&quot;, &apos;User-Agent&apos;: agent } ######### æ„é€ ç”¨äºç½‘ç»œè¯·æ±‚çš„session session = requests.Session() # session.cookies = cookielib.LWPCookieJar(filename=&apos;zhihucookie&apos;) # try: # session.cookies.load(ignore_discard=True) # except: # print(&apos;cookie æ–‡ä»¶æœªèƒ½åŠ è½½&apos;) ############ è·å–xsrf_token homeurl = &apos;https://www.zhihu.com&apos; homeresponse = session.get(url=homeurl, headers=headers) homesoup = BeautifulSoup(homeresponse.text, &apos;html.parser&apos;) xsrfinput = homesoup.find(&apos;input&apos;, {&apos;name&apos;: &apos;_xsrf&apos;}) xsrf_token = xsrfinput[&apos;value&apos;] print(&quot;è·å–åˆ°çš„xsrf_tokenä¸ºï¼š &quot;, xsrf_token) ########## è·å–éªŒè¯ç æ–‡ä»¶ randomtime = str(int(time.time() * 1000)) captchaurl = &apos;https://www.zhihu.com/captcha.gif?r=&apos;+\\ randomtime+&quot;&amp;type=login&quot; captcharesponse = session.get(url=captchaurl, headers=headers) with open(&apos;checkcode.gif&apos;, &apos;wb&apos;) as f: f.write(captcharesponse.content) f.close() # os.startfile(&apos;checkcode.gif&apos;) captcha = input(&apos;è¯·è¾“å…¥éªŒè¯ç ï¼š&apos;) print(captcha) ########### å¼€å§‹ç™»é™† headers[&apos;X-Xsrftoken&apos;] = xsrf_token headers[&apos;X-Requested-With&apos;] = &apos;XMLHttpRequest&apos; loginurl = &apos;https://www.zhihu.com/login/email&apos; postdata = { &apos;_xsrf&apos;: xsrf_token, &apos;email&apos;: &apos;é‚®ç®±@qq.com&apos;, &apos;password&apos;: &apos;å¯†ç &apos; } loginresponse = session.post(url=loginurl, headers=headers, data=postdata) print(&apos;æœåŠ¡å™¨ç«¯è¿”å›å“åº”ç ï¼š&apos;, loginresponse.status_code) print(loginresponse.json()) # éªŒè¯ç é—®é¢˜è¾“å…¥å¯¼è‡´å¤±è´¥: çŒœæµ‹è¿™ä¸ªé—®é¢˜æ˜¯ç”±äºsessionä¸­å¯¹äºéªŒè¯ç çš„è¯·æ±‚è¿‡æœŸå¯¼è‡´ if loginresponse.json()[&apos;r&apos;]==1: # é‡æ–°è¾“å…¥éªŒè¯ç ï¼Œå†æ¬¡è¿è¡Œä»£ç åˆ™æ­£å¸¸ã€‚ä¹Ÿå°±æ˜¯è¯´å¯ä»¥å†ç¬¬ä¸€æ¬¡ä¸è¾“å…¥éªŒè¯ç ï¼Œæˆ–è€…è¾“å…¥ä¸€ä¸ªé”™è¯¯çš„éªŒè¯ç ï¼Œåªæœ‰ç¬¬äºŒæ¬¡æ‰æ˜¯æœ‰æ•ˆçš„ randomtime = str(int(time.time() * 1000)) captchaurl = &apos;https://www.zhihu.com/captcha.gif?r=&apos; + \\ randomtime + &quot;&amp;type=login&quot; captcharesponse = session.get(url=captchaurl, headers=headers) with open(&apos;checkcode.gif&apos;, &apos;wb&apos;) as f: f.write(captcharesponse.content) f.close() os.startfile(&apos;checkcode.gif&apos;) captcha = input(&apos;è¯·è¾“å…¥éªŒè¯ç ï¼š&apos;) print(captcha) postdata[&apos;captcha&apos;] = captcha loginresponse = session.post(url=loginurl, headers=headers, data=postdata) print(&apos;æœåŠ¡å™¨ç«¯è¿”å›å“åº”ç ï¼š&apos;, loginresponse.status_code) print(loginresponse.json()) ##########################ä¿å­˜ç™»é™†åçš„cookieä¿¡æ¯ # session.cookies.save() ############################åˆ¤æ–­æ˜¯å¦ç™»å½•æˆåŠŸ profileurl = &apos;https://www.zhihu.com/settings/profile&apos; profileresponse = session.get(url=profileurl, headers=headers) print(&apos;profileé¡µé¢å“åº”ç ï¼š&apos;, profileresponse.status_code) profilesoup = BeautifulSoup(profileresponse.text, &apos;html.parser&apos;) div = profilesoup.find(&apos;div&apos;, {&apos;id&apos;: &apos;rename-section&apos;}) print(div) å¥½äº†å…³äºçˆ¬è™«çš„ç¬¬ä¸€æ­¥ï¼Œè·å–æºç è¿™ä¸€èŠ‚è®²äº†å¾ˆå¤šï¼Œå…¶å®å¤§å¤šæ•°ç½‘ç«™åŠ ä¸ŠUser-Agentå’Œä»£ç†IPå°±å¯ä»¥æ­£å¸¸çˆ¬å–ã€‚ä¸‹ä¸€èŠ‚ä¼šè®²è®²å¦‚ä½•åˆ©ç”¨xpathæ¥è§£æç½‘é¡µï¼Œè·å–æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚ å–œæ¬¢çˆ¬è™«ã€æ•°æ®çš„å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼Œå¤šå¤šäº¤æµã€‚","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"Pythonå…¥é—¨","slug":"Pythonå…¥é—¨","permalink":"https://zhangslob.github.io/tags/Pythonå…¥é—¨/"}]},{"title":"çŸ¥ä¹ä¸Šå¦¹å­éƒ½çˆ±å–å•¥åï¼Ÿ","date":"2017-05-20T09:45:48.000Z","path":"2017/05/20/çŸ¥ä¹ä¸Šå¦¹å­éƒ½çˆ±å–å•¥åï¼Ÿ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åäºŒç¯‡åŸåˆ›æ–‡ç«  é—²æ¥æ— äº‹ä¸ŠçŸ¥ä¹ï¼Œçœ‹åˆ°å¥½å¤šå¦¹å­ï¼Œäºæ˜¯æŠ“å–ä¸€æ³¢ã€‚ ç›®æ ‡ç½‘å€ï¼šè½®å­å“¥å¸¦æˆ‘é€›çŸ¥ä¹ - æ”¶è—å¤¹ - çŸ¥ä¹ ç›®æ ‡ï¼šæŠ“å–å¦¹å­çš„ID 1ã€æŠ“å–è¿™æ¬¡å¹¶æ²¡æœ‰ä½¿ç”¨Pythonåšçˆ¬è™«ï¼Œä½¿ç”¨å·¥å…·æ¥ï¼Œé€Ÿåº¦æ›´å¿«ã€‚é€ æ•° - æ–°ä¸€ä»£æ™ºèƒ½äº‘çˆ¬è™« ä¸åˆ°ååˆ†é’Ÿå°±å®Œæˆäº†ï¼Œé—å¤±äº†éƒ¨åˆ†æ•°æ®ï¼Œä½†æ˜¯æ— æ‰€è°“å•¦ã€‚ä¿å­˜ä¸‹æ¥ï¼Œåˆ†æåˆ†æã€‚ 2ã€åˆ†æ ä½¿ç”¨pandasæ“ä½œæ–‡ä»¶ import pandas as pd fp = pd.read_excel(&apos;D:\\Backup\\æ¡Œé¢\\lunzige.xlsx&apos;) fp name = fp[&apos;name&apos;].tolist() li1 = list(set(name)) li1 [&apos;é˜¿è•¾&apos;, &apos;æ¨é¢&apos;, &apos;é™ˆ10&apos;, &apos;æ¨é¡ºé¡º&apos;, &apos;éœ§æ©¤&apos;, &apos;çœŸé¡ºé¡ºçœŸ&apos;, &apos;è°¢æ¤¿æ˜&apos;, &apos;åˆ€åˆ€&apos;, &apos;æ°´æªå¤§å¸&apos;, &apos;å€¾æµ…&apos;, &apos;Listening&apos;, &apos;å°ç«é¾™&apos;, &apos;åŒ…å­ç›&apos;, &apos;æ¨ç¬‹ç¬‹&apos;, &apos;èœ‰è£&apos;, &apos;åå…ƒ&apos;, &apos;é¡é¡ä¹‹éŸ³&apos;, &apos;Realæœºæ™ºå¼ &apos;, &apos;é™ˆæ¢“å°ç«¥é‹&apos;, &apos;èŠ±ç”²&apos;, &apos;çª—é‡Œçª—å¤–&apos;, &apos;åˆ˜æ¢“ä¹”&apos;, &apos;ç’‡ç’‡97&apos;, &apos;OliviaèŠé¦™å°å§å§&apos;, &apos;ç‰›å¥¶å°å¤ç›®&apos;, &apos;å‘¨ä¾å®&apos;, &apos;ä¸‡é˜¿å’¸&apos;, &apos;ä¸€è“‘çƒŸé›¨ä»»å¹³ç”Ÿ&apos;, &apos;æ¥éƒ½æ¥äº†&apos;, &apos;å°±åƒå‘¨ä¸€&apos;, &apos;Mcè›‹è›‹&apos;, &apos;ç§‰å‰‘ä¾¯&apos;, &apos;æå¤§æ¢¦Lee&apos;, &apos;Dissé”é›¯&apos;, &apos;é›¨éŸ³çœç™½&apos;, &apos;åŠä»™å¹ºå¹º&apos;, &apos;Natsukiæ˜¯åªè ¢å…”çº¸&apos;, &apos;å¤å†°è¹&apos;, &apos;guuweihai&apos;, &apos;é˜¿èˆ&apos;, &apos;è‚–æŸšå¦®&apos;, &apos;å¢¨è„±è¦å¼€&apos;, &apos;èŠ·ç&apos;, &apos;èˆ’è¥¿å©·&apos;, &apos;Childe0Q&apos;, &apos;è¢«å‹æ‰çš„æµ·èº&apos;, &apos;snow arc&apos;, &apos;ç°ç°ç°ç°ç°plus&apos;, &apos;å°å…”å­è²å‘€&apos;, &apos;å£«å¤šå•¤æ¢¨ç¾Šå’©å’©&apos;, &apos;æå°å¯å¯&apos;, &apos;è°æ¥æ‹½æˆ‘çš„å°¾å·´&apos;, &apos;é£é¸½ä¹‹èˆ&apos;, &apos;å°ç¾&apos;, &apos;æ¨±é›ªç»«sama&apos;, &apos;zshiyao&apos;, &apos;ç‹æ¼ é‡Œ&apos;, &apos;Slivan&apos;, &apos;å–µå°è™¾&apos;, &apos;SUSANè‹&apos;, &apos;ä¸Šå®˜å…°é¢œ&apos;, &apos;è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·&apos;, &apos;çœ‹æœ±æˆç¢§çº·æ€å›&apos;, &apos;æƒ…ç»ª&apos;, &apos;æˆ‘ç³»å°å¿Œå»‰&apos;, &apos;ä¸€åªå…”&apos;, &apos;June&apos;, &apos;æˆ‘å°±æƒ³æ”¹åè€Œå·²&apos;, &apos;æ¸©æŸ”çš„å¤§çŒ«Leo&apos;, &apos;çŒ«èŠ™ç³&apos;, &apos;ä»¥å¤ª&apos;, &apos;åšä¸½é­”ç†æ²™&apos;, &apos;æ´›ä¸½å¡”&apos;, &apos;ç¾½å°å›¢&apos;, &apos;å¨„è‰¯&apos;, &apos;Rosi&apos;, &apos;å¶ä»¥åŒ—&apos;, &apos;åƒä¸èƒ–çš„å°çŒ«&apos;, &apos;Lina&apos;, &apos;ingrid&apos;, &apos;itttttx&apos;, &apos;èƒ¡æ¨&apos;, &apos;å­™é˜¿ç«¥&apos;, &apos;æ—ç¾ç&apos;, &apos;èµ«è˜¿Taiga&apos;, &apos;å®«æ›¼æ›¼&apos;, &apos;Yoonyicc&apos;, &apos;ZW711&apos;, &apos;ç¬™ç®«&apos;, &apos;KIKI.Liu&apos;, &apos;å¦ä¸€åªè¢œå­&apos;, &apos;è’é‡å¤§å«–å®¢&apos;, &apos;å°‘å¥³è¯—&apos;, &apos;èŠ¸è±†è±†è±†è±†&apos;, &apos;ç’ç’å™œ&apos;, &apos;æ£¹æ­Œ&apos;, &apos;æ¢¦é‡Œæœ‰åªç‹¬è§’å…½&apos;, &apos;Ooæ¾„å­oO&apos;, &apos;é›·æ¢…è‹”ä¸&apos;, &apos;CherryZhao&apos;, &apos;æè¬ä¸€&apos;, &apos;ç´è„‚&apos;, &apos;é¹¿æ–‘æ¯”&apos;, &apos;Chriså§¬-äº‘çƒŸ&apos;, &apos;hyoram&apos;, &apos;è”—è”—è”—&apos;, &apos;æŸšå­Ruby&apos;, &apos;Sheena&apos;, &apos;å­Ÿå¾·å°”&apos;, &apos;kakaå°å¸ˆå¦¹&apos;, &apos;æ¡¢è§†æ˜&apos;, &apos;å¤§è±†è‹—&apos;, &apos;å°‘å¥³å¼€è†›æ‰‹&apos;, &apos;é™ˆè¯—èŒ—&apos;] é‚£ä¹ˆï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å¯¹åå­—è¿›è¡Œåˆ†è¯äº†ï¼Œjiebaåˆ†è¯ï¼Œä½ å€¼å¾—æ‹¥æœ‰ã€‚fxsjy/jieba li2 = &apos;&apos;.join(li1) li2 &apos;é˜¿è•¾æ¨é¢é™ˆ10æ¨é¡ºé¡ºéœ§æ©¤çœŸé¡ºé¡ºçœŸè°¢æ¤¿æ˜åˆ€åˆ€æ°´æªå¤§å¸å€¾æµ…Listeningå°ç«é¾™åŒ…å­ç›æ¨ç¬‹ç¬‹èœ‰è£åå…ƒé¡é¡ä¹‹éŸ³Realæœºæ™ºå¼ é™ˆæ¢“å°ç«¥é‹èŠ±ç”²çª—é‡Œçª—å¤–åˆ˜æ¢“ä¹”ç’‡ç’‡97OliviaèŠé¦™å°å§å§ç‰›å¥¶å°å¤ç›®å‘¨ä¾å®ä¸‡é˜¿å’¸ä¸€è“‘çƒŸé›¨ä»»å¹³ç”Ÿæ¥éƒ½æ¥äº†å°±åƒå‘¨ä¸€Mcè›‹è›‹ç§‰å‰‘ä¾¯æå¤§æ¢¦LeeDissé”é›¯é›¨éŸ³çœç™½åŠä»™å¹ºå¹ºNatsukiæ˜¯åªè ¢å…”çº¸å¤å†°è¹guuweihaié˜¿èˆè‚–æŸšå¦®å¢¨è„±è¦å¼€èŠ·çèˆ’è¥¿å©·Childe0Qè¢«å‹æ‰çš„æµ·èºsnow arcç°ç°ç°ç°ç°pluså°å…”å­è²å‘€å£«å¤šå•¤æ¢¨ç¾Šå’©å’©æå°å¯å¯è°æ¥æ‹½æˆ‘çš„å°¾å·´é£é¸½ä¹‹èˆå°ç¾æ¨±é›ªç»«samazshiyaoç‹æ¼ é‡ŒSlivanå–µå°è™¾SUSANè‹ä¸Šå®˜å…°é¢œè¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·çœ‹æœ±æˆç¢§çº·æ€å›æƒ…ç»ªæˆ‘ç³»å°å¿Œå»‰ä¸€åªå…”Juneæˆ‘å°±æƒ³æ”¹åè€Œå·²æ¸©æŸ”çš„å¤§çŒ«LeoçŒ«èŠ™ç³ä»¥å¤ªåšä¸½é­”ç†æ²™æ´›ä¸½å¡”ç¾½å°å›¢å¨„è‰¯Rosiå¶ä»¥åŒ—åƒä¸èƒ–çš„å°çŒ«Linaingriditttttxèƒ¡æ¨å­™é˜¿ç«¥æ—ç¾çèµ«è˜¿Taigaå®«æ›¼æ›¼YoonyiccZW711ç¬™ç®«KIKI.Liuå¦ä¸€åªè¢œå­è’é‡å¤§å«–å®¢å°‘å¥³è¯—èŠ¸è±†è±†è±†è±†ç’ç’å™œæ£¹æ­Œæ¢¦é‡Œæœ‰åªç‹¬è§’å…½Ooæ¾„å­oOé›·æ¢…è‹”ä¸CherryZhaoæè¬ä¸€ç´è„‚é¹¿æ–‘æ¯”Chriså§¬-äº‘çƒŸhyoramè”—è”—è”—æŸšå­RubySheenaå­Ÿå¾·å°”kakaå°å¸ˆå¦¹æ¡¢è§†æ˜å¤§è±†è‹—å°‘å¥³å¼€è†›æ‰‹é™ˆè¯—èŒ—&apos; æœ‰ä½•æ„Ÿæƒ³ï¼Ÿï¼Ÿ ä¸‹ä¸€æ­¥å°±æ˜¯åˆ†è¯åˆ¶ä½œå›¾äº‘äº† import jieba seg_list = jieba.cut(li2) word = &quot;/&quot;.join(seg_list) print(&quot;Full Mode: &quot; + &quot;/ &quot;.join(seg_list)) Building prefix dict from the default dictionary ... Dumping model to file cache C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\jieba.cache Loading model cost 1.148 seconds. Prefix dict has been built succesfully. Full Mode: é˜¿è•¾/ æ¨/ é¢é™ˆ/ 10/ æ¨/ é¡ºé¡º/ éœ§/ æ©¤/ çœŸ/ é¡ºé¡º/ çœŸ/ è°¢æ¤¿æ˜/ åˆ€åˆ€/ æ°´æª/ å¤§å¸/ å€¾æµ…/ Listening/ å°/ ç«é¾™/ åŒ…å­/ ç›/ æ¨ç¬‹/ ç¬‹/ èœ‰è£/ åå…ƒ/ é¡é¡ä¹‹éŸ³/ Real/ æœºæ™º/ å¼ / é™ˆæ¢“/ å°/ ç«¥é‹/ èŠ±ç”²/ çª—é‡Œ/ çª—å¤–/ åˆ˜æ¢“ä¹”/ ç’‡/ ç’‡/ 97Olivia/ èŠé¦™/ å°å§å§/ ç‰›å¥¶/ å°å¤ç›®/ å‘¨ä¾å®/ ä¸‡/ é˜¿/ å’¸ä¸€/ è“‘/ çƒŸé›¨ä»»/ å¹³ç”Ÿ/ æ¥/ éƒ½/ æ¥/ äº†/ å°±/ åƒ/ å‘¨ä¸€/ Mc/ è›‹è›‹/ ç§‰å‰‘ä¾¯/ æå¤§æ¢¦/ LeeDiss/ é”é›¯é›¨/ éŸ³çœç™½/ åŠä»™/ å¹º/ å¹º/ Natsuki/ æ˜¯/ åª/ è ¢/ å…”çº¸/ å¤/ å†°è¹/ guuweihai/ é˜¿èˆ/ è‚–æŸšå¦®/ å¢¨è„±/ è¦/ å¼€èŠ·/ ç/ èˆ’è¥¿å©·/ Childe0Q/ è¢«/ å‹æ‰/ çš„/ æµ·èº/ snow/ / arc/ ç°ç°/ ç°ç°/ ç°/ plus/ å°å…”å­/ è²/ å‘€/ å£«å¤šå•¤æ¢¨/ ç¾Š/ å’©/ å’©/ æå°/ å¯å¯/ è°/ æ¥/ æ‹½/ æˆ‘/ çš„/ å°¾å·´/ é£é¸½/ ä¹‹èˆ/ å°ç¾/ æ¨±é›ª/ ç»«/ samazshiyao/ ç‹æ¼ / é‡Œ/ Slivan/ å–µ/ å°è™¾/ SUSAN/ è‹/ ä¸Šå®˜/ å…°é¢œ/ è¿™ä¸ª/ æ€æ‰‹/ ä¸/ å¤ªå†·/ çœ‹æœ±æˆç¢§/ çº·æ€å›/ æƒ…ç»ª/ æˆ‘ç³»/ å°å¿Œå»‰/ ä¸€åª/ å…”/ June/ æˆ‘/ å°±/ æƒ³/ æ”¹å/ è€Œå·²/ æ¸©æŸ”/ çš„/ å¤§çŒ«/ Leo/ çŒ«/ èŠ™ç³/ ä»¥å¤ª/ åšä¸½/ é­”ç†æ²™/ æ´›ä¸½å¡”/ ç¾½å°å›¢/ å¨„è‰¯/ Rosi/ å¶/ ä»¥åŒ—/ åƒä¸èƒ–/ çš„/ å°çŒ«/ Linaingriditttttx/ èƒ¡æ¨/ å­™é˜¿ç«¥/ æ—ç¾ç/ èµ«è˜¿/ Taiga/ å®«æ›¼æ›¼/ YoonyiccZW711/ ç¬™ç®«/ KIKI/ ./ Liu/ å¦ä¸€åª/ è¢œå­/ è’é‡/ å¤§/ å«–å®¢/ å°‘å¥³/ è¯—/ èŠ¸è±†/ è±†è±†/ è±†ç’ç’å™œ/ æ£¹/ æ­Œæ¢¦é‡Œ/ æœ‰/ åª/ ç‹¬è§’å…½/ Oo/ æ¾„å­/ oO/ é›·æ¢…/ è‹”ä¸/ CherryZhao/ æè¬/ ä¸€ç´è„‚/ é¹¿æ–‘/ æ¯”/ Chris/ å§¬/ -/ äº‘çƒŸ/ hyoram/ è”—è”—è”—/ æŸšå­/ RubySheena/ å­Ÿå¾·å°”/ kaka/ å°/ å¸ˆå¦¹/ æ¡¢è§†/ æ˜å¤§/ è±†è‹—/ å°‘å¥³/ å¼€è†›æ‰‹/ é™ˆè¯—/ èŒ— ä¸‹ä¸€æ­¥ç»˜åˆ¶å›¾äº‘ï¼Œç”¨jupyteré‡åˆ°äº†å¾ˆå¤šå‘ã€‚ã€‚ # -*- coding: utf-8 -*- import matplotlib.pyplot as plt from wordcloud import WordCloud,STOPWORDS,ImageColorGenerator # ç›´æ¥ä»æ–‡ä»¶è¯»å–æ•°æ® text = &apos;&apos;&apos;é˜¿è•¾/æ¨/é¢é™ˆ/10/æ¨/é¡ºé¡º/éœ§/æ©¤/çœŸ/é¡ºé¡º/çœŸ/è°¢æ¤¿æ˜/åˆ€åˆ€/æ°´æª/å¤§å¸/å€¾æµ…/Listening/å°/ç«é¾™/åŒ…å­/ç›/æ¨ç¬‹/ç¬‹/èœ‰è£/åå…ƒ/é¡é¡ä¹‹éŸ³/Real/æœºæ™º/å¼ /é™ˆæ¢“/å°/ç«¥é‹/èŠ±ç”²/çª—é‡Œ/çª—å¤–/åˆ˜æ¢“ä¹”/ç’‡/ç’‡/97Olivia/èŠé¦™/å°å§å§/ç‰›å¥¶/å°å¤ç›®/å‘¨ä¾å®/ä¸‡/é˜¿/å’¸ä¸€/è“‘/çƒŸé›¨ä»»/å¹³ç”Ÿ/æ¥/éƒ½/æ¥/äº†/å°±/åƒ/å‘¨ä¸€/Mc/è›‹è›‹/ç§‰å‰‘ä¾¯/æå¤§æ¢¦/LeeDiss/é”é›¯é›¨/éŸ³çœç™½/åŠä»™/å¹º/å¹º/Natsuki/æ˜¯/åª/è ¢/å…”çº¸/å¤/å†°è¹/guuweihai/é˜¿èˆ/è‚–æŸšå¦®/å¢¨è„±/è¦/å¼€èŠ·/ç/èˆ’è¥¿å©·/Childe0Q/è¢«/å‹æ‰/çš„/æµ·èº/snow/ /arc/ç°ç°/ç°ç°/ç°/plus/å°å…”å­/è²/å‘€/å£«å¤šå•¤æ¢¨/ç¾Š/å’©/å’©/æå°/å¯å¯/è°/æ¥/æ‹½/æˆ‘/çš„/å°¾å·´/é£é¸½/ä¹‹èˆ/å°ç¾/æ¨±é›ª/ç»«/samazshiyao/ç‹æ¼ /é‡Œ/Slivan/å–µ/å°è™¾/SUSAN/è‹/ä¸Šå®˜/å…°é¢œ/è¿™ä¸ª/æ€æ‰‹/ä¸/å¤ªå†·/çœ‹æœ±æˆç¢§/çº·æ€å›/æƒ…ç»ª/æˆ‘ç³»/å°å¿Œå»‰/ä¸€åª/å…”/June/æˆ‘/å°±/æƒ³/æ”¹å/è€Œå·²/æ¸©æŸ”/çš„/å¤§çŒ«/Leo/çŒ«/èŠ™ç³/ä»¥å¤ª/åšä¸½/é­”ç†æ²™/æ´›ä¸½å¡”/ç¾½å°å›¢/å¨„è‰¯/Rosi/å¶/ä»¥åŒ—/åƒä¸èƒ–/çš„/å°çŒ«/Linaingriditttttx/èƒ¡æ¨/å­™é˜¿ç«¥/æ—ç¾ç/èµ«è˜¿/Taiga/å®«æ›¼æ›¼/YoonyiccZW711/ç¬™ç®«/KIKI/./Liu/å¦ä¸€åª/è¢œå­/è’é‡/å¤§/å«–å®¢/å°‘å¥³/è¯—/èŠ¸è±†/è±†è±†/è±†ç’ç’å™œ/æ£¹/æ­Œæ¢¦é‡Œ/æœ‰/åª/ç‹¬è§’å…½/Oo/æ¾„å­/oO/é›·æ¢…/è‹”ä¸/CherryZhao/æè¬/ä¸€ç´è„‚/é¹¿æ–‘/æ¯”/Chris/å§¬/-/äº‘çƒŸ/hyoram/è”—è”—è”—/æŸšå­/RubySheena/å­Ÿå¾·å°”/kaka/å°/å¸ˆå¦¹/æ¡¢è§†/æ˜å¤§/è±†è‹—/å°‘å¥³/å¼€è†›æ‰‹/é™ˆè¯—/èŒ—&apos;&apos;&apos; backgroud_Image = plt.imread(&apos;girl.jpg&apos;) wc = WordCloud( background_color = &apos;white&apos;, # è®¾ç½®èƒŒæ™¯é¢œè‰² mask = backgroud_Image, # è®¾ç½®èƒŒæ™¯å›¾ç‰‡ max_words = 2000, # è®¾ç½®æœ€å¤§ç°å®çš„å­—æ•° stopwords = STOPWORDS, # è®¾ç½®åœç”¨è¯ font_path = &apos;C:/Users/Windows/fonts/msyh.ttf&apos;,# è®¾ç½®å­—ä½“æ ¼å¼ï¼Œå¦‚ä¸è®¾ç½®æ˜¾ç¤ºä¸äº†ä¸­æ–‡ max_font_size = 300, # è®¾ç½®å­—ä½“æœ€å¤§å€¼ random_state = 50, # è®¾ç½®æœ‰å¤šå°‘ç§éšæœºç”ŸæˆçŠ¶æ€ï¼Œå³æœ‰å¤šå°‘ç§é…è‰²æ–¹æ¡ˆ ) wc.generate(text) image_colors = ImageColorGenerator(backgroud_Image) #wc.recolor(color_func = image_colors) plt.imshow(wc) plt.axis(&apos;off&apos;) plt.show() æ¥çœ‹çœ‹å›¾äº‘å§ å…¶å®è¿™ä¸ªå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼ŒçŸ¥è¯†è‡ªå·±æ— èŠæ—¶ç©ç©çš„ã€‚ä¸‹é¢æ‰æ˜¯æˆ‘æƒ³è¦çš„ 0 é™ˆè¯—èŒ— https://www.zhihu.com/people/chen-shi-ming-69 1 æå¤§æ¢¦Lee https://www.zhihu.com/people/li-da-meng-58-44 2 snow arc https://www.zhihu.com/people/xiaoxueli 3 å¤å†°è¹ https://www.zhihu.com/people/xia-bingying 4 Sheena https://www.zhihu.com/people/zhang-chu-yun-84 5 å–µå°è™¾ https://www.zhihu.com/people/maoxiaoxia233 6 æå¤§æ¢¦Lee https://www.zhihu.com/people/li-da-meng-58-44 7 æå¤§æ¢¦Lee https://www.zhihu.com/people/li-da-meng-58-44 8 ä»¥å¤ª https://www.zhihu.com/people/elapse08 9 zshiyao https://www.zhihu.com/people/duo-rou-wan-zi-89 10 SUSANè‹ https://www.zhihu.com/people/susansu-66 11 æ¸©æŸ”çš„å¤§çŒ«Leo https://www.zhihu.com/people/li-yue-90-56 12 ç´è„‚ https://www.zhihu.com/people/qin-zhi-49 13 ç‹æ¼ é‡Œ https://www.zhihu.com/people/wang-mo-li-66 14 èŠ±ç”² https://www.zhihu.com/people/hua-jia-1-71 15 é›·æ¢…è‹”ä¸ https://www.zhihu.com/people/lei-mei-tai-si-15 16 OliviaèŠé¦™å°å§å§ https://www.zhihu.com/people/olivia-60-10 17 èŠ·ç https://www.zhihu.com/people/zhi-luo-90-6 18 Mcè›‹è›‹ https://www.zhihu.com/people/lee2egg 19 å°‘å¥³è¯— https://www.zhihu.com/people/shao-nu-shi-75 20 ingrid https://www.zhihu.com/people/da-da-yao-guai 21 åšä¸½é­”ç†æ²™ https://www.zhihu.com/people/nan-xiao-niao-94-5 22 èµ«è˜¿Taiga https://www.zhihu.com/people/he-luo-taiga 23 kakaå°å¸ˆå¦¹ https://www.zhihu.com/people/kakasis 24 èŠ¸è±†è±†è±†è±† https://www.zhihu.com/people/yun-dou-dou-dou-dou 25 æ—ç¾ç https://www.zhihu.com/people/lin-mei-zhen 26 å–µå°è™¾ https://www.zhihu.com/people/maoxiaoxia233 27 è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†· https://www.zhihu.com/people/wei-jun-jie-9 28 å–µå°è™¾ https://www.zhihu.com/people/maoxiaoxia233 29 Rosi https://www.zhihu.com/people/rosi-91 ... ... ... 111 æ´›ä¸½å¡” https://www.zhihu.com/people/hua-hua-gu-niang-5 112 æ´›ä¸½å¡” https://www.zhihu.com/people/hua-hua-gu-niang-5 113 æ´›ä¸½å¡” https://www.zhihu.com/people/hua-hua-gu-niang-5 114 æ´›ä¸½å¡” https://www.zhihu.com/people/hua-hua-gu-niang-5 115 Dissé”é›¯ https://www.zhihu.com/people/DSRiven 116 æ°´æªå¤§å¸ https://www.zhihu.com/people/shuiqiangge 117 æ¨±é›ªç»«sama https://www.zhihu.com/people/lin-xuan-ting-1 118 æå°å¯å¯ https://www.zhihu.com/people/li-gao-xing-2 119 å£«å¤šå•¤æ¢¨ç¾Šå’©å’© https://www.zhihu.com/people/shi-duo-pi-li-yan... 120 æè¬ä¸€ https://www.zhihu.com/people/moire 121 ä¸‡é˜¿å’¸ https://www.zhihu.com/people/wan-a-xian-58 122 ç¬™ç®« https://www.zhihu.com/people/sheng-xiao-36 123 è°¢æ¤¿æ˜ https://www.zhihu.com/people/xie-chun-ming-16 124 å­™é˜¿ç«¥ https://www.zhihu.com/people/sun-a-tong 125 å®«æ›¼æ›¼ https://www.zhihu.com/people/gong-nuo-6 126 è’é‡å¤§å«–å®¢ https://www.zhihu.com/people/ji-da-fa-37 127 æˆ‘å°±æƒ³æ”¹åè€Œå·² https://www.zhihu.com/people/wowjessica 128 å°±åƒå‘¨ä¸€ https://www.zhihu.com/people/yin-qing-chu-kai 129 èƒ¡æ¨ https://www.zhihu.com/people/hu-yang-49-22 130 æ¨ç¬‹ç¬‹ https://www.zhihu.com/people/yang-sun-sun-98 131 èœ‰è£ https://www.zhihu.com/people/yuan-xia-66 132 ç¾½å°å›¢ https://www.zhihu.com/people/xiao-yu-bao-er 133 æ¨ç¬‹ç¬‹ https://www.zhihu.com/people/yang-sun-sun-98 134 Lina https://www.zhihu.com/people/li-nuo-84-28 135 å¦ä¸€åªè¢œå­ https://www.zhihu.com/people/151231 136 åˆ˜æ¢“ä¹” https://www.zhihu.com/people/liu-zi-qiao-42 137 guuweihai https://www.zhihu.com/people/guuweihai 138 é™ˆ10 https://www.zhihu.com/people/chen-10-80 139 ZW711 https://www.zhihu.com/people/zw711 140 çœ‹æœ±æˆç¢§çº·æ€å› https://www.zhihu.com/people/kan-zhu-cheng-bi-... ä¸‹å‘¨äºŒæ™šä¸Š8ç‚¹ï¼Œæˆ‘ä¼šåœ¨è¶£ç›´æ’­èŠä¸€èŠPythonçˆ¬è™«ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ä½ æ¥å‚åŠ ã€‚ è¶£ç›´æ’­ - çŸ¥è¯†ç›´æ’­å¹³å°","tags":[{"name":"çŸ¥ä¹","slug":"çŸ¥ä¹","permalink":"https://zhangslob.github.io/tags/çŸ¥ä¹/"},{"name":"å¦¹å­","slug":"å¦¹å­","permalink":"https://zhangslob.github.io/tags/å¦¹å­/"}]},{"title":"Leetcode_4.Median of Two Sorted Arrays","date":"2017-05-19T15:07:32.245Z","path":"2017/05/19/Leetcode-4-Median-of-Two-Sorted-Arrays/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åä¸€ç¯‡åŸåˆ›æ–‡ç«  å‚è€ƒMedian of Two Sorted Arrays 1ã€é¢˜ç›®There are two sorted arrays nums1 and nums2 of size m and n respectively. Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)). Example 1: nums1 = [1, 3] nums2 = [2] The median is 2.0 Example 2: nums1 = [1, 2] nums2 = [3, 4] The median is (2 + 3)/2 = 2.5 2ã€æ€è·¯è›‹ç–¼çš„è¯´ï¼Œæˆ‘æœ‰çœ‹ä¸æ‡‚é¢˜ç›®äº†ï¼Œå°¤å…¶æ˜¯O(log (m+n))ï¼Œå•¥ç©æ„ã€‚æ²¡åŠæ³•ï¼Œå»ç½‘ä¸Šæœç´¢ï¼Œçœ‹çœ‹å‰è¾ˆä»¬çš„æƒ³æ³•ã€‚ ç¿»è¯‘å¦‚ä¸‹ï¼š ç»™ä½ ä¸¤ä¸ªæ’åºæ•°ç»„ï¼Œå®¹é‡ä¸ºmçš„æ•°ç»„Aï¼Œå®¹é‡ä¸ºnçš„æ•°ç»„Bã€‚æ±‚å‡ºä¸¤ä¸ªæ•°ç»„çš„ä¸­ä½æ•°ï¼ˆå•¥ç©æ„ï¼Ÿï¼‰ï¼Œç¡¬æ€§è¦æ±‚æ—¶é—´å¤æ‚åº¦O(log (m+n)). 1ï¼šå¤ªæ±—é¢œäº†ï¼Œmedianåˆ°åº•æ˜¯ä¸ªå•¥ï¼ŒæŸ¥ä¸€ä¸‹ï¼š ä¸­ä½æ•°æ˜¯åœ¨ä¸€ç»„æ•°æ®ä¸­å±…äºä¸­é—´çš„æ•°(ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼šè¿™ç»„æ•°æ®ä¹‹å‰å·²ç»ç»è¿‡å‡åºæ’åˆ—ï¼ï¼ï¼)ï¼Œå³åœ¨è¿™ç»„æ•°æ®ä¸­ï¼Œæœ‰ä¸€åŠçš„æ•°æ®æ¯”å®ƒå¤§ï¼Œæœ‰ä¸€åŠçš„æ•°æ®æ¯”å®ƒå°ã€‚å¦‚æœè¿™ç»„æ•°æ®åŒ…å«å¶æ•°ä¸ªæ•°å­—ï¼Œä¸­å€¼æ˜¯ä½äºä¸­é—´çš„ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚ 2ï¼šå¥½å§ï¼Œä¸­ä½æ•°æ˜¯è¿™ä¹ˆä¸ªç©æ„ï¼Œé‚£ä¹ˆç†è®ºä¸Šé¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆå°†ä¸¤ä¸ªæ•°ç»„åˆä¸ºä¸€ï¼Œå†æ±‚è¿™ä¸ªæ–°åˆå¹¶çš„æ•°ç»„çš„ä¸­ä½æ•°ã€‚ 3ï¼šä½†æ˜¯ï¼Œå·²ç»é™å®šæ­»äº†æ—¶é—´å¤æ‚åº¦ä¸ºlogï¼ˆm+nï¼‰ï¼ŒåŸæ¥LeetCodeçš„é¢˜ç›®ä¹Ÿæ€è·¯ä¸å¼€æ”¾å˜›ã€‚ 4ï¼šé—®é¢˜å¯ä»¥è½¬åŒ–æˆä¸¤ä¸ªæœ‰åºåºåˆ—æ‰¾ç¬¬numå¤§çš„æ•°ï¼Œç”±äºæ—¶é—´å¤æ‚åº¦å·²ç»é™å®šæ­»äº†ï¼Œåªèƒ½é‡‡ç”¨ç±»ä¼¼äºŒåˆ†çš„æ€æƒ³ï¼Œæ¯ä¸ªæ­¥éª¤å»æ‰ä¸€åŠæ•°æ®å…ƒç´ ã€‚ å‡ºç°äº†ä¸€ä¸ªè¯è¯­ï¼šæ—¶é—´å¤æ‚åº¦ï¼Œè¿™æ˜¯ä¸ªå•¥ï¼Ÿ å®Œå…¨ä¸æ‡‚ï¼Œæ¢ä¸ªæ€è·¯æ¥å§ï¼Œä¸å»çœ‹é¢˜ç›®äº†ï¼Œç›´æ¥çœ‹ç¬¬å››ç‚¹ï¼š é—®é¢˜å¯ä»¥è½¬åŒ–æˆä¸¤ä¸ªæœ‰åºåºåˆ—æ‰¾ç¬¬numå¤§çš„æ•°ï¼Œç”±äºæ—¶é—´å¤æ‚åº¦å·²ç»é™å®šæ­»äº†ï¼Œåªèƒ½é‡‡ç”¨ç±»ä¼¼äºŒåˆ†çš„æ€æƒ³ï¼Œæ¯ä¸ªæ­¥éª¤å»æ‰ä¸€åŠæ•°æ®å…ƒç´ ã€‚ äºŒåˆ†ï¼Œåˆæ˜¯äºŒåˆ†ï¼Œèµ¶ç´§å»å¤ä¹ ä¸‹ã€‚ äºŒåˆ†æŸ¥æ‰¾å°±æ˜¯å°†æŸ¥æ‰¾çš„é”®å’Œå­æ•°ç»„çš„ä¸­é—´é”®ä½œæ¯”è¾ƒï¼Œå¦‚æœè¢«æŸ¥æ‰¾çš„é”®å°äºä¸­é—´é”®ï¼Œå°±åœ¨å·¦å­æ•°ç»„ç»§ç»­æŸ¥æ‰¾ï¼›å¦‚æœå¤§äºä¸­é—´é”®ï¼Œå°±åœ¨å³å­æ•°ç»„ä¸­æŸ¥æ‰¾ï¼Œå¦åˆ™ä¸­é—´é”®å°±æ˜¯è¦æ‰¾çš„å…ƒç´ ã€‚ è¿™ä¸ªå¥½åƒè¿˜å¯ä»¥çœ‹å¾—æ‡‚ï¼Œå˜¿å˜¿ã€‚æˆ‘è¿˜å‘ç°äº†Pythonæºä»£ç ï¼ˆç™¾åº¦è¿™æ ·è¯´çš„ï¼‰ï¼š def bin_search(data_list, val): low = 0 # æœ€å°æ•°ä¸‹æ ‡ high = len(data_list) - 1 # æœ€å¤§æ•°ä¸‹æ ‡ while low &lt;= high: mid = (low + high) // 2 # ä¸­é—´æ•°ä¸‹æ ‡ if data_list[mid] == val: # å¦‚æœä¸­é—´æ•°ä¸‹æ ‡ç­‰äºval, è¿”å› return mid elif data_list[mid] &gt; val: # å¦‚æœvalåœ¨ä¸­é—´æ•°å·¦è¾¹, ç§»åŠ¨highä¸‹æ ‡ high = mid - 1 else: # å¦‚æœvalåœ¨ä¸­é—´æ•°å³è¾¹, ç§»åŠ¨lowä¸‹æ ‡ low = mid + 1 return # valä¸å­˜åœ¨, è¿”å›None ret = bin_search(list(range(1, 10)), 3) print(ret) å¤§æ¦‚æ˜ç™½ä»–çš„æ„æ€äº†ã€‚ 3ã€è§£æ³•å¾ˆå¤šè§£æ³•éƒ½æåˆ°ï¼šå¦‚æœæˆ‘ä»¬å¯ä»¥åœ¨ä¸¤ä¸ªæ•°åˆ—ä¸­æ±‚å‡ºç¬¬Kå°çš„å…ƒç´ ï¼Œä¾¿å¯ä»¥è§£å†³è¯¥é—®é¢˜ è§£é¢˜æ€è·¯ï¼šè¿™é“é¢˜è¦æ±‚ä¸¤ä¸ªå·²ç»æ’å¥½åºçš„æ•°åˆ—çš„ä¸­ä½æ•°ã€‚ä¸­ä½æ•°çš„å®šä¹‰ï¼šå¦‚æœæ•°åˆ—æœ‰å¶æ•°ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°ä¸ºä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ï¼›å¦‚æœæ•°åˆ—æœ‰å¥‡æ•°ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°ä¸ºä¸­é—´çš„é‚£ä¸ªæ•°ã€‚æ¯”å¦‚{1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5}çš„ä¸­ä½æ•°ä¸º3ã€‚{1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6}çš„ä¸­ä½æ•°ä¸ºï¼ˆ3+4ï¼‰/ 2 = 3.5ã€‚é‚£ä¹ˆè¿™é¢˜æœ€ç›´æ¥çš„æ€è·¯å°±æ˜¯å°†ä¸¤ä¸ªæ•°åˆ—åˆå¹¶åœ¨ä¸€èµ·ï¼Œç„¶åæ’åºï¼Œç„¶åæ‰¾åˆ°ä¸­ä½æ•°å°±è¡Œäº†ã€‚å¯æ˜¯è¿™æ ·æœ€å¿«ä¹Ÿè¦O((m+n)log(m+n))çš„æ—¶é—´å¤æ‚åº¦ï¼Œè€Œé¢˜ç›®è¦æ±‚O(log(m+n))çš„æ—¶é—´å¤æ‚åº¦ã€‚è¿™é“é¢˜å…¶å®è€ƒå¯Ÿçš„æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼Œæ˜¯ã€Šç®—æ³•å¯¼è®ºã€‹çš„ä¸€é“è¯¾åä¹ é¢˜ï¼Œéš¾åº¦è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ã€‚ é¦–å…ˆæˆ‘ä»¬æ¥çœ‹å¦‚ä½•æ‰¾åˆ°ä¸¤ä¸ªæ•°åˆ—çš„ç¬¬kå°ä¸ªæ•°ï¼Œå³ç¨‹åºä¸­getKth(A, B , k)å‡½æ•°çš„å®ç°ã€‚ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜è¿™ä¸ªé—®é¢˜ï¼šA = {1ï¼Œ3ï¼Œ5ï¼Œ7}ï¼›B = {2ï¼Œ4ï¼Œ6ï¼Œ8ï¼Œ9ï¼Œ10}ï¼›å¦‚æœè¦æ±‚ç¬¬7ä¸ªå°çš„æ•°ï¼ŒAæ•°åˆ—çš„å…ƒç´ ä¸ªæ•°ä¸º4ï¼ŒBæ•°åˆ—çš„å…ƒç´ ä¸ªæ•°ä¸º6ï¼›k/2 = 7/2 = 3ï¼Œè€ŒAä¸­çš„ç¬¬3ä¸ªæ•°A[2]=5ï¼›Bä¸­çš„ç¬¬3ä¸ªæ•°B[2]=6ï¼›è€ŒA[2]&lt;B[2]ï¼›åˆ™A[0]ï¼ŒA[1]ï¼ŒA[2]ä¸­å¿…ç„¶ä¸å¯èƒ½æœ‰ç¬¬7ä¸ªå°çš„æ•°ã€‚å› ä¸ºA[2]&lt;B[2]ï¼Œæ‰€ä»¥æ¯”A[2]å°çš„æ•°æœ€å¤šå¯èƒ½ä¸ºA[0], A[1], B[0], B[1]è¿™å››ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯è¯´A[2]æœ€å¤šå¯èƒ½æ˜¯ç¬¬5ä¸ªå¤§çš„æ•°ï¼Œç”±äºæˆ‘ä»¬è¦æ±‚çš„æ˜¯getKth(A, B, 7)ï¼›ç°åœ¨å°±å˜æˆäº†æ±‚getKth(Aâ€™, B, 4)ï¼›å³Aâ€™ = {7}ï¼›Bä¸å˜ï¼Œæ±‚è¿™ä¸¤ä¸ªæ•°åˆ—çš„ç¬¬4ä¸ªå°çš„æ•°ï¼Œå› ä¸ºA[0]ï¼ŒA[1]ï¼ŒA[2]ä¸­æ²¡æœ‰è§£ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥åˆ æ‰å®ƒä»¬å°±å¯ä»¥äº†ã€‚è¿™ä¸ªå¯ä»¥ä½¿ç”¨é€’å½’æ¥å®ç°ã€‚ class Solution: # @return a float # @line20 must multiply 0.5 for return a float else it will return an int def getKth(self, A, B, k): lenA = len(A); lenB = len(B) if lenA &gt; lenB: return self.getKth(B, A, k) if lenA == 0: return B[k - 1] if k == 1: return min(A[0], B[0]) pa = min(k/2, lenA); pb = k - pa if A[pa - 1] &lt;= B[pb - 1]: return self.getKth(A[pa:], B, pb) else: return self.getKth(A, B[pb:], pa) def findMedianSortedArrays(self, A, B): lenA = len(A); lenB = len(B) if (lenA + lenB) % 2 == 1: return self.getKth(A, B, (lenA + lenB)/2 + 1) else: return (self.getKth(A, B, (lenA + lenB)/2) + self.getKth(A, B, (lenA + lenB)/2 + 1)) * 0.5 åœ¨æˆ‘æäº¤äº†ä»£ç ä¹‹åï¼Œå‘ç°è¶…è¿‡50.24 % æˆ‘æ‰¾å‡ºæœ€å¿«çš„è§£æ³•ï¼Œæ¥å­¦ä¹ ä¸‹ï¼š class Solution(object): def findMedianSortedArrays(self, a, b): &quot;&quot;&quot; :type nums1: List[int] :type nums2: List[int] :rtype: float &quot;&quot;&quot; c = a+b c.sort() m = len(c) / 2 mm = len(c) % 2 if mm &gt; 0 : return c[m] return (c[m-1]+c[m])/2.# + (c[m-1]+c[m])%2 ç¬¬äºŒåçš„ï¼š class Solution(object): def findMedianSortedArrays(self, nums1, nums2): &quot;&quot;&quot; :type nums1: List[int] :type nums2: List[int] :rtype: float &quot;&quot;&quot; nums3 = nums1 + nums2 nums3.sort() l = len(nums3) if l%2 == 1: return nums3[l/2] else: return (float(nums3[l/2]) + float(nums3[l/2-1]))/2 æ¯åšä¸€é¢˜ï¼Œéƒ½ä¼šè¢«æ‰“å‡»å¥½å¤šæ¬¡ï¼Œä½†æ˜¯ç®—æ³•æ˜¯ä¸€å®šè¦å­¦ä¹ çš„ã€‚","tags":[]},{"title":"Leetcode_2. Add Two Numbers","date":"2017-05-14T08:42:56.000Z","path":"2017/05/14/Leetcode-2-Add-Two-Numbers/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬åç¯‡åŸåˆ›æ–‡ç«  å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œå®šä¸ªå°ç›®æ ‡ï¼Œ2å¤©ä¸€ç¯‡ï¼Œå“ˆå“ˆã€‚ 1ã€é¢˜ç›®You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list. You may assume the two numbers do not contain any leading zero, except the number 0 itself. Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4) Output: 7 -&gt; 0 -&gt; 8 2ã€æ€è·¯å…¶å®æˆ‘å¹¶çœ‹ä¸æ‡‚é¢˜ç›®è¯´å¾—å•¥æ„æ€ï¼Œå¦‚æœè¯´243+564ï¼Œç»“æœæ˜¯807æ‰æ˜¯ï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾é¢˜ç›®ä¸ä¼šè¿™ä¹ˆç®€å•ã€‚æ€ä¹ˆåŠï¼Ÿ å¥½åƒåªèƒ½å»çœ‹çœ‹åˆ«äººçš„ç†è§£äº†ï¼Œå‘ç°ï¼š 1.å› ä¸ºå­˜å‚¨æ˜¯åè¿‡æ¥çš„ï¼Œå³æ•°å­—342å­˜æˆ2-&gt;4-&gt;3ï¼Œæ‰€ä»¥è¦æ³¨æ„è¿›ä½æ˜¯å‘åçš„ï¼› 2.é“¾è¡¨l1æˆ–l2ä¸ºç©ºæ—¶ï¼Œç›´æ¥è¿”å›ï¼Œè¿™æ˜¯è¾¹ç•Œæ¡ä»¶ï¼Œçœæ‰å¤šä½™çš„æ“ä½œï¼› 3.é“¾è¡¨l1å’Œl2é•¿åº¦å¯èƒ½ä¸åŒï¼Œå› æ­¤è¦æ³¨æ„å¤„ç†æŸä¸ªé“¾è¡¨å‰©ä½™çš„é«˜ä½ï¼› 4.2ä¸ªæ•°ç›¸åŠ ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæœ€é«˜ä½çš„è¿›ä½ï¼Œå› æ­¤è¦æ³¨æ„åœ¨å®Œæˆä»¥ä¸Š1ï¼3çš„æ“ä½œåï¼Œåˆ¤æ–­è¿›ä½æ˜¯å¦ä¸º0ï¼Œä¸ä¸º0åˆ™éœ€è¦å¢åŠ ç»“ç‚¹å­˜å‚¨æœ€é«˜ä½çš„è¿›ä½ã€‚ ç»™ä¸ªé“¾æ¥http://blog.csdn.net/zhouworld16/article/details/14045855 åŸæ¥æ˜¯å€’ç€ç›¸åŠ ï¼Œ342+465=807ï¼Œç»“æœå€’åºï¼Œæ­£å¥½æ˜¯708ï¼Œé¢˜ç›®åº”è¯¥æ˜¯è¿™æ ·ç†è§£çš„å§ï¼Œå“ˆå“ˆã€‚ æ€è·¯æœ¬é¢˜çš„æ€è·¯å¾ˆç®€å•ï¼ŒæŒ‰ç…§å°å­¦æ•°å­¦ä¸­å­¦ä¹ çš„åŠ æ³•åŸç†ä»æœ«å°¾åˆ°é¦–ä½ï¼Œå¯¹æ¯ä¸€ä½å¯¹é½ç›¸åŠ å³å¯ã€‚æŠ€å·§åœ¨äºå¦‚ä½•å¤„ç†ä¸åŒé•¿åº¦çš„æ•°å­—ï¼Œä»¥åŠè¿›ä½å’Œæœ€é«˜ä½çš„åˆ¤æ–­ã€‚è¿™é‡Œå¯¹äºä¸åŒé•¿åº¦çš„æ•°å­—ï¼Œæˆ‘ä»¬é€šè¿‡å°†è¾ƒçŸ­çš„æ•°å­—è¡¥0æ¥ä¿è¯æ¯ä¸€ä½éƒ½èƒ½ç›¸åŠ ã€‚é€’å½’å†™æ³•çš„æ€è·¯æ¯”è¾ƒç›´æ¥ï¼Œå³åˆ¤æ–­è¯¥è½®é€’å½’ä¸­ä¸¤ä¸ªListNodeæ˜¯å¦ä¸ºnullã€‚ å…¨éƒ¨ä¸ºnullæ—¶ï¼Œè¿”å›è¿›ä½å€¼ æœ‰ä¸€ä¸ªä¸ºnullæ—¶ï¼Œè¿”å›ä¸ä¸ºnullçš„é‚£ä¸ªListNodeå’Œè¿›ä½ç›¸åŠ çš„å€¼ éƒ½ä¸ä¸ºnullæ—¶ï¼Œè¿”å› ä¸¤ä¸ªListNodeå’Œè¿›ä½ç›¸åŠ çš„å€¼ æ¥æºä¸€ä½å¤§ä½¬https://segmentfault.com/a/1190000002986101 åŸæ¥æ˜¯å°å­¦å†…å®¹å°å­¦æ•°å­¦ä¸­å­¦ä¹ çš„åŠ æ³•ï¼Œä½¿ç”¨é€’å½’å†™æ³•ã€‚ é€’å½’ï¼Œå°±æ˜¯åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­è°ƒç”¨è‡ªå·±ã€‚ä»€ä¹ˆé¬¼å•Šï¼Œè‡ªå·±ä½¿ç”¨è‡ªå·±å—ï¼Ÿ ç›®å‰æˆ‘æ‰¾åˆ°çš„å¯¹é€’å½’æœ€æ°å½“çš„æ¯”å–»ï¼Œå°±æ˜¯æŸ¥è¯å…¸ã€‚ æˆ‘ä»¬ä½¿ç”¨çš„è¯å…¸ï¼Œæœ¬èº«å°±æ˜¯é€’å½’ï¼Œä¸ºäº†è§£é‡Šä¸€ä¸ªè¯ï¼Œéœ€è¦ä½¿ç”¨æ›´å¤šçš„è¯ã€‚ å½“ä½ æŸ¥ä¸€ä¸ªè¯ï¼Œå‘ç°è¿™ä¸ªè¯çš„è§£é‡Šä¸­æŸä¸ªè¯ä»ç„¶ä¸æ‡‚ï¼Œäºæ˜¯ä½ å¼€å§‹æŸ¥è¿™ç¬¬äºŒä¸ªè¯ï¼Œå¯æƒœï¼Œç¬¬äºŒä¸ªè¯é‡Œä»ç„¶æœ‰ä¸æ‡‚çš„è¯ï¼Œäºæ˜¯æŸ¥ç¬¬ä¸‰ä¸ªè¯ï¼Œè¿™æ ·æŸ¥ä¸‹å»ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªè¯çš„è§£é‡Šæ˜¯ä½ å®Œå…¨èƒ½çœ‹æ‡‚çš„ï¼Œé‚£ä¹ˆé€’å½’èµ°åˆ°äº†å°½å¤´ï¼Œç„¶åä½ å¼€å§‹åé€€ï¼Œé€ä¸ªæ˜ç™½ä¹‹å‰æŸ¥è¿‡çš„æ¯ä¸€ä¸ªè¯ï¼Œæœ€ç»ˆï¼Œä½ æ˜ç™½äº†æœ€å¼€å§‹é‚£ä¸ªè¯çš„æ„æ€ã€‚ã€‚ã€‚ å¥½åƒæ˜ç™½äº†ä¸€ç‚¹ç‚¹~ 3ã€è§£æ³• #ï¼ˆPythonï¼‰ç‰ˆæœ¬1 class Solution: def addTwoNumbers(self, l1, l2): addends = l1, l2 dummy = end = ListNode(0) carry = 0 while addends or carry: carry += sum(a.val for a in addends) addends = [a.next for a in addends if a.next] end.next = end = ListNode(carry % 10) carry /= 10 return dummy.next ç‰ˆæœ¬2 class Solution: # @return a ListNode def addTwoNumbers(self, l1, l2): carry = 0 sum = ListNode(0) s = sum while l1 is not None or l2 is not None or carry: s.val = carry if l1: s.val += l1.val l1 = l1.next if l2: s.val += l2.val l2 = l2.next carry = s.val / 10 s.val = s.val % 10 if l1 or l2 or carry: s.next = ListNode(0) s = s.next return sum å¥½å§ï¼Œæ‰¿è®¤ç‰ˆæœ¬1çœ‹ä¸æ‡‚ã€‚è‡³äºç‰ˆæœ¬2 ListNode æ˜¯ä¸€ä¸ªå…ƒç¥–ï¼Œç„¶åã€‚ã€‚ã€‚s.valæ˜¯ä»€ä¹ˆæ„æ€å•Šï¼Ÿåˆä¸æ‡‚ã€‚å›å»çœ‹çœ‹ï¼ŒåŸæ¥æ˜¯å·²ç»å®šä¹‰äº†ListNode # Definition for singly-linked list. # class ListNode(object): # def __init__(self, x): # self.val = x # self.next = None ä¹Ÿå°±æ˜¯è¯´æœ‰2ä¸ªç±»ï¼ŒSolution å’Œ ListNode ä»Šå¤©å…ˆè¿™æ ·äº†ï¼Œæˆ‘éœ€è¦å»å­¦ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯â€œç±»â€ï¼Œä¹Ÿå°±æ˜¯Pythonçš„é¢å‘å¯¹è±¡ç¼–ç¨‹","tags":[{"name":"leetcode","slug":"leetcode","permalink":"https://zhangslob.github.io/tags/leetcode/"},{"name":"åˆ·é¢˜","slug":"åˆ·é¢˜","permalink":"https://zhangslob.github.io/tags/åˆ·é¢˜/"}]},{"title":"ä½¿ç”¨Pythonè®¡ç®—æ–‡ç« ä¸­çš„å­—è¯é¢‘ç‡ä¸¨å­¦ä¹ ç¬”è®°å’Œåæ€","date":"2017-03-28T10:58:18.000Z","path":"2017/03/28/ä½¿ç”¨Pythonè®¡ç®—æ–‡ç« ä¸­çš„å­—è¯é¢‘ç‡ä¸¨å­¦ä¹ ç¬”è®°å’Œåæ€/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¹ç¯‡åŸåˆ›æ–‡ç«  æ¥æºï¼šå¤©å–„æ™ºèƒ½-å•†ä¸šæ™ºèƒ½å’Œå¤§æ•°æ®åœ¨çº¿ç¤¾åŒºï¼Œç”¨å¿ƒåˆ›é€ ä»·å€¼https://edu.hellobi.com/course/159/play/lesson/2531 ä¸˜ç¥ç®https://ask.hellobi.com/people/DavidChiuäººäººéƒ½çˆ±æ•°æ®ç§‘å­¦å®¶ï¼Pythonæ•°æ®ç§‘å­¦ç²¾åå®æˆ˜è¯¾ç¨‹ ç¯å¢ƒï¼šAnaconda3 å»ºè®®ä½¿ç”¨Anacondaï¼Œä¸‹è½½æºæ–‡ä»¶åå†é˜…è¯»æœ¬æ–‡ï¼šhttps://github.com/zhangslob/DanmuFenxi é€‰æ‹©ç»å…¸æ¼”è®²ç¨¿ï¼Œå¥¥å·´é©¬2009å¹´9æœˆ8æ—¥å¼€å­¦æ¼”è®²ã€‚ã€‚https://wenku.baidu.com/view/ad77bc1caf45b307e8719758.html THE PRESIDENT: Hello, everybody! Thank you. Thank you. Thank you, everybody. All right, everybody go ahead and have a seat. How is everybody doing today? (Applause.) How about Tim Spicer? (Applause.) I am here with students at Wakefield High School in Arlington, Virginia. And weâ€™ve got students tuning in from all across America, from kindergarten through 12th grade. And I am just so glad that all could join us today. And I want to thank Wakefield for being such an outstanding host. Give yourselves a big round of applause. (Applause.)â€¦ 1ã€World Count(Version 1)æŠŠæ•°æ®å‘½åä¸ºspeech_textï¼Œé¦–å…ˆéœ€è¦å¯¹è‹±æ–‡è¿›è¡Œåˆ†è¯ã€‚è‹±æ–‡ä¸­ä¸»è¦æ˜¯ç©ºæ ¼ï¼Œä½¿ç”¨split()å‡½æ•° # coding: utf-8 # In[1]: speech_text=&apos;&apos;&apos;#é•¿æ–‡æœ¬ä½¿ç”¨&apos;&apos;&apos;..&apos;&apos;&apos; THE PRESIDENT: Hello, everybody! Thank you. Thank you. Thank you, everybody. All right, everybody go ahead and have a seat. How is everybody doing today? (Applause.) How about Tim Spicer? (Applause.) I am here with students at Wakefield High School in Arlington, Virginia. And we&apos;ve got students tuning in from all across America, from kindergarten through 12th grade. And I am just so glad that all could join us today. And I want to thank Wakefield for being such an outstanding host. Give yourselves a big round of applause. (Applause.) ...#çœç•¥æ–‡å­— &apos;&apos;&apos; # In[2]: speech=speech_text.split() # In[3]: speech ä¸‹ä¸€æ­¥ï¼Œè®¡ç®—speechä¸­è¯è¯­å‡ºç°çš„æ¬¡æ•° # In[4]: dic={} for word in speech: if word not in dic: dic[word] = 1 else: dic[word] = dic[word] + 1 # In[5]: dic é€šè¿‡ items() å‡½æ•°ä»¥åˆ—è¡¨è¿”å›å¯éå†çš„(é”®, å€¼) å…ƒç»„æ•°ç»„ã€‚ ä¸‹ä¸€æ­¥ï¼Œå¯¹è¯è¯­è¿›è¡Œæ’åº # In[7]: import operator swd=sorted(dic.items(),key=operator.itemgetter(1),reverse=True)#ä»å¤§åˆ°å°æ’åº # In[9]: swd å‘ç°å…¶ä¸­â€œtoâ€ã€â€œtheâ€ç­‰å•è¯æ˜¯å¸¸è§è¯ï¼Œå€Ÿç”¨nltkæˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›è¯è¯­å»æ‰ from nltk.corpus import stopwords stop_words = stopwords.words(&apos;English&apos;) è™½è¯´Anacondaå·²ç»å®‰è£…äº†NLTKï¼Œä½†æ˜¯æˆ‘è‡ªå·±æ“ä½œæ—¶stopwordsè²Œä¼¼æ²¡æœ‰ï¼Œå‡ºé”™è¯·å‚è€ƒhttps://www.douban.com/note/534906136/ çœ‹çœ‹è‹±æ–‡ä¸­çš„å»åœè¯ï¼Œä¸‹ä¸€æ­¥ï¼Œéå†ï¼Œæ‰“å°å‡ºä¸å«æœ‰å»åœè¯ for k,v in swd2: if k not in stop_words: print(k,v) å‘ç°å‡ºç°äº†å¾ˆå¤šâ€œâ€“â€ï¼Œå›å»åŸæ–‡ä¸­è§‚å¯Ÿï¼Œå‘ç°ç¡®å®æœ‰å¾ˆå¤šï¼Œ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆå‡ºç°è¿™ä¹ˆå¤šâ€œâ€“â€ã€‚èŒæ–°æ±‚è§£ï¼ 2ã€World Count(Version 2)from collections import Counter c=Counter(speech2) ä½¿ç”¨Python çš„collectionsæ¨¡å—æ›´ç®€æ´ï¼Œè¯¦ç»†è§http://www.jb51.net/article/48771.htm åŒæ ·å¯ä»¥ä½¿ç”¨stop_wordï¼Œè¿˜å¯ä»¥ä½¿ç”¨most_commonæ‰“å°å‡ºå‰å‡ ä¸ª for sw in stop_words: del c[sw] 3ã€åæ€ä¸Šä¸€ç¯‡æ–‡ç« https://zhuanlan.zhihu.com/p/25983014å†™çš„æ¯”è¾ƒç²—ç³™ï¼Œå¾ˆå¤šäººè¦æ±‚æŠŠâ€œè§‚ä¼—â€ â€œç¤¼ç‰©â€ç­›é€‰å‡ºæ¥ï¼Œé‚£æˆ‘æ¥è¯•è¯•ã€‚ stop = [&apos;ï¼&apos;,&apos;*&apos;,&apos;è§‚ä¼—&apos;,&apos;ç¤¼ç‰©&apos;,&apos;:&apos;,&apos;ï¼Ÿ&apos;,&apos;ã€‚&apos;,&apos;ï¼Œ&apos;,&apos;~&apos;,&apos;1&apos;] å»åœè¯åªæœ‰è¿™äº›ã€å¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ·»åˆ ã€‚ çœ‹æ¥è§‚ä¼—å¾ˆå–œæ¬¢è¯´â€œxxå­¦é™¢å‘æ¥è´ºç”µ~~â€","tags":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://zhangslob.github.io/tags/å­¦ä¹ ç¬”è®°/"},{"name":"æ–‡å­—å¤„ç†","slug":"æ–‡å­—å¤„ç†","permalink":"https://zhangslob.github.io/tags/æ–‡å­—å¤„ç†/"}]},{"title":"æ˜¨å¤©çœ‹çƒæ—¶ï¼Œçƒè¿·éƒ½è¯´äº†å•¥â€”â€”å¼¹å¹•æŠ“å–ä¸åˆ†æ","date":"2017-03-24T12:41:58.000Z","path":"2017/03/24/æ˜¨å¤©çœ‹çƒæ—¶ï¼Œçƒè¿·éƒ½è¯´äº†å•¥â€”â€”å¼¹å¹•æŠ“å–ä¸åˆ†æ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…«ç¯‡åŸåˆ›æ–‡ç«  æ•°æ®æ¥æºï¼šhttp://star.longzhu.com/teamchina æœ¬æ¬¡å¼¹å¹•è®°å½•ï¼ˆå¼€å§‹æ—¶é—´: 2017-03-23-19:43:34ï¼Œç»“æŸ21:29:33)ï¼Œå…±è®°å½•20788æ¡æ•°æ®ã€‚ ä½¿ç”¨OBSå¼¹å¹•åŠ©æ‰‹è®°å½•http://www.obsapp.com/apps/obsdanmu/ 1ã€åˆ†æ æ–‡ä»¶ä¸­å«æœ‰æ—¶é—´è®°å½•ï¼Œè§‚ä¼—IDå’Œé€ç¤¼è®°å½•ï¼Œå…¶æ¬¡æ˜¯å¼¹å¹•å†…å®¹ï¼Œæ‰€ä»¥å†³å®šå¯¹å‰ä¸¤åˆ—å†…å®¹ä¸åˆ†æã€‚ é¦–å…ˆéœ€è¦å¯¹æ–‡æœ¬åˆ†è¯ï¼Œè¿™é‡Œé‡‡ç”¨jiebaåˆ†è¯ https://github.com/fxsjy/jieba/ å»é™¤ç©ºæ ¼ï¼Œä½¿ç”¨strip()å‡½æ•°ï¼Œ å»æ‰æ¢è¡Œç¬¦â€\\nâ€ line = line.strip(&apos;\\n&apos;) æŠŠåˆ†æç»“æœå†™å…¥æ–°çš„æ–‡æ¡£â€™text.txtâ€™ï¼ŒPython join() æ–¹æ³•ç”¨äºå°†åºåˆ—ä¸­çš„å…ƒç´ ä»¥æŒ‡å®šçš„å­—ç¬¦è¿æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² text = &apos;&apos; with open(&apos;danmu.txt&apos;,encoding=&apos;utf-8&apos;) as fin: for line in fin.readlines(): line = line.strip(&apos;\\n&apos;) text += &apos;/&apos;.join(jieba.cut(line)) text += &apos; &apos; fout = open(&apos;text.txt&apos;,&apos;wb&apos;)#ä»¥äºŒè¿›åˆ¶å†™æ¨¡å¼å†™å…¥ pickle.dump(text,fout) fout.close() è¿™æ ·å°±å®Œæˆäº†åˆ†è¯è¿‡ç¨‹ï¼Œç»“æœå¦‚ä¸‹ï¼š 2ã€ç»˜åˆ¶å›¾äº‘# ç›´æ¥ä»æ–‡ä»¶è¯»å–æ•°æ® fr = open(&apos;text.txt&apos;,&apos;rb&apos;) text = pickle.load(fr) ä½¿ç”¨word_cloudï¼Œå…·ä½“ç”¨æ³•https://github.com/amueller/word_cloud backgroud_Image = plt.imread(&apos;girl.jpg&apos;) wc = WordCloud( background_color = &apos;white&apos;, # è®¾ç½®èƒŒæ™¯é¢œè‰² mask = backgroud_Image, # è®¾ç½®èƒŒæ™¯å›¾ç‰‡ max_words = 2000, # è®¾ç½®æœ€å¤§ç°å®çš„å­—æ•° stopwords = STOPWORDS, # è®¾ç½®åœç”¨è¯ font_path = &apos;C:/Users/Windows/fonts/msyh.ttf&apos;,# è®¾ç½®å­—ä½“æ ¼å¼ï¼Œå¦‚ä¸è®¾ç½®æ˜¾ç¤ºä¸äº†ä¸­æ–‡ max_font_size = 300, # è®¾ç½®å­—ä½“æœ€å¤§å€¼ random_state = 50, # è®¾ç½®æœ‰å¤šå°‘ç§éšæœºç”ŸæˆçŠ¶æ€ï¼Œå³æœ‰å¤šå°‘ç§é…è‰²æ–¹æ¡ˆ ) ä½¿ç”¨matplotlibç»˜å›¾http://matplotlib.org/2.0.0/index.html wc.generate(text) image_colors = ImageColorGenerator(backgroud_Image) #wc.recolor(color_func = image_colors) plt.imshow(wc) plt.axis(&apos;off&apos;) plt.show() OKï¼Œè¿™æ ·å°±å®Œæˆäº†ï¼Œé™„ä¸Šç»“æœ æœ‰æ²¡æœ‰ä½ å‘è¿‡çš„å¼¹å¹•å‘¢ï¼Ÿ å¯è‡ªå½¢ä¿®æ”¹æ•°æ®ï¼Œå¾—åˆ°æ›´å¥½çœ‹å›¾ç‰‡ã€‚ èƒ½åŠ›æœ‰é™ï¼Œåˆ†æå¾ˆå°‘ï¼Œå¦‚æœä½ æƒ³è¿›è¡Œæ›´æ·±å…¥åˆ†æï¼Œè¯·æ‰¾æˆ‘è¦æ–‡ä»¶ã€‚ å¯¹è‹±é›„è”ç›Ÿæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹çœ‹è¿™ç¯‡ï¼Œå¯¹æ¸¸æˆç›´æ’­å¼¹å¹•çš„åˆ†æã€‚ https://zhangslob.github.io/2017/03/24/%E5%88%A9%E7%94%A8Python%E5%AF%B9%E7%9B%B4%E6%92%AD%E5%BC%B9%E5%B9%95%E7%9A%84%E5%88%86%E6%9E%90/ githubï¼šhttps://github.com/zhangslob/DanmuFenxi","tags":[{"name":"è¶³çƒ","slug":"è¶³çƒ","permalink":"https://zhangslob.github.io/tags/è¶³çƒ/"},{"name":"æ•°æ®åˆ†æ","slug":"æ•°æ®åˆ†æ","permalink":"https://zhangslob.github.io/tags/æ•°æ®åˆ†æ/"}]},{"title":"åˆ©ç”¨Pythonå¯¹ç›´æ’­å¼¹å¹•çš„åˆ†æ","date":"2017-03-24T12:12:58.000Z","path":"2017/03/24/åˆ©ç”¨Pythonå¯¹ç›´æ’­å¼¹å¹•çš„åˆ†æ/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸ƒç¯‡åŸåˆ›æ–‡ç«  å¼¹å¹•ï¼ˆ barrageï¼‰ï¼Œä¸­æ–‡æµè¡Œè¯è¯­ï¼ŒåŸæ„æŒ‡ç”¨å¤§é‡æˆ–å°‘é‡ç«ç‚®æä¾›å¯†é›†ç‚®å‡»ã€‚è€Œå¼¹å¹•ï¼Œé¡¾åæ€ä¹‰æ˜¯æŒ‡å­å¼¹å¤šè€Œå½¢æˆçš„å¹•å¸ƒï¼Œ å¤§é‡åæ§½è¯„è®ºä»å±å¹•é£˜è¿‡æ—¶æ•ˆæœçœ‹ä¸Šå»åƒæ˜¯é£è¡Œå°„å‡»æ¸¸æˆé‡Œçš„å¼¹å¹•ã€‚ ä»Šå¤©å°±æ¥è¯´è¯´æ¸¸æˆç›´æ’­ä¸­ï¼Œ å¼¹å¹•éƒ½æœ‰å“ªäº›ã€‚ ä¸€ã€å‡†å¤‡åˆ©ç”¨ danmu å¼¹å¹•æ¥å£å¯¹æ–—é±¼ä¸»æ’­èµé‡‘æœ¯å£«ç›´æ’­é—´çš„å¼¹å¹•è¿›è¡ŒæŠ“å–ï¼ŒæŠ“å–æ—¶é—´çº¦2 å°æ—¶ï¼Œå…±è®¡ 2534 æ¡å¼¹å¹•ã€‚èµé‡‘ç›´æ’­é—´ï¼š https://www.douyu.com/846805 äºŒã€ åˆ†æ1ã€ å¼¹å¹•è¯äº‘è¯äº‘ï¼Œ ç”±è¯æ±‡ç»„æˆç±»ä¼¼äº‘çš„å½©è‰²å›¾å½¢ã€‚ ä½¿ç”¨çš„æ˜¯ Python çš„æ¨¡å— wordcloudã€‚ é€šè¿‡ jieba åˆ†è¯å¯¹å¼¹å¹•ä¸­æ–‡åˆ†è¯ï¼Œ ä½¿ç”¨ wordcloud å¯¹ç»“æœæ„é€ è¯äº‘ï¼Œ æœ€ç»ˆç»“æœä¸ºï¼š å¯ä»¥çœ‹åˆ°ï¼Œé«˜é¢‘ç‡è¯è¯­æœ‰ï¼š å¤–ç”¥ã€æ— æ•Œã€å‰å®³ã€å¯ä»¥ã€æ— é™ã€ç«åŠ›ã€ä»€ä¹ˆã€åƒåœ¾ã€èµé‡‘ã€‚ 2ã€å…³é”®è¯TextRankç®—æ³•å¯ä»¥ç”¨æ¥ä»æ–‡æœ¬ä¸­æå–å…³é”®è¯å’Œæ‘˜è¦ å…³é”®è¯ï¼š ä¸ 0.010922664205428556 å¤–ç”¥ 0.010484629632807344 ç© 0.008177160003721682 æ— é™ 0.0058741805660283575 æ²¡ 0.005665342357801469 è¯´ 0.005548941560115147 å¤§ 0.005541099430280024 ä¸»æ’­ 0.005498954448927515 å‡º 0.0054948076800822405 çœ‹ 0.0051528084835430555 å¯ä»¥çœ‹å‡ºæ¥ï¼Œä½œä¸ºæ±‰å­—å¸¸ç”¨å­—ï¼Œâ€˜ä¸â€™ã€â€˜ç©â€™ã€â€˜æ²¡â€™ã€â€˜è¯´â€™ã€â€˜å¤§â€™ã€â€˜å‡ºâ€™ã€â€˜çœ‹â€™è¿™7ä¸ªå­—å‡ºç°é¢‘ç‡é«˜ï¼Œè¿™ä¸å¥‡æ€ªã€‚ä½†æ˜¯ï¼Œâ€˜å¤–ç”¥â€™ã€â€˜æ— é™â€™ã€â€˜ä¸»æ’­â€™å°±å’Œè‹±é›„è”ç›Ÿä¸»æ’­èµé‡‘æœ¯å£«æœ‰è´£å¾ˆå¤§å…³ç³»äº†ã€‚ å¤–ç”¥æ˜¯èµé‡‘åŒæ’çš„ä¸€ä½é€‰æ‰‹ã€æ‰®æ¼”ç€æç¬‘ã€é€—ä¹çš„è§’è‰²ã€‚â€˜æ— é™â€™åˆ™æ˜¯â€œæ— é™ç«åŠ›â€ï¼Œä¸€ä¸ªç‰¹å®šæ¨¡å¼ï¼Œé¢‡å—ç©å®¶å–œçˆ±ã€‚ä¸»æ’­å¯èƒ½æ˜¯èµé‡‘ï¼Œä¹Ÿæœ‰å¯èƒ½è¯´åˆ«çš„ä¸»æ’­ã€‚ å…³é”®çŸ­è¯­ï¼š å¯¹é¢ä¸ä¼š åƒåœ¾ä¸»æ’­ ä¸å‡º æ²¡å¸¦ ä¸å¤§ èµé‡‘ç© å¯¹é¢å¾·ç› å¤–ç”¥è¯´ å¤§ä¸ å¤–ç”¥å¤§ æ‘˜è¦ï¼š 7337 0.0006968086282134394 çœŸçš„æœ‰æŠ¤çœ¼æ¨¡å¼666 3059 0.0006968086282134393 æŠ¤çœ¼æ¨¡å¼ä¸ºä»€ä¹ˆè¿™ä¹ˆç»¿ 10503 0.00047342729603724247 æ‰¾å„¿å­ï¼Œçˆ±å¥½æŠ¤çœ¼ ä»æ‘˜è¦ä¸­çœ‹åˆ°ä¸‰æ¡å¼¹å¹•ä¸­ï¼Œéƒ½å«æœ‰â€œæŠ¤çœ¼â€äºŒå­—ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ lolæŠ¤çœ¼ä¸€è¯ï¼Œå…¶å®ä¸»è¦æ¥æºäºè‹±é›„è”ç›Ÿçš„ç›´æ’­å¹³å°ï¼Œéšç€å«çš„äººå¤šäº†ï¼Œè¿™ä¸ªè¯ä¾¿ç«çƒ­äº†èµ·æ¥ã€‚èµ·åˆæ˜¯æœ‰äººå¸¦èŠ‚å¥ï¼Œè¯´æ‰“æŠ¤çœ¼æ–—é±¼å¯ä»¥è¿›å…¥æŠ¤çœ¼æ¨¡å¼ã€‚ä¸€èˆ¬åœ¨ç›´æ’­lolçš„ä¸»æ’­ä½¿ç”¨çš„è‹±é›„æ­»æ‰åï¼Œç•Œé¢ä¼šå‘ˆç°æš—ç°è‰²çš„ï¼Œäº®åº¦é™ä½æœ‰åˆ©äºé˜²æŠ¤çœ¼ç›ï¼Œä»è€Œå°±æœ‰äº†lolæŠ¤çœ¼ï¼Œå½“ç„¶æ„æ€å°±æ˜¯å˜²è®½ä¸»æ’­å¾ˆèœçš„æ„æ€ã€‚ ä¸‰ã€æ€»ç»“ï¼šç”±äºè‡ªå·±æ‰€æ”¶é›†çš„æ•°æ®è¿‡å°‘ã€è€Œä¸”ä»…ä¿å­˜äº†ä¸€ä½ä¸»æ’­çš„å¼¹å¹•ï¼Œé€ æˆç»“æœä¸å…·æœ‰é€šç”¨æ€§ï¼Œå¯ä»¥é€šè¿‡å¯¹å„å¤§ç›´æ’­å¹³å°çš„çƒ­é—¨ä¸»æ’­å¼¹å¹•çš„çˆ¬å–ï¼Œè·å¾—è§‚ä¼—çš„å¿ƒç†å˜åŒ–å’Œç½‘ç»œé£æ°”ã€‚ ä»¥åŠä¸»æ’­æœ‰æ²¡æœ‰è¿‡æ°”ä¸€è¯´~ githubï¼šhttps://github.com/zhangslob/DanmuFenxi","tags":[{"name":"ç›´æ’­","slug":"ç›´æ’­","permalink":"https://zhangslob.github.io/tags/ç›´æ’­/"},{"name":"æ–‡æœ¬åˆ†æ","slug":"æ–‡æœ¬åˆ†æ","permalink":"https://zhangslob.github.io/tags/æ–‡æœ¬åˆ†æ/"}]},{"title":"å¦‚ä½•ä¼˜é›…çš„â€œè½®å¸¦é€›â€åˆçº§ç¯‡â€”â€”è·å–å•å¼ å›¾ç‰‡","date":"2017-03-20T12:35:00.000Z","path":"2017/03/20/å¦‚ä½•ä¼˜é›…çš„â€œè½®å¸¦é€›â€åˆçº§ç¯‡â€”â€”è·å–å•å¼ å›¾ç‰‡/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å…­ç¯‡åŸåˆ›æ–‡ç«  è½®å­å“¥æŠ¤ä½“ é¦–å…ˆä¸Šæ”¶è—å¤¹ https://www.zhihu.com/collection/78172986?page=1 ç”±@vega13åˆ›å»ºï¼Œå†…å®¹æŒºå¤šçš„ã€‚ä¾‹å¦‚ï¼Œ ç­‰ç­‰ï¼Œçœ‹çš„è€å¤«è„¸éƒ½çº¢äº† å†™äº†ä¸€ä¸ªç®€å•çˆ¬å–å›¾ç‰‡çš„ç¨‹åºã€‚è®°å½•ä¸‹è¿‡ç¨‹ã€‚æ‰‹åŠ¨ @è½®å­å“¥ 1ã€åˆ†æç½‘é¡µæ”¶è—å¤¹åªæ”¶è—äº†é—®é¢˜çš„ä¸€ä¸ªç­”æ¡ˆï¼Œåˆæ­¥æƒ³æ³•æ˜¯è·å–å½“å‰é¡µé¢çš„å›¾ç‰‡ å› ä¸ºä¸Šä¸€æ¬¡åŸå› ï¼Œç›´æ¥å»ç½‘é¡µæºä»£ç  &lt;img src=&quot;https://pic4.zhimg.com/de5ecb16bcb912e99a83f647eb96c5bb_200x112.jpg&quot; data-rawwidth=&quot;1080&quot; data-rawheight=&quot;1080&quot; class=&quot;origin_image inline-img zh-lightbox-thumb&quot; data-original=&quot;https://pic4.zhimg.com/de5ecb16bcb912e99a83f647eb96c5bb_r.jpg&quot;&gt; &lt;img data-rawwidth=&quot;1280&quot; data-rawheight=&quot;1836&quot; src=&quot;https://pic2.zhimg.com/v2-61ba67d910104f99acdb805a3568ab05_200x112.jpg&quot; class=&quot;origin_image inline-img zh-lightbox-thumb&quot; data-original=&quot;https://pic2.zhimg.com/v2-61ba67d910104f99acdb805a3568ab05_r.jpg&quot;&gt; åœ¨&lt;img&gt;æ ‡ç­¾ä¸‹ï¼Œsrcå’Œdata-originaléƒ½å«æœ‰å›¾ç‰‡é“¾æ¥ï¼Œç»éªŒè¯data-originalæ˜¯å¤§å›¾ï¼Œé‚£å°±æŠŠæ¯ä¸ªé—®é¢˜çš„å›¾ç‰‡é“¾æ¥æ‰¾åˆ°äº†ï¼Œæ¥ä¸‹æ¥å°±å¾ˆç®€å•äº†ã€‚ 2ã€ä»£ç å°±18è¡Œçš„ä»£ç ã€‚ç®€å•å§~ import requests,urllib from lxml import etree def get_img(url): headers = {&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&apos;} r= requests.get(url,headers=headers).text s = etree.HTML(r) #print(r) link = s.xpath(&apos;//img/@data-original&apos;) for i in link: print(i) name = i.split(&apos;/&apos;)[-1]#å›¾ç‰‡åç§° urllib.request.urlretrieve(i,name) if __name__ == &apos;__main__&apos;: for i in range(1,43): url = &apos;https://www.zhihu.com/collection/78172986?page=&apos; + str(i) get_img(url) ä½†æ˜¯è¿™æ ·å­˜åœ¨ä¸€ä¸ªé—®é¢˜ link = s.xpath(&apos;//img/@data-original&apos;) è¿™é‡Œçš„linkåªæœ‰æ¯ä¸ªå›ç­”çš„ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œæ›´å¤šçš„å›¾ç‰‡è—åœ¨æ–‡æœ¬ä¸­ï¼Œé™¤äº†æ­£åˆ™ä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³• åªæœ‰200å¤šå¼ å›¾ç‰‡ã€‚ç»“å°¾æœ‰ç™¾åº¦äº‘ ä¸‹è½½äº†å‡ åˆ†é’Ÿå‡ºç°é”™è¯¯ï¼Œæœ‰ä¸€å¼ å›¾ç‰‡ä¸‹è½½ä¸äº†ï¼ŒçŸ¥å‹ä»¬æœ‰ä»€ä¹ˆå¥½åŠæ³•å—ï¼Ÿ ä¸‰ã€â€œè½®å¸¦é€›â€é«˜çº§ç¯‡æ—¢ç„¶æœ‰åˆçº§ç¯‡ï¼Œè‚¯å®šè¿˜æœ‰é«˜çº§ç¯‡ã€‚ å…¶å®è¿™ä¸ªæ”¶è—å¤¹ä¸­æ¯ä¸€ä¸ªé—®é¢˜ä¸‹é¢éƒ½å«æœ‰å¾ˆå¤šå›ç­”ï¼Œæ”¶è—å¤¹åªæ˜¯é€‰å–å…¶ä¸­ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯è¢«è½®å­å“¥ç‚¹èµçš„é‚£ä¸ªï¼Œé‚£ä¹ˆè¿˜æœ‰é‚£äº›æ²¡æœ‰è¢«ç‚¹èµçš„å‘¢ï¼Ÿ ä¸‹ä¸€æœŸè®²ä¸€è®²æ€ä¹ˆè·å–æ‰€æœ‰å›¾ç‰‡é“¾æ¥ã€‚ æ”¾ä¸€å¼ å›¾ç‰‡ï¼Œå¡æ­»æˆ‘ç¨‹åºçš„ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”æœ€åçš„å°å¹¿å‘Šâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ æœ‰æœ‹å‹ç«Ÿç„¶å«æˆ‘å»ä½œä¸€æœŸç›´æ’­ï¼Œè®²ä¸€è®²Pythonã€‚ æ‰“ç®—æ ¹æ®è‡ªå·±çš„ç»å†åˆ†äº«ä¸€äº›ç»éªŒï¼Œä¸»è¦æ˜¯å…³äºPythonå…¥é—¨çš„ï¼Œæƒ³å¬å¬å¯ä»¥ç§ä¿¡æˆ‘ã€‚ æ—¶é—´æ˜¯å‘¨äºŒæ™š9ç‚¹~ ç™¾åº¦äº‘ä¸‹è½½ é“¾æ¥ï¼šhttp://pan.baidu.com/s/1dFOPbUx å¯†ç ï¼šabrl","tags":[{"name":"çŸ¥ä¹çˆ¬è™«","slug":"çŸ¥ä¹çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çŸ¥ä¹çˆ¬è™«/"},{"name":"è½®å¸¦é€›","slug":"è½®å¸¦é€›","permalink":"https://zhangslob.github.io/tags/è½®å¸¦é€›/"}]},{"title":"Pythonçˆ¬è™«å®æˆ˜â€”â€”å…è´¹å›¾ç‰‡ - Pixabay","date":"2017-03-19T09:24:58.000Z","path":"2017/03/19/Pythonçˆ¬è™«å®æˆ˜â€”â€”å…è´¹å›¾ç‰‡-Pixabay/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äº”ç¯‡åŸåˆ›æ–‡ç«  Pixabayï¼Œä¸€ä¸ªæŒºä¸é”™çš„é«˜æ¸…æ— ç å›¾ç‰‡ç½‘ç«™ï¼Œå¯ä»¥å…è´¹ä¸‹è½½ã€‚ https://pixabay.com/ ä¸€äº›ä»‹ç» è¶…è¿‡ 900000 é«˜è´¨é‡ç…§ç‰‡ã€ æ’å›¾å’ŒçŸ¢é‡å›¾å½¢ã€‚å¯å…è´¹ç”¨äºå•†ä¸šç”¨é€”ã€‚æ²¡æœ‰æ‰€éœ€çš„å½’å±ã€‚ Pixabayæ˜¯ä¸€å®¶é«˜è´¨é‡å›¾ç‰‡åˆ†äº«ç½‘ç«™ã€‚æœ€åˆï¼Œè¯¥ç½‘ç«™ç”±Hans Braxmeierå’ŒSimon Steinbergeråœ¨å¾·å›½å‘å±•èµ·æ¥ã€‚2013å¹´2æœˆï¼Œç½‘ç«™æ‹¥æœ‰ç”±å½±å¸ˆå’Œå…¶ç¤¾åŒºçš„æ’ç”»å®¶æä¾›çš„å¤§çº¦7ä¸‡å¼ å…è´¹çš„ç…§ç‰‡å’ŒçŸ¢é‡å›¾å½¢ã€‚è¯¥å…¬å¸äº2010å¹´12æœˆåœ¨å¾·å›½ä¹Œå°”å§†æˆç«‹ã€‚ 2012å¹´3æœˆï¼ŒPixabayå¼€å§‹ä»ä¸€ä¸ªç§äººå›¾åƒæœé›†ç½‘ç«™è½¬å˜æˆä¸€ä¸ªäº’åŠ¨çš„ç½‘ä¸Šç¤¾åŒºï¼Œè¯¥ç½‘ç«™æ”¯æŒ20ç§è¯­è¨€ã€‚åŒå¹´5æœˆï¼Œç½‘ç«™æ¨å‡ºå…¬å…±åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼Œä»è€Œä½¿ç¬¬ä¸‰æ–¹ç”¨æˆ·å’Œç½‘ç«™å¼€å‘äººå‘˜æœç´¢å…¶å›¾åƒæ•°æ®åº“ã€‚ç½‘ç«™è¿˜ä¸Flickrï¼ŒYouTubeå’Œç»´åŸºå…±äº«èµ„æºã€‚ Pixabayç”¨æˆ·æ— éœ€æ³¨å†Œå°±å¯ä»¥è·å¾—å…è´¹ç‰ˆæƒçš„é«˜è´¨é‡å›¾åƒã€‚æ ¹æ®çŸ¥è¯†å…±äº«å¥‘çº¦CC0ç›¸å…³çš„è‚–åƒæƒï¼Œç”¨æˆ·åœ¨è¯¥ç½‘ç«™é€šè¿‡ä¸Šä¼ å›¾ç‰‡å°±é»˜è®¤æ”¾å¼ƒå›¾ç‰‡ç‰ˆæƒï¼Œä»è€Œä½¿å›¾ç‰‡å¹¿æ³›æµé€šã€‚ç½‘ç«™å…è®¸ä»»ä½•äººä½¿ç”¨ï¼Œä¿®æ”¹å›¾ç‰‡ - å³ä¾¿æ˜¯åœ¨å•†ä¸šåº”ç”¨ - ä¸è¦æ±‚è®¸å¯å¹¶ä¸”æœªè®¤å¯ã€‚ Pixabayä¸ºäº†ç¡®ä¿é«˜å“è´¨å›¾ç‰‡æ ‡å‡†ï¼Œç”¨æˆ·ä¸Šä¼ çš„æ‰€æœ‰å›¾ç‰‡å°†ç”±ç½‘ç«™å·¥ä½œäººå‘˜æ‰‹åŠ¨å®¡æ‰¹ã€‚å¤§çº¦27ï¼…çš„ç”¨æˆ·ä¼šè¯´è‹±è¯­ï¼Œ20ï¼…çš„ç”¨æˆ·ä¼šè¯´è¥¿ç­ç‰™è¯­ï¼Œ11ï¼…çš„ç”¨æˆ·ä¼šè¯´è‘¡è„ç‰™è¯­ï¼Œ7ï¼…çš„ç”¨æˆ·ä¼šè¯´å¾·è¯­å’Œ5ï¼…çš„ç”¨æˆ·ä¼šè¯´æ³•è¯­ã€‚å…¶ç”¨æˆ·ä¸»è¦æ˜¯åšå®¢ã€å›¾å½¢è®¾è®¡å¸ˆã€ä½œå®¶ã€è®°è€…å’Œå¹¿å‘Šå•†ã€‚ ä»Šå¤©çš„ç›®æ ‡å°±æ˜¯çˆ¬å–å°ç¼–ç²¾é€‰çš„å›¾ç‰‡ https://pixabay.com/zh/editors_choice/?media_type=photo&amp;pagi=1 ä¸€ã€åˆ†ææˆ‘ä»¬éœ€è¦å†™3ä¸ªå‡½æ•° ä¸€ä¸ªDownload(url)ï¼Œç”¨æ¥ä¸‹è½½å›¾ç‰‡ ä¸€ä¸ªç”¨æ¥è·å–å°ç¼–ç²¾é€‰ä¸€å…±æœ‰çš„165é¡µFullUrl() æœ€åç”¨æ¥è°ƒç”¨main() ä¸‹é¢å¼€å§‹ä¸€ä¸ªä¸ªå†™å§~ https://pixabay.com/zh/editors_choice/?media_type=photo&amp;pagi=1 æ‰“å¼€ç½‘é¡µï¼ŒF12ï¼ŒæŸ¥çœ‹å›¾ç‰‡é“¾æ¥æ‰€åœ¨çš„æ ‡ç­¾ å¯ä»¥çœ‹åˆ°å›¾ç‰‡é“¾æ¥éƒ½åœ¨&lt;img&gt;æ ‡ç­¾ä¸‹ï¼Œä½†æ˜¯æˆ‘è‡ªå·±å‘ç°å‰å‡ å¼ å’Œåå‡ å¼ çš„å±æ€§æ˜¯ä¸ä¸€æ ·çš„ï¼Œæå–å‡º&lt;img&gt;ä¸­â€œsrcâ€å°±å¯ä»¥äº†ï¼Œä½¿ç”¨çš„æ˜¯xpath import requests from lxml import etree header = {&apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&apos;} url = &apos;https://pixabay.com/zh/editors_choice/&apos; r = requests.get(url,headers=header).text s = etree.HTML(r) print(s.xpath(&apos;//img/@src&apos;)) ç»“æœæ˜¯ å‰é¢éƒ½æ˜¯æ­£ç¡®çš„å›¾ç‰‡é“¾æ¥ï¼Œå¯æ˜¯åé¢å‡ºç°äº†â€™/static/img/blank.gifâ€™ï¼Œè¿™ä¸ªæ˜¯ä»€ä¹ˆé¬¼ï¼ŒæŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œæœç´¢ å¯ä»¥å‘ç°ç¡®å®æœ‰è¿™ä¸€æ®µå­—ç¬¦ä¸²ï¼Œæˆ‘è‡ªå·±åœ¨è¿™ä¸€ç‚¹ä¸ŠèŠ±äº†å¾ˆå¤šæ—¶é—´ã€‚æ„Ÿè°¢@æå®æ°çš„å¸®åŠ©ï¼Œhttps://www.zhihu.com/question/57188290 æµè§ˆå™¨ä¸­çš„ä»£ç æ˜¯JavaScriptä¿®æ”¹è¿‡çš„, ä½ ç›´æ¥ç”¨requestsè¯·æ±‚ç„¶åæ‰“å°å‡ºæ¥çœ‹å°±ä¼šå‘ç° &lt;div class=&quot;item&quot; data-w=&quot;640&quot; data-h=&quot;426&quot;&gt; &lt;a href=&quot;/zh/%E8%9B%8B%E7%B3%95-%E4%B8%80%E5%9D%97%E8%9B%8B%E7%B3%95-%E9%A3%9F%E8%B0%B1-%E4%B8%80%E7%89%87-%E7%B3%96%E6%9E%9C-%E6%8F%92%E5%9B%BE-%E7%83%98%E7%83%A4-%E7%94%9C%E7%82%B9-%E9%A3%9F%E5%93%81-1971556/&quot;&gt; &lt;img src=&quot;/static/img/blank.gif&quot; data-lazy-srcset=&quot;https://cdn.pixabay.com/photo/2017/01/11/11/33/cake-1971556__340.jpg 1x, https://cdn.pixabay.com/photo/2017/01/11/11/33/cake-1971556__480.jpg 2x&quot; data-lazy=&quot;https://cdn.pixabay.com/photo/2017/01/11/11/33/cake-1971556__340.jpg&quot; alt=&quot;&quot;&gt; &lt;/a&gt; &lt;div&gt; requestsè¿”å›çš„æ•°æ®ä¸­å¯ä»¥çœ‹åˆ°ï¼Œâ€œdata-lazyâ€æ€»å«æœ‰æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼Œä¿®æ”¹ä»£ç  å‘ç°ç°åœ¨è¿”å›çš„æ•°æ®æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œæ‰“å¼€ä¸€å¼ å›¾ç‰‡æŸ¥çœ‹ ä¸‹é¢çš„å›¾ç‰‡è¦æ¸…æ™°å¾ˆå¤šï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠ__340æ¢æˆ_960_720å³å¯ å°ç¼–ç²¾é€‰ä¸€å…±æœ‰165é¡µï¼Œæˆ‘ä»¬éœ€è¦è·å–ä¸‹ä¸€é¡µURL https://pixabay.com/zh/editors_choice/?media_type=photo&amp;pagi=2 https://pixabay.com/zh/editors_choice/?media_type=photo&amp;pagi=3 ã€‚ã€‚ã€‚ è§„å¾‹å¾ˆç®€å• full_link = [] for i in range(1,165): #print(i) full_link.append( &apos;https://pixabay.com/zh/editors_choice/?media_type=photo&amp;pagi=&apos;+ str(i)) åˆ°ç°åœ¨ï¼Œå‡†å¤‡å·¥ä½œåšå¥½äº†ï¼Œæ€è·¯å¯èƒ½ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œè¯·è°…è§£~ äºŒã€ä»£ç import requests from lxml import etree import time import urllib def Download(url): header = { &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&apos;} r = s.get(url, headers=header).text s = etree.HTML(r) r = s.xpath(&apos;//img/@data-lazy&apos;) for i in r: imglist = i.replace(&apos;__340&apos;, &apos;_960_720&apos;) name = imglist.split(&apos;/&apos;)[-1]#å›¾ç‰‡åç§° urllib.request.urlretrieve(imglist,name) time.sleep(1) def FullUrl(): full_link = [] for i in range(2,165): #print(i) full_link.append( &apos;https://pixabay.com/zh/editors_choice/?media_type=photo&amp;pagi=&apos;+ str(i)) #print(full) return full_link if __name__ == &apos;__main__&apos;: urls = FullUrl() for url in urls: Download(url) çˆ¬å–å›¾ç‰‡çš„å·¥ä½œå°±å®Œæˆäº†ï¼Œç²—ç•¥çš„è®¡ç®—6600å¼ ï¼Œæ¯ä¸€å¼ ä¸‹è½½éœ€è¦5ç§’é’Ÿï¼Œä¸€åˆ†é’Ÿ60ç§’ã€ä¸€å°æ—¶60åˆ†é’Ÿï¼Œå¤©å‘ï¼Œéœ€è¦9ä¸ªå°æ—¶æ‰èƒ½çˆ¬å–å…¨éƒ¨çš„å›¾ç‰‡ã€‚æƒ³ä¸€æƒ³è¿˜æ˜¯ç®—äº†å§ï¼Œæ•´ç«™çˆ¬å–è¿˜æ˜¯è¦ä½¿ç”¨Scrapy+mongodbã€‚ &gt;&gt;&gt; 165*40 6600 &gt;&gt;&gt; from __future__ import division &gt;&gt;&gt; 6600*5/60/60 9.166666666666666 ä¸‹è½½äº†700å¤šå¼ ï¼Œ108Mï¼Œä¹Ÿç®—æ˜¯ç•™ç€çœ‹çœ‹å§ã€‚ ä¸€ä¼šä¸Šä¼ åˆ°Githubä¸Š ä¸‰ã€ç»“è¯­æ˜¨å¤©å­¦ä¹ äº†å´”åº†æ‰è€å¸ˆçš„çˆ¬è™«ï¼Œæ„Ÿè§‰çœŸçš„å­¦ä¹ åˆ°äº†å¥½å¤šï¼Œå¯¹Pythonçˆ¬è™«æé«˜å¾ˆæœ‰å¸®åŠ©ï¼Œè¿˜æœ‰ï¼ŒåŸæ¥ä»–å°±æ˜¯é™è§…ï¼Œåˆšå¼€å§‹å­¦ä¹ çˆ¬è™«å°±åœ¨çœ‹ä»–çš„åšå®¢ï¼Œæ²¡æƒ³åˆ°ä»–ç°åœ¨åˆåœ¨å‡ºçˆ¬è™«æ•™ç¨‹ï¼Œæ‰“ç®—è·Ÿç€å­¦ä¹ ã€‚ åˆ†äº«å†…å®¹ï¼š 1. åˆ†æçŸ¥ä¹Ajaxè¯·æ±‚åŠçˆ¬å–é€»è¾‘ 2. ç”¨Scrapyå®ç°é€’å½’çˆ¬å– 3. çˆ¬å–ç»“æœå­˜å‚¨åˆ°MongoDB åºŸè¯ä¸å¤šè¯´ï¼Œè‡ªå·±çœ‹çœ‹å°±çŸ¥é“äº†ã€‚ é™è§…ä¸¨å´”åº†æ‰çš„ä¸ªäººåšå®¢http://cuiqingcai.com/ å¾®è¯¾å½•æ’­ | 03æœˆ17æ—¥ çˆ¬å–çŸ¥ä¹æ‰€æœ‰ç”¨æˆ·è¯¦ç»†ä¿¡æ¯https://edu.hellobi.com/course/163 æœ€åçš„å°å¹¿å‘Š æœ‰æœ‹å‹ç«Ÿç„¶å«æˆ‘å»ä½œä¸€æœŸç›´æ’­ï¼Œè®²ä¸€è®²Pythonã€‚ æ‰“ç®—æ ¹æ®è‡ªå·±çš„ç»å†åˆ†äº«ä¸€äº›ç»éªŒï¼Œä¸»è¦æ˜¯å…³äºPythonå…¥é—¨çš„ï¼Œæƒ³å¬å¬å¯ä»¥ç§ä¿¡æˆ‘ã€‚ æ—¶é—´æ˜¯å‘¨äºŒæ™š9ç‚¹~ Hello Worldï¼ Try to be a Pythonerï¼","tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"https://zhangslob.github.io/tags/çˆ¬è™«/"},{"name":"å›¾ç‰‡ä¸‹è½½","slug":"å›¾ç‰‡ä¸‹è½½","permalink":"https://zhangslob.github.io/tags/å›¾ç‰‡ä¸‹è½½/"}]},{"title":"Pythonç»ƒä¹ ç¬¬ä¹é¢˜ï¼Œçˆ¬å–è´´å§å›¾ç‰‡","date":"2017-03-14T11:56:07.000Z","path":"2017/03/14/Pythonç»ƒä¹ ç¬¬ä¹é¢˜ï¼Œçˆ¬å–è´´å§å›¾ç‰‡/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬å››ç¯‡åŸåˆ›æ–‡ç«  ä¸€ã€é—®é¢˜ï¼šç”¨ Pythonçˆ¬å–å¦¹å­å›¾ç‰‡ :) http://tieba.baidu.com/p/2166231880 äºŒã€åˆ†æè´´å§ç½‘é¡µæºç æ‰“å¼€ç½‘é¡µhttp://tieba.baidu.com/p/2166231880ï¼ŒF12 å‘ç°å›¾ç‰‡é“¾æ¥éƒ½åœ¨&lt;img&gt;æ ‡ç­¾ä¸­ &lt;cc&gt; &lt;div...&gt; &lt;img...&gt; &lt;img...&gt; æµ‹è¯•å‘ç°ï¼Œsrcä¸­çš„é“¾æ¥å°±æ˜¯å›¾ç‰‡é“¾æ¥ã€‚é‚£ä¹ˆå°±å¾ˆç®€å•ï¼Œåªéœ€è¦æŠŠ&lt;img&gt;ä¸­çš„srcçš„é“¾æ¥æ‹¿å‡ºæ¥å³å¯ã€‚ ä¸‰ã€å†™ä»£ç ç¯å¢ƒï¼šPython3ï¼ŒPycharm ä½¿ç”¨requestså’Œxpathï¼Œæœ€è¿‘æ‰å­¦äº†xpathï¼Œå‘ç°è¶…çº§å¥½ç”¨ï¼Œæ¯”bs4ç®€æ´ï¼Œæœ‰å…´è¶£çœ‹çœ‹è¿™ä¸ªhttps://zhuanlan.zhihu.com/p/25572729 import requests from lxml import etree url = &apos;http://tieba.baidu.com/p/2166231880&apos; header = {&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&apos;} r = requests.get(url,headers=header).content s = etree.HTML(r) print(s.xpath(&apos;//div/img/@src&apos;)) å‘ç°é“¾æ¥éƒ½å·²ç»æ‹¿åˆ°æ‰‹ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ä¸‹è½½äº†~ ä¸‹è½½å›¾ç‰‡çš„è¯­å¥ï¼š import urllib.request path = &apos;......&apos; #ä¸‹è½½é“¾æ¥ jpg_link ï¼ &apos;......&apos; #å›¾ç‰‡é“¾æ¥ request.urlretrieve(jpg_link, path) åŠ åœ¨ä¸€èµ·ï¼Œå¤§åŠŸå‘Šæˆã€‚ å››ã€æ€»ç»“ç»æµ‹è¯•ï¼Œè´´å§é‡Œé¢å…¶ä»–ç½‘é¡µå¦‚ï¼šhttp://tieba.baidu.com/p/1165861759 æœ¬ä»£ç éƒ½å¯ä»¥ä¸‹è½½ï¼Œé¡ºä¾¿è¯´ä¸€è¯´é—®é¢˜ã€‚ 1ã€å›¾ç‰‡åç§°ä½¿ç”¨å›¾ç‰‡é“¾æ¥ä¸­çš„åç§°ï¼ŒåŒ…å«å¤§é‡æ•°å­—å’Œå­—æ¯ï¼Œå¯ä»¥ä¼˜åŒ–ã€‚ 2ã€å¯ä»¥çœ‹åˆ°ï¼Œä¸‹è½½æ–‡ä»¶ä¸­åŒ…å«äº†ä¸€ä¸ªè¡¨æƒ…ï¼ŒæŸ¥çœ‹é‚£æ˜¯ç”¨æˆ·æ‰€å‘ï¼Œè¯´æ˜ç­›é€‰å‡ºäº†é—®é¢˜ã€‚ 3ã€å¸–å­æ•°é‡å¤šï¼Œç¿»é¡µè¿‡åï¼Œéœ€è¦åœ¨ä»£ç ä¸­åŠ å…¥è·å–ä¸‹ä¸€é¡µé“¾æ¥ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ æºç è¯·è§ï¼šhttps://github.com/zhangslob/TiebaImg","tags":[{"name":"ç¦åˆ©","slug":"ç¦åˆ©","permalink":"https://zhangslob.github.io/tags/ç¦åˆ©/"},{"name":"ç¾å¥³å›¾ç‰‡","slug":"ç¾å¥³å›¾ç‰‡","permalink":"https://zhangslob.github.io/tags/ç¾å¥³å›¾ç‰‡/"}]},{"title":"Pythonç»ƒä¹ ç¬¬ä¸ƒé¢˜ï¼Œæˆ‘è¦å€’è¿‡æ¥çœ‹","date":"2017-03-06T10:47:46.000Z","path":"2017/03/06/Pythonç»ƒä¹ ç¬¬ä¸ƒé¢˜ï¼Œæˆ‘è¦å€’è¿‡æ¥çœ‹/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸‰ç¯‡åŸåˆ›æ–‡ç«  ä¸€ã€ChallengeUsing the Python language, have the function FirstReverse(str) take the str parameter being passed and return the string in reversedï¼ˆé¢ å€’çš„ï¼‰ order. For example: if the input string is â€œHello World and Codersâ€ then your program should return the string sredoC dna dlroW olleH.é¢˜ç›®æ„æ€æ˜¯ï¼Œç»™å®šå­—ç¬¦ä¸²ï¼Œè¿”å›åŸæ¥çš„å€’åºã€‚ä¾‹å¦‚ç»™å‡ºçš„æ˜¯â€œHello World and Codersâ€ï¼Œè¿”å›â€œsredoC dna dlroW olleH.â€ Sample Test Cases Input:â€coderbyteâ€ Output:â€etybredocâ€ Input:â€I Love Codeâ€ Output:â€edoC evoL Iâ€ Hint Think of how you can loop through a string or array of characters backwards to produce a new string. def FirstReverse(str): # code goes here return str # keep this function call here print FirstReverse(raw_input()) äºŒã€è§£æ³•:åˆ‡ç‰‡ç¯å¢ƒï¼šPython3.5 A simple way to reverse a string would be to create a new string and fill it with the characters from the original string, but backwards. To do this, we need to loop through the original string starting from the end, and every iteration of the loop we move to the previous character in the string. Here is an example: def FirstReverse(str): return str[::-1] print (FirstReverse(input())) éå¸¸ç®€æ´str[::-1]å°±å¯ä»¥å®Œæˆç›®æ ‡ã€‚ ä¸‰ã€åˆ‡ç‰‡è¯¦è§£1ã€å–å­—ç¬¦ä¸²ä¸­ç¬¬å‡ ä¸ªå­—ç¬¦ &gt;&gt;&gt; &apos;hello&apos;[0]#è¡¨ç¤ºè¾“å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ &apos;h&apos; &gt;&gt;&gt; &apos;hello&apos;[-1]#è¡¨ç¤ºè¾“å‡ºå­—ç¬¦ä¸²ä¸­æœ€åä¸€ä¸ªå­—ç¬¦ &apos;o&apos; 2ã€å­—ç¬¦ä¸²åˆ†å‰² &gt;&gt;&gt; &apos;hello&apos;[1:3] &apos;el&apos; ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºåŸæ¥å­—ç¬¦ä¸²ä¸­çš„ä¸‹è¡¨ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºåˆ†å‰²åå‰©ä¸‹çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ åœ¨ åŸæ¥å­—ç¬¦ä¸²ä¸­çš„ä¸‹æ ‡ æ³¨æ„ï¼ŒPythonä»0å¼€å§‹è®¡æ•° 3ã€å‡ ç§ç‰¹æ®Šæƒ…å†µ &gt;&gt;&gt; &apos;hello&apos;[:3]#ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹æˆªå–ï¼Œç›´åˆ°æœ€å &apos;hel&apos; &gt;&gt;&gt; &apos;hello&apos;[0:]#ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹æˆªå–ï¼Œæˆªå–åˆ°æœ€å &apos;hello&apos; &gt;&gt;&gt; &apos;hello&apos;[:] &apos;hello&apos; 4ã€æ­¥é•¿æˆªå– &gt;&gt;&gt; &apos;abcde&apos;[::2]#è¡¨ç¤ºä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹æˆªå–ï¼Œé—´éš”2ä¸ªå­—ç¬¦å–ä¸€ä¸ªã€‚ &apos;ace&apos; &gt;&gt;&gt; &apos;abcde&apos;[::-2] &apos;eca&apos; &gt;&gt;&gt; &apos;abcde&apos;[::-1] &apos;edcba&apos; æ¨èé˜…è¯»ï¼š å®˜æ–¹æ–‡æ¡£https://docs.python.org/3/tutorial/introduction.html#strings å»–é›ªå³°çš„æ•™ç¨‹ http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431756919644a792ee4ead724ef7afab3f7f771b04f5000 æ›´å¤šè§£æ³•ï¼š def FirstReverse(str): # reversed(str) turns the string into an iterator object (similar to an array) # and reverses the order of the characters # then we join it with an empty string producing a final string for us return &apos;&apos;.join(reversed(str)) print(FirstReverse(input())) ä½¿ç”¨äº†ä»€ä¹ˆè¯­æ³•ï¼Ÿè¯„è®ºä¸­è§ã€‚","tags":[{"name":"Pythonè¯­æ³•","slug":"Pythonè¯­æ³•","permalink":"https://zhangslob.github.io/tags/Pythonè¯­æ³•/"},{"name":"åˆ‡ç‰‡ä»‹ç»","slug":"åˆ‡ç‰‡ä»‹ç»","permalink":"https://zhangslob.github.io/tags/åˆ‡ç‰‡ä»‹ç»/"}]},{"title":"æ•™ä½ å…è´¹æ­å»ºä¸ªäººåšå®¢ï¼ŒHexo&Github","date":"2017-02-28T12:01:50.000Z","path":"2017/02/28/æ•™ä½ å…è´¹æ­å»ºä¸ªäººåšå®¢ï¼ŒHexo-Github/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬äºŒç¯‡åŸåˆ›æ–‡ç«  è¯´åœ¨å‰é¢ï¼š ä¸ºä»€ä¹ˆè‡ªå·±æ­å»ºåšå®¢ï¼ŒçŸ¥ä¹ä¸è¡Œå—ï¼Ÿå¯ä»¥çœ‹çœ‹åˆ˜æœªé¹ | Mind Hacksï¼Œå‰äº›å¤©å‘å¸ƒäº†æŸç¯‡æ–‡ç« åº”è¯¥æ˜¯è¢«äººä¸¾æŠ¥äº†ï¼Œç»“æœçŸ¥ä¹å°±åˆ äº†ã€‚æœ‰è‡ªå·±çš„åšå®¢è‡ªç”±ï¼Œè‡ªåœ¨ã€‚æ›´å¤šè¯·çœ‹ä¸ºä»€ä¹ˆè¦è‡ªå»ºåšå®¢ï¼Ÿhttps://www.zhihu.com/question/19916345 è¯´åœ¨å‰é¢ï¼š ä¸ºä»€ä¹ˆè‡ªå·±æ­å»ºåšå®¢ï¼ŒçŸ¥ä¹ä¸è¡Œå—ï¼Ÿå¯ä»¥çœ‹çœ‹åˆ˜æœªé¹ | Mind Hacksï¼Œå‰äº›å¤©å‘å¸ƒäº†æŸç¯‡æ–‡ç« åº”è¯¥æ˜¯è¢«äººä¸¾æŠ¥äº†ï¼Œç»“æœçŸ¥ä¹å°±åˆ äº†ã€‚æœ‰è‡ªå·±çš„åšå®¢è‡ªç”±ï¼Œè‡ªåœ¨ã€‚æ›´å¤šè¯·çœ‹ä¸ºä»€ä¹ˆè¦è‡ªå»ºåšå®¢ï¼Ÿhttps://www.zhihu.com/question/19916345 æˆ‘ç”¨äº†å¤šä¹…æ‰å®Œæˆåšå®¢çš„æ­å»ºï¼Ÿä¸ç’æ‚¨è¯´ï¼Œæˆ‘èŠ±äº†æœ‰3å¤©æ—¶é—´ã€‚å¯¹ç€åˆ«äººçš„â€œ5åˆ†é’Ÿ æ­å»ºå…è´¹ä¸ªäººåšå®¢â€èŠ±äº†3å¤©æ‰å®Œæˆï¼Œä¸­é—´é‡åˆ°äº†æ— æ•°å›°éš¾ã€‚æŸ¥çœ‹å¾ˆå¤šèµ„æ–™ï¼Œæ‰€ä»¥å½“ä½ é‡åˆ°å›°éš¾ï¼Œåˆ«æ”¾å¼ƒï¼Œä»”ç»†çœ‹æ–‡æ¡£æˆ–èµ„æ–™ã€‚ ä¸ºäº†å‘å¸ƒè¿™ç¯‡æ•™ç¨‹ï¼Œé‡æ–°æ³¨å†Œäº†Githubï¼Œå´”æ–¯ç‰¹çš„åšå®¢https://zhangslob.github.io/è¿™ä¸ªæ˜¯æˆ‘è‡ªå·±çš„åšå®¢ï¼Œå´”æ–¯ç‰¹æµ‹è¯•æ‰€ç”¨åšå®¢https://zhihuya.github.io/è¿™ä¸ªæ˜¯æˆ‘ä¸€è¾¹å†™è¿™ç¯‡æ•™ç¨‹ä¸€è¾¹æ­å»ºçš„ã€‚æ‰€ä»¥å¦‚æœä½ ä¹Ÿå’Œæˆ‘ä¸€æ ·ï¼Œå–œæ¬¢è‡ªç”±ï¼Œå–œæ¬¢æ£è…¾ï¼Œé‚£å°±æ¥å§ã€‚ ç³»ç»Ÿï¼šwindows 7 64ä½ï¼Œç¼–è¾‘å™¨ï¼šsublime text3ï¼Œæ§åˆ¶å°ï¼šcmderæ­å»ºåšå®¢ä½¿ç”¨hexo+Github ä»€ä¹ˆæ˜¯ Hexoï¼Ÿhttps://hexo.io/zh-cn/docs/ Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚ ä¸€ã€é…ç½®Githubé¦–å…ˆæ³¨å†Œã€ç™»å½• https://github.com/ è®°ä½è‡ªå·±çš„Usernameï¼ˆå¾ˆé‡è¦ï¼‰ ç„¶åå³ä¸Šè§’é€‰æ‹© Create a new repository https://github.com/new Repository name ï¼ˆå¡«è‡ªå·±çš„åå­—ï¼‰ yourname.github.io(yournameä¸ä½ çš„æ³¨å†Œç”¨æˆ·åä¸€è‡´,è¿™ä¸ªå°±æ˜¯ä½ åšå®¢çš„åŸŸåäº†) ä¾‹å¦‚ï¼Œæˆ‘çš„åŸŸåæ˜¯github.com/zhihuyaï¼Œå°±å¡«å…¥zhihuya.github.ioã€‚æˆåŠŸåå‡ºç°ä¸‹é¢çš„ç”»é¢ äºŒã€ç¯å¢ƒå®‰è£…ï¼ˆnodeã€gitï¼‰1ã€å®‰è£… Node.js https://nodejs.org/en/ 2ã€å®‰è£… Git https://github.com/waylau/git-for-win Gitæ•™ç¨‹ https://github.com/waylau/git-for-winå»–é›ªå³°è€å¸ˆçš„æ•™ç¨‹ï¼Œéå¸¸å¥½ã€‚ 3ã€å®‰è£…å®Œæˆåï¼Œåœ¨å¼€å§‹èœå•é‡Œæ‰¾åˆ°â€œGitâ€-&gt;â€œGit Bashâ€ï¼Œåç§°å’Œé‚®ç®±æ˜¯Githubä¸Šçš„ 4ã€å®‰è£… Hexoã€‚æ‰€æœ‰å¿…å¤‡çš„åº”ç”¨ç¨‹åºå®‰è£…å®Œæˆåï¼Œå³å¯ä½¿ç”¨ npm å®‰è£… Hexoã€‚ $ npm install -g hexo-cli ï¼ˆä½¿ç”¨çš„cmderï¼Œè¶…çº§å¥½ç”¨~~ã€‚ç­‰å¾…æ—¶é—´å¯èƒ½æœ‰ç‚¹é•¿ï¼‰ å¥½äº†åˆ°è¿™ä¸€æ­¥æˆ‘ä»¬ç¯å¢ƒå…¨éƒ¨å®‰è£…å¥½äº†ã€‚ ä¸‰ã€è®¾ç½®åœ¨ç”µè„‘Fç›˜ï¼ˆè‡ªå·±éšæ„ï¼‰ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ testï¼Œè¿›å…¥testï¼ŒæŒ‰ä½Shifté”®ç‚¹å‡»é¼ æ ‡å³é”® å› ä¸ºæˆ‘æœ‰å®‰è£…Cmderï¼Œæ²¡æœ‰å®‰è£…çš„ç‚¹å‡»â€œåœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£â€ï¼Œè¾“å…¥ hexo init blog ç¨å¾®ç­‰å¾…ä¸‹ï¼Œé€Ÿåº¦æœ‰ç‚¹æ…¢ã€‚æˆåŠŸæç¤º INFO Start blogging with Hexo! å› ä¸ºä½ åˆå§‹åŒ–hexo ä¹‹åsourceç›®å½•ä¸‹è‡ªå¸¦ä¸€ç¯‡hello worldæ–‡ç« , æ‰€ä»¥ç›´æ¥æ‰§è¡Œä¸‹æ–¹å‘½ä»¤ $ hexo generate # å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ $ hexo server # åœ¨æµè§ˆå™¨è¾“å…¥ http://localhost:4000/å°±å¯ä»¥çœ‹è§ç½‘é¡µå’Œæ¨¡æ¿äº† INFO Start processing INFO Hexo is running at http://localhost:4000/. Press Ctrl+C to stop. è®¿é—®http://localhost:4000/ï¼Œä¾¿å¯ä»¥çœ‹åˆ°ç½‘ç«™åˆæ­¥çš„æ¨¡æ ·ï¼Œä¸è¦æ¿€åŠ¨ï¼Œæˆ‘ä»¬è¿˜è¦æŠŠç½‘é¡µå‘å¸ƒåˆ°Githubä¸Šå»ã€‚ é‡æ–°æ‰“å¼€CMDï¼Œè¾“å…¥ï¼š ssh-keygen -t rsa -C &quot;Githubçš„æ³¨å†Œé‚®ç®±åœ°å€&quot; ä¸€è·¯Enterè¿‡æ¥å°±å¥½ï¼Œå¾—åˆ°ä¿¡æ¯ï¼š Your public key has been saved in /c/Users/user/.ssh/id_rsa.pub. æ‰¾åˆ°è¯¥æ–‡ä»¶ï¼Œæ‰“å¼€ï¼ˆsublime textï¼‰ï¼ŒCtrl + aå¤åˆ¶é‡Œé¢çš„æ‰€æœ‰å†…å®¹ï¼Œç„¶åè¿›å…¥Sign in to GitHubï¼šhttps://github.com/settings/ssh New SSH key â€”â€”Titleï¼šblog â€”â€” Keyï¼šè¾“å…¥åˆšæ‰å¤åˆ¶çš„â€”â€” Add SSH key å››ã€é…ç½®åšå®¢åœ¨blogç›®å½•ä¸‹ï¼Œç”¨sublimeæ‰“å¼€_config.ymlæ–‡ä»¶ï¼Œä¿®æ”¹å‚æ•°ä¿¡æ¯ ç‰¹åˆ«æé†’ï¼Œåœ¨æ¯ä¸ªå‚æ•°çš„ï¼šåéƒ½è¦åŠ ä¸€ä¸ªç©ºæ ¼ ä¿®æ”¹ç½‘ç«™ç›¸å…³ä¿¡æ¯ title: å´”æ–¯ç‰¹æµ‹è¯•æ‰€ç”¨åšå®¢ subtitle: å‰¯æ ‡é¢˜ description: ç½‘é¡µæè¿° author: å´”æ–¯ç‰¹ language: zh-CN timezone: Asia/Shanghai é…ç½®éƒ¨ç½²ï¼ˆæˆ‘çš„æ˜¯zhihuyaï¼Œä¿®æ”¹æˆè‡ªå·±çš„ï¼‰ deploy: type: git repo: https://github.com/zhihuya/zhihuya.github.io.git branch: master äº”ã€å‘è¡¨æ–‡ç« åœ¨CMDä¸­è¾“å…¥ $ hexo new &quot;å´”æ–¯ç‰¹æµ‹è¯•æ–‡ç« &quot; INFO Created: F:\\test\\blog\\source\\_posts\\å´”æ–¯ç‰¹æµ‹è¯•æ–‡ç« .md æ‰¾åˆ°è¯¥æ–‡ç« ï¼Œæ‰“å¼€ï¼Œä½¿ç”¨Markdownè¯­æ³•ï¼Œè¯¥è¯­æ³•ä»‹ç»å¯ä»¥æŸ¥çœ‹https://zhangslob.github.io/2017/02/26/%E5%88%A9%E7%94%A8HEXO%E6%90%AD%E5%BB%BA%E7%9A%84%E5%8D%9A%E5%AE%A2/ --- title: å´”æ–¯ç‰¹æµ‹è¯•æ–‡ç«  date: 2017-02-28 13:03:44 tags: --- è¿™æ˜¯ä¸€ç¯‡æµ‹è¯•æ–‡ç« ï¼Œæ¬¢è¿å…³æ³¨ä½œè€…åšå®¢[1]: https://zhangslob.github.io/ ä¿å­˜ï¼Œç„¶åæ‰§è¡Œä¸‹åˆ—æ­¥éª¤ï¼š F:\\test\\blog $ hexo clean INFO Deleted database. INFO Deleted public folder. F:\\test\\blog $ hexo generate INFO Start processing INFO Files loaded in 1.48 s #çœç•¥ INFO 29 files generated in 4.27 s F:\\test\\blog $ hexo server INFO Start processing INFO Hexo is running at http://localhost:4000/. Press Ctrl+C to stop. è¿™ä¸ªæ—¶å€™ï¼Œæ‰“å¼€http://localhost:4000/ï¼Œå‘ç°åˆšæ‰çš„æ–‡ç« å·²ç»æˆåŠŸäº† æœ€åä¸€æ­¥ï¼Œå‘å¸ƒåˆ°ç½‘ä¸Šï¼Œæ‰§è¡Œï¼š F:\\test\\blog $ hexo deploy INFO Deploying: git INFO Clearing .deploy_git folder... INFO Copying files from public folder... #çœç•¥ å…¶ä¸­ä¼šè·³å‡ºGithubç™»å½•ï¼Œç›´æ¥ç™»å½•ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜è¾“å…¥zhihuyaï¼ˆæ¢æˆä½ çš„ï¼‰.github.io/ å´”æ–¯ç‰¹æµ‹è¯•æ‰€ç”¨åšå®¢https://zhihuya.github.io/ ç„¶åå°±å¯ä»¥çœ‹åˆ°å·²ç»å‘å¸ƒäº† å…­ã€æ€»ç»“å‘å¸ƒæ–‡ç« çš„æ­¥éª¤ï¼š 1ã€hexo new åˆ›å»ºæ–‡ç«  2ã€Markdownè¯­æ³•ç¼–è¾‘æ–‡ç«  3ã€éƒ¨ç½²ï¼ˆæ‰€æœ‰æ‰“å¼€CMDéƒ½æ˜¯åœ¨blogç›®å½•ä¸‹ï¼‰ hexo clean #æ¸…é™¤ç¼“å­˜ ç½‘é¡µæ­£å¸¸æƒ…å†µä¸‹å¯ä»¥å¿½ç•¥æ­¤æ¡å‘½ä»¤ hexo generate #ç”Ÿæˆ hexo server #å¯åŠ¨æœåŠ¡é¢„è§ˆï¼Œéå¿…è¦ï¼Œå¯æœ¬åœ°æµè§ˆç½‘é¡µ hexo deploy #éƒ¨ç½²å‘å¸ƒ ç®€å†™Tipsï¼š hexo n â€œæˆ‘çš„åšå®¢â€ == hexo new â€œæˆ‘çš„åšå®¢â€ #æ–°å»ºæ–‡ç«  hexo p == hexo publish hexo g == hexo generate#ç”Ÿæˆ hexo s == hexo server #å¯åŠ¨æœåŠ¡é¢„è§ˆ hexo d == hexo deploy#éƒ¨ç½² å¦‚æœåœ¨æ‰§è¡Œ hexo deploy å,å‡ºç° error deployer not found:github çš„é”™è¯¯ï¼Œæ‰§è¡Œï¼š npm install hexo-deployer-git --save å‡ºé”™æ˜¯æ­£å¸¸çš„ï¼Œå‡ºé”™äº†è‡ªå·±å…ˆç™¾åº¦æˆ–googleï¼Œå®åœ¨ä¸çŸ¥é“çš„å¯ä»¥è¯¢é—®æˆ‘ã€‚ æ‰˜ç®¡çš„è¯ä¸ä»…æœ‰githubå¯ä»¥ç”¨ï¼Œè¿˜æœ‰ä¸ªå›½å†…çš„https://coding.net/å¯é€‰ åˆ°è¿™é‡Œå·²ç»å®Œæˆäº†åšå®¢çš„æ­å»ºï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šéœ€è¦è®¾ç½®å’Œè°ƒæ•´çš„ã€‚è¿™æ˜¯æˆ‘çš„åšå®¢ï¼Œä¹Ÿè®¸ä½ ä¼šå‘ç°ï¼Œæˆ‘å’Œåˆšæ‰æ­å»ºçš„ä¸ä¸€æ ·ï¼Œå› ä¸ºæˆ‘ä¿®æ”¹äº†åšå®¢ä¸»é¢˜ï¼Œç®€æ´ã€ä¼˜ç¾ã€‚ ä¸»é¢˜ä»‹ç»https://github.com/litten/hexo-theme-yilia æ¬¢è¿å¤§å®¶å…³æ³¨ï¼Œå®šä¼šæœ‰æ›´å¤šç²¾å½© çŸ¥ä¹https://www.zhihu.com/people/cuishite åšå®¢https://zhangslob.github.io/","tags":[{"name":"ä¸ªäººåšå®¢","slug":"ä¸ªäººåšå®¢","permalink":"https://zhangslob.github.io/tags/ä¸ªäººåšå®¢/"},{"name":"Hexo&Github","slug":"Hexo-Github","permalink":"https://zhangslob.github.io/tags/Hexo-Github/"}]},{"title":"åˆ©ç”¨HEXOæ­å»ºçš„åšå®¢åŠMarkdownè¯­æ³•ä»‹ç»","date":"2017-02-26T09:20:57.000Z","path":"2017/02/26/åˆ©ç”¨HEXOæ­å»ºçš„åšå®¢/","text":"è¿™æ˜¯å´”æ–¯ç‰¹çš„ç¬¬ä¸€ç¯‡åŸåˆ›æ–‡ç«  Markdownçš„ä¸€äº›è¯­æ³• èŠ±äº†ä¸å°‘æ—¶é—´ã€‚ç»ˆäºæŠŠè‡ªå·±çš„ç¬¬ä¸€ä¸ªåšå®¢æ­å»ºæˆåŠŸäº†ã€‚ä½†æ˜¯é‡åˆ°æ–°é—®é¢˜ï¼Œå‘è¡¨æ–‡ç« éœ€è¦ä½¿ç”¨Markdownè¯­æ³•ï¼Œä¸‹é¢å°±æ¥è¯´è¯´ã€‚ Markdownçš„æ–‡æ¡£ä»‹ç»http://www.appinn.com/markdown/çœ‹çœ‹ç®€å•ä»‹ç»å°±å¯ä»¥äº†ï¼Œä»¥åæœ‰éœ€æ±‚å†å»å­¦ä¹ ã€‚ 1ã€æ ‡é¢˜å’Œå¼•ç”¨ã€‚Markdown æ”¯æŒä¸¤ç§æ ‡é¢˜çš„è¯­æ³•ï¼ŒSetext å’Œ atx å½¢å¼ã€‚Setext å½¢å¼æ˜¯ç”¨åº•çº¿çš„å½¢å¼ï¼Œåˆ©ç”¨ = ï¼ˆæœ€é«˜é˜¶æ ‡é¢˜ï¼‰å’Œ - ï¼ˆç¬¬äºŒé˜¶æ ‡é¢˜ï¼‰ï¼ŒAtx å½¢å¼åœ¨è¡Œé¦–æ’å…¥ 1 åˆ° 6 ä¸ª # ï¼Œå¯¹åº”åˆ°æ ‡é¢˜ 1 åˆ° 6 é˜¶ã€‚ åŒºå—å¼•ç”¨åˆ™ä½¿ç”¨ email å½¢å¼çš„ â€˜&gt;â€™ è§’æ‹¬å·ã€‚ å¦‚ä½ æ‰€è§ï¼Œå·¦è¾¹æ˜¯ç¼–è¾‘åŒºï¼Œå³è¾¹å¯ä»¥ç›´æ¥çœ‹åˆ°ç»“æœã€‚ç¼–è¾‘å™¨æ˜¯MarkdownPadï¼Œä¸‹è½½é“¾æ¥æ˜¯http://markdownpad.com/download.html 2ã€ä¿®è¾å’Œå¼ºè°ƒã€‚ 3ã€é“¾æ¥å’Œå›¾ç‰‡ã€‚ï¼ˆå¦‚æœä½ æœ‰ä¸‹è½½MarkdownPadè¿™ä¸ªç¼–è¾‘å™¨ï¼Œä¼šæ›´åŠ æ–¹ä¾¿å“¦ï¼‰ 4ã€åŠ å…¥ä»£ç ,ä½¿ç”¨å•å¼•å·ã€‚ è¿™äº›åº”è¯¥å¯ä»¥å¸®åŠ©æˆ‘å®Œæˆä¸€èˆ¬ä¹¦å†™ï¼Œå¥½çš„å‘¢ï¼Œç¬¬ä¸€ç¯‡æ–‡ç« å°±å®Œæˆäº†ã€‚ æ¬¢è¿è¯„è®ºã€‚ã€‚ äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘å­¦Python (à¹‘â€¢ . â€¢à¹‘) 2017/2/27 19:11:11","tags":[{"name":"é»‘é­”æ³•","slug":"é»‘é­”æ³•","permalink":"https://zhangslob.github.io/tags/é»‘é­”æ³•/"},{"name":"ä¸ªäººåšå®¢","slug":"ä¸ªäººåšå®¢","permalink":"https://zhangslob.github.io/tags/ä¸ªäººåšå®¢/"},{"name":"Markdownè¯­æ³•","slug":"Markdownè¯­æ³•","permalink":"https://zhangslob.github.io/tags/Markdownè¯­æ³•/"}]}]